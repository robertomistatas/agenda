/*! For license information please see main.80fed980.js.LICENSE.txt */
(()=>{"use strict";var e={49:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:x.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,E(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",function(e){return e})):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+I(a=e[u],u);l+=A(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,c=s+I(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},340:(e,t,n)=>{e.exports=n(761)},345:(e,t,n)=>{var r=n(950),i=n(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,V=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(zf){var r=zf}Reflect.construct(e,[],t)}else{try{t.call()}catch(zf){r=zf}e.call(t.prototype)}else{try{throw Error()}catch(zf){r=zf}e()}}catch(zf){if(zf&&r&&"string"===typeof zf.stack){for(var i=zf.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case T:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(iy){return e.body}}function Q(e,t){var n=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,ke=null;function Te(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),Se(e.stateNode,e.type,t))}}function _e(e){xe?ke?ke.push(e):ke=[e]:xe=e}function Ce(){if(xe){var e=xe,t=ke;if(ke=xe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==xe||null!==ke)&&(Ae(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Re=!1}function Oe(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Ve=null,Fe=!1,je=null,Ue={onError:function(e){Me=!0,Ve=e}};function Be(e,t,n,r,i,s,o,a,l){Me=!1,Ve=null,Oe.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,xt,kt,Tt,_t=!1,Ct=[],It=null,At=null,Nt=null,Pt=new Map,Dt=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Vt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Tt(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){_t=!1,null!==It&&Ft(It)&&(It=null),null!==At&&Ft(At)&&(At=null),null!==Nt&&Ft(Nt)&&(Nt=null),Pt.forEach(jt),Dt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Vt(n),null===n.blockedOn&&Rt.shift()}var $t=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=wt,s=$t.transition;$t.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,$t.transition=s}}function Wt(e,t,n,r){var i=wt,s=$t.transition;$t.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,$t.transition=s}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Mt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&Et(s),null===(s=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=Ee(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=V({},un,{view:0,detail:0}),dn=sn(hn),fn=V({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(V({},fn,{dataTransfer:0})),gn=sn(V({},hn,{relatedTarget:0})),vn=sn(V({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=V({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(V({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Tn(){return kn}var _n=V({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(_n),In=sn(V({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(V({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Nn=sn(V({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=V({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Pn),Rn=[9,13,27,32],Ln=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Mn=c&&"TextEvent"in window&&!On,Vn=c&&(!Ln||On&&8<On&&11>=On),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Fr(e,0)}function Qn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,Ee(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},xr={},kr={};function Tr(e){if(xr[e])return xr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return xr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var _r=Tr("animationend"),Cr=Tr("animationiteration"),Ir=Tr("animationstart"),Ar=Tr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Lr=Pr[Rr];Dr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Dr(_r,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Vr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Be.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Ve;Me=!1,Ve=null,Fe||(Fe=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Vr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Vr(i,a,u),s=l}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe(function(){var r=s,i=Ee(n),o=[];e:{var a=Nr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case _r:case Cr:case Ir:l=vn;break;case Ar:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&c.push(Hr(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==u?a:bi(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Kr(c),d=Kr(d)}c=null}else c=null;null!==l&&Gr(o,a,l,c,!1),null!==u&&null!==h&&Gr(o,h,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(qn(a))if(Xn)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Vn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(v=Wr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Bn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=De(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=De(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=De(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[fi]||null}var Si=[],xi=-1;function ki(e){return{current:e}}function Ti(e){0>xi||(e.current=Si[xi],Si[xi]=null,xi--)}function _i(e,t){xi++,Si[xi]=e.current,e.current=t}var Ci={},Ii=ki(Ci),Ai=ki(!1),Ni=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ai),Ti(Ii)}function Li(e,t,n){if(Ii.current!==Ci)throw Error(s(168));_i(Ii,t),_i(Ai,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return V({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ii.current,_i(Ii,e),_i(Ai,Ai.current),!0}function Vi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(Ii),_i(Ii,e)):Ti(Ai),_i(Ai,n)}var Fi=null,ji=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,zi),i}finally{wt=t,Ui=!1}}return null}var $i=[],qi=0,Hi=null,Wi=0,Ki=[],Gi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){$i[qi++]=Wi,$i[qi++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=$i[--qi],$i[qi]=null,Wi=$i[--qi],$i[qi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=Fu(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ou(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return is&&Ji(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),is&&Ji(i,m),u}function g(i,a,l,u){var c=O(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,u);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Ji(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return is&&Ji(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===x){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&ys(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=gs(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((s=Ou(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lu(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fu(o,r.mode,l)).return=r,r=s}return a(r);case D:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(O(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Vu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var bs=ws(!0),Es=ws(!1),Ss=ki(null),xs=null,ks=null,Ts=null;function _s(){Ts=ks=xs=null}function Cs(e){var t=Ss.current;Ti(Ss),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){xs=e,Ts=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ns(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===xs)throw Error(s(308));ks=e,xs.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ps=null;function Ds(e){null===Ps?Ps=[e]:Ps.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ds(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ls(e,n)}return null===(i=r.interleaved)?(t.next=t,Ds(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ls(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=V({},h,d);break e;case 2:Os=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=h}}function $s(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Hs=ki(qs),Ws=ki(qs),Ks=ki(qs);function Gs(e){if(e===qs)throw Error(s(174));return e}function Qs(e,t){switch(_i(Ks,t),_i(Ws,e),_i(Hs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Hs),_i(Hs,t)}function Ys(){Ti(Hs),Ti(Ws),Ti(Ks)}function Xs(e){Gs(Ks.current);var t=Gs(Hs.current),n=le(t,e.type);t!==n&&(_i(Ws,e),_i(Hs,n))}function Js(e){Ws.current===e&&(Ti(Hs),Ti(Ws))}var Zs=ki(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function wo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,oo.lanes|=h,Ml|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ml|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(){}function ko(e,t){var n=oo,r=wo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,_o.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&so)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _o(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Ao(e)}function Co(e,t,n){return n(function(){Io(t)&&Ao(e)})}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=Ls(e,1);null!==t&&nu(t,e,1,-1)}function No(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return wo().memoizedState}function Ro(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=wo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Po(t,n,s,r))}oo.flags|=e,i.memoizedState=Po(1|t,n,s,r)}function Oo(e,t){return Ro(8390656,8,e,t)}function Mo(e,t){return Lo(2048,8,e,t)}function Vo(e,t){return Lo(4,2,e,t)}function Fo(e,t){return Lo(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,jo.bind(null,t,e),n)}function Bo(){}function zo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ho(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{wt=n,io.transition=r}}function Wo(){return wo().memoizedState}function Ko(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Yo(t,n);else if(null!==(n=Rs(e,t,n,r))){nu(n,e,r,eu()),Xo(n,t,r)}}function Go(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Yo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ds(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(zf){}null!==(n=Rs(e,t,i,r))&&(nu(n,e,r,i=eu()),Xo(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Ns,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ns,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ns,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:No,useDebugValue:Bo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=Ho.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&so)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Oo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,_o.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Al.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ns,useCallback:zo,useContext:Ns,useEffect:Mo,useImperativeHandle:Uo,useInsertionEffect:Vo,useLayoutEffect:Fo,useMemo:$o,useReducer:Eo,useRef:Do,useState:function(){return Eo(bo)},useDebugValue:Bo,useDeferredValue:function(e){return qo(wo(),ao.memoizedState,e)},useTransition:function(){return[Eo(bo)[0],wo().memoizedState]},useMutableSource:xo,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1},ta={readContext:Ns,useCallback:zo,useContext:Ns,useEffect:Mo,useImperativeHandle:Uo,useInsertionEffect:Vo,useLayoutEffect:Fo,useMemo:$o,useReducer:So,useRef:Do,useState:function(){return So(bo)},useDebugValue:Bo,useDeferredValue:function(e){var t=wo();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[So(bo)[0],wo().memoizedState]},useMutableSource:xo,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=V({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:V({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=js(e,s,i))&&(nu(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=js(e,s,i))&&(nu(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=js(e,i,r))&&(nu(t,e,r,n),Us(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ns(s):(i=Di(t)?Ni:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ns(s):(s=Di(t)?Ni:Ii.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),ha(0,t)},n}function pa(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,js(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?Es(t,null,n,r):bs(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return As(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||wa?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Du(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Ru(s,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return _a(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,_i(Rl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_i(Rl,Dl),Dl|=r;return ba(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _a(e,t,n,r,i){var s=Di(n)?Ni:Ii.current;return s=Pi(t,s),As(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||wa?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ca(e,t,n,r,i){if(Di(n)){var s=!0;Mi(t)}else s=!1;if(As(t,i),null===t.stateNode)$a(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ns(u):u=Pi(t,u=Di(n)?Ni:Ii.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),Os=!1;var d=t.memoizedState;o.state=d,zs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Os?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Os||sa(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Vs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ns(l):l=Pi(t,l=Di(n)?Ni:Ii.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Os=!1,d=t.memoizedState,o.state=d,zs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Os?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(u=Os||sa(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Vi(t,n,!1),qa(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Vi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Qs(e,t.containerInfo)}function Na(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Da,Ra,La,Oa={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Va(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mu(l,i,0,null),e=Ou(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=Oa,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,ja(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(o=Ou(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Oa,o);if(0===(1&t.mode))return ja(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,ja(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ls(e,i),nu(r,e,i,-1))}return mu(),ja(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ru(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ru(r,a):(a=Ou(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,i}return e=(a=e.child).sibling,i=Ru(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ja(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Di(t.type)&&Ri(),Wa(t),null;case 3:return r=t.stateNode,Ys(),Ti(Ai),Ti(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Da(e,t),Wa(t),null;case 5:Js(t);var i=Gs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wa(t),null}if(e=Gs(Hs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)jr(Or[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)jr(Or[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=V({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&w(e,o,c,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs(Hs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wa(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ll&&(Ll=3):mu())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Ys(),Da(e,t),null===e&&zr(t.stateNode.containerInfo),Wa(t),null;case 10:return Cs(t.type._context),Wa(t),null;case 19:if(Ti(Zs),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ha(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ha(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zl&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Wa(t),null}else 2*Xe()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,_i(Zs,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ga(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Ti(Ai),Ti(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Ys(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(Hs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=V({},i,{value:void 0}),r=V({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&jr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Ya=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){ku(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ku(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,dl(e,t,n),Ya=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach(function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));fl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(zf){ku(i,t,zf)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){ku(e,e.return,g)}try{nl(5,e,e.return)}catch(g){ku(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){ku(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),we(l,a);var c=we(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){ku(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){ku(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){ku(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(c=Ya)||h,ml(t,e),Ya=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){ku(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Ja=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){ku(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ku(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(Ff){ku(e,e.return,Ff)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Qa;var u=Ya;if(Qa=o,(Ya=l)&&!u)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?Sl(i):null!==l?(l.return=o,Ja=l):Sl(i);for(;null!==s;)Ja=s,wl(s,t,n),s=s.sibling;Ja=i,Qa=a,Ya=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&$s(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$s(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&il(t)}catch(Xf){ku(t,t.return,Xf)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function El(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(Ff){ku(t,n,Ff)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Ff){ku(t,i,Ff)}}var s=t.return;try{il(t)}catch(Ff){ku(t,s,Ff)}break;case 5:var o=t.return;try{il(t)}catch(Ff){ku(t,o,Ff)}}}catch(Ff){ku(t,t.return,Ff)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var xl,kl=Math.ceil,Tl=b.ReactCurrentDispatcher,_l=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Il=0,Al=null,Nl=null,Pl=0,Dl=0,Rl=ki(0),Ll=0,Ol=null,Ml=0,Vl=0,Fl=0,jl=null,Ul=null,Bl=0,zl=1/0,$l=null,ql=!1,Hl=null,Wl=null,Kl=!1,Gl=null,Ql=0,Yl=0,Xl=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Il)?Xe():-1!==Jl?Jl:Jl=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===Al||(e===Al&&(0===(2&Il)&&(Vl|=n),4===Ll&&au(e,Pl)),ru(e,r),1===n&&0===Il&&0===(1&t.mode)&&(zl=Xe()+500,ji&&zi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Al?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(lu.bind(null,e)):Bi(lu.bind(null,e)),oi(function(){0===(6&Il)&&zi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Il;Il|=2;var o=pu();for(Al===e&&Pl===t||($l=null,zl=Xe()+500,du(e,t));;)try{yu();break}catch(l){fu(e,l)}_s(),Tl.current=o,Il=i,null!==Nl?t=0:(Al=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Ol,du(e,0),au(e,r),ru(e,Xe()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=pt(e))&&(r=o,t=su(e,o))),1===t))throw n=Ol,du(e,0),au(e,r),ru(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Eu(e,Ul,$l);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Eu.bind(null,e,Ul,$l),t);break}Eu(e,Ul,$l);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Eu.bind(null,e,Ul,$l),r);break}Eu(e,Ul,$l);break;default:throw Error(s(329))}}}return ru(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Ul,Ul=n,null!==t&&ou(t)),e}function ou(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function au(e,t){for(t&=~Fl,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Il))throw Error(s(327));Su();var t=dt(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ol,du(e,0),au(e,t),ru(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Ul,$l),ru(e,Xe()),null}function uu(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(zl=Xe()+500,ji&&zi())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Il)&&Su();var t=Il;Il|=1;var n=Cl.transition,r=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=r,Cl.transition=n,0===(6&(Il=t))&&zi()}}function hu(){Dl=Rl.current,Ti(Rl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ys(),Ti(Ai),Ti(Ii),no();break;case 5:Js(r);break;case 4:Ys();break;case 13:case 19:Ti(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Al=e,Nl=e=Ru(e.current,null),Pl=Dl=t,Ll=0,Ol=null,Fl=Vl=Ml=0,Ul=jl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ps=null}return e}function fu(e,t){for(;;){var n=Nl;try{if(_s(),ro.current=Jo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,_l.current=null,null===n||null===n.return){Ll=1,Ol=t,Nl=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ma(o,c,t),mu();break e}u=Error(s(426))}else if(is&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),ps(ua(u,l));break e}}o=u=ua(u,l),4!==Ll&&(Ll=2),null===jl?jl=[o]:jl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,fa(0,u,t));break e;case 1:l=u;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Wl||!Wl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(tp){t=tp,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pu(){var e=Tl.current;return Tl.current=Jo,null===e?Jo:e}function mu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Ml)&&0===(268435455&Vl)||au(Al,Pl)}function gu(e,t){var n=Il;Il|=2;var r=pu();for(Al===e&&Pl===t||($l=null,du(e,t));;)try{vu();break}catch(i){fu(e,i)}if(_s(),Il=n,Tl.current=r,null!==Nl)throw Error(s(261));return Al=null,Pl=0,Ll}function vu(){for(;null!==Nl;)wu(Nl)}function yu(){for(;null!==Nl&&!Qe();)wu(Nl)}function wu(e){var t=xl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bu(e):Nl=t,_l.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Dl)))return void(Nl=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ll=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Eu(e,t,n){var r=wt,i=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,n,r){do{Su()}while(null!==Gl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Al&&(Nl=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Au(tt,function(){return Su(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=wt;wt=1;var l=Il;Il|=4,_l.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(km){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(km){ku(t,t.return,km)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Il=l,wt=a,Cl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Ql=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&Su(),o=e.pendingLanes,0!==(1&o)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,zi()}(e,t,n,r)}finally{Cl.transition=i,wt=r}return null}function Su(){if(null!==Gl){var e=bt(Ql),t=Cl.transition,n=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ja=c;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===c){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ja=y;break e}Ja=o.return}}var w=e.current;for(Ja=w;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=w;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(tp){ku(l,l.return,tp)}if(l===a){Ja=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Ja=E;break e}Ja=l.return}}if(Il=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(tp){}r=!0}return r}finally{wt=n,Cl.transition=t}}return!1}function xu(e,t,n){e=js(e,t=fa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function ku(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=js(t,e=pa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Xe()-Bl?du(e,0):Fl|=n),ru(e,t)}function _u(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ls(e,t))&&(vt(e,t,n),ru(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_u(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),_u(e,n)}function Au(e,t){return Ke(e,t)}function Nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Nu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Du(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Ou(n.children,i,o,t);case k:a=8,i|=8;break;case T:return(e=Pu(12,n,t,2|i)).elementType=T,e.lanes=o,e;case A:return(e=Pu(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pu(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Mu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:a=10;break e;case C:a=9;break e;case I:a=11;break e;case P:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ou(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Vu(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,s,o,a,l){return e=new ju(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Bu(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Oi(e,n,t)}return t}function zu(e,t,n,r,i,s,o,a,l){return(e=Uu(n,r,!0,e,0,s,0,a,l)).context=Bu(null),n=e.current,(s=Fs(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,js(n,s,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function $u(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=js(i,t,o))&&(nu(e,i,o,s),Us(e,i,o)),o}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:Xs(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Va(e,t,n):(_i(Zs,1&Zs.current),null!==(e=qa(e,t,n))?e.sibling:null);_i(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return qa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);As(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=_a(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Vs(e,t),zs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Na(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Va(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,_i(Ss,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ai.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Fs(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,As(t,n),r=r(i=Ns(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),$a(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,As(t,n),oa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return ka(e,t,n)}throw Error(s(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=qu(o);a.call(e)}}$u(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qu(o);s.call(e)}}var o=zu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qu(l);a.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),cu(function(){$u(t,l,n,r)}),l}(n,t,e,i,r);return qu(o)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$u(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){$u(null,e,null,null)}),t[pi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Vt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Xe()),0===(6&Il)&&(zl=Xe()+500,zi()))}break;case 13:cu(function(){var t=Ls(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Wu(e,1)}},St=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},xt=function(e){if(13===e.tag){var t=tu(e),n=Ls(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},kt=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uu,Ae=cu;var ec={usingClientEntryPoint:!1,Events:[wi,bi,Ei,_e,Ce,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(s(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},414:(e,t,n)=>{e.exports=n(654)},654:(e,t,n)=>{var r=n(950),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.jsx=u,t.jsxs=u},761:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,R(S);else{var t=r(c);null!==t&&L(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var s=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&L(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,k=!1,T=null,_=-1,C=5,I=-1;function A(){return!(t.unstable_now()-I<C)}function N(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?x():(k=!1,T=null)}}else k=!1}if("function"===typeof w)x=function(){w(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=N,x=function(){D.postMessage(null)}}else x=function(){v(N,0)};function R(e){T=e,k||(k=!0,x())}function L(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(y(_),_=-1):g=!0,L(E,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{e.exports=n(49)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(950),s=n.t(i,2),o=n(352),a=n(119),l=n.t(a,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const c="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,l=r.Pop,d=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:l,location:b.location,delta:t})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(u({},a.state,{idx:g}),""));let b={get action(){return l},get location(){return e(s,a)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),d=e,()=>{s.removeEventListener(c,y),d=null}},createHref:e=>t(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),g=v()+1;let u=f(i,g),c=b.createHref(i);try{a.pushState(u,"",c)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(c)}o&&d&&d({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),g=v();let s=f(i,g),u=b.createHref(i);a.replaceState(s,"",u),o&&d&&d({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=L(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=E(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=R(i);o=P(s[a],e,r)}return o}function E(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=j([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),E(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)}),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=S(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,k=3,T=2,_=1,C=10,I=-2,A=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=I),t&&(r+=T),n.filter(e=>!A(e)).reduce((e,t)=>e+(x.test(t)?k:""===t?_:C),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:j([s,c.pathname]),pathnameBase:U(j([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=j([s,c.pathnameBase]))}return o}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=u({},e),h(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:z(i)}}(i,s),c=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const j=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||h(!1),i.useContext(Y).location}function te(e){i.useContext(Q).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=fe(ce.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||h(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(Q),{matches:s}=i.useContext(X),{pathname:o}=ee(),a=JSON.stringify(V(s,n.v7_relativeSplatPath)),l=i.useRef(!1);te(()=>{l.current=!0});let u=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:j([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,a,o,e]);return u}()}function re(e,t,n,s){Z()||h(!1);let{navigator:o}=i.useContext(Q),{matches:a}=i.useContext(X),l=a[a.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||h(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==c){let e=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=w(e,{pathname:v});let b=le(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:j([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:j([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,s);return t&&b?i.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},b):b}function ie(){let e=function(){var e;let t=i.useContext(J),n=de(ce.UseRouteError),r=fe(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function le(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,r,s)=>{let o,h=!1,d=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||se,u&&(c<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),h=!0,f=null):c===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ae,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function he(e){let t=i.useContext(K);return t||h(!1),t}function de(e){let t=i.useContext(G);return t||h(!1),t}function fe(e){let t=function(){let e=i.useContext(X);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||h(!1);let{future:o,static:a}=i.useContext(Q),{matches:l}=i.useContext(X),{pathname:u}=ee(),c=ne(),d=F(t,V(l,o.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(d);return i.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function ve(e){h(!1)}function ye(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:u}=e;Z()&&h(!1);let c=t.replace(/^\/*/,"/"),d=i.useMemo(()=>({basename:c,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},u)}),[c,u,a,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,w=i.useMemo(()=>{let e=L(f,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:o}},[c,f,p,m,v,y,o]);return null==w?null:i.createElement(Q.Provider,{value:d},i.createElement(Y.Provider,{children:n,value:w}))}function we(e){let{children:t,location:n}=e;return re(be(t),n)}new Promise(()=>{});i.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,be(e.props.children,s));e.type!==ve&&h(!1),e.props.index&&e.props.children&&h(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,s)),n.push(o)}),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch($I){}new Map;const Ee=s.startTransition;l.flushSync,s.useId;function Se(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),v(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,a)));let l=o.current,[u,c]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=i.useCallback(e=>{h&&Ee?Ee(()=>c(e)):c(e)},[c,h]);return i.useLayoutEffect(()=>l.listen(d),[l,d]),i.useEffect(()=>me(r),[r]),i.createElement(ye,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var xe,ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xe||(xe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ke||(ke={}));const Te=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Te(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Ce;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(e){return function(e){const t=Te(e);return _e.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ae=function(e){try{return _e.decodeString(e,!0)}catch($I){console.error("base64Decode failed: ",$I)}return null};const Ne=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Pe=()=>{try{return Ne()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/agenda",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PWA_ENABLED:"true",REACT_APP_VERSION:"1.0.0"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($I){return}const t=e&&Ae(e[1]);return t&&JSON.parse(t)})()}catch($I){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$I}`)}},De=e=>{var t,n;return null===(n=null===(t=Pe())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Re=()=>{var e;return null===(e=Pe())||void 0===e?void 0:e.config},Le=e=>{var t;return null===(t=Pe())||void 0===t?void 0:t[`_${e}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Me(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ve(){try{return"object"===typeof indexedDB}catch($I){return!1}}function Fe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class je extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Be,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new je(n,s,t)}}const Be=/\{\$([^}]+)}/g;function ze(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if($e(n)&&$e(s)){if(!ze(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $e(e){return null!==e&&"object"===typeof e}function qe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function He(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function We(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ke{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ge),void 0===r.error&&(r.error=Ge),void 0===r.complete&&(r.complete=Ge);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch($I){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch($I){"undefined"!==typeof console&&console.error&&console.error($I)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ge(){}function Qe(e){return e&&e._delegate?e._delegate:e}class Ye{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xe="[DEFAULT]";class Je{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Oe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch($I){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch($I){if(r)return null;throw $I}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xe})}catch($I){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch($I){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Xe?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return this.component?this.component.multipleInstances?e:Xe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ze{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Je(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const et=[];var tt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(tt||(tt={}));const nt={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},rt=tt.INFO,it={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},st=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=it[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class ot{constructor(e){this.name=e,this._logLevel=rt,this._logHandler=st,this._userLogHandler=null,et.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?nt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...t),this._logHandler(this,tt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...t),this._logHandler(this,tt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tt.INFO,...t),this._logHandler(this,tt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tt.WARN,...t),this._logHandler(this,tt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...t),this._logHandler(this,tt.ERROR,...t)}}let at,lt;const ut=new WeakMap,ct=new WeakMap,ht=new WeakMap,dt=new WeakMap,ft=new WeakMap;let pt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ct.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ht.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(lt||(lt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yt(this),n),vt(ut.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vt(e.apply(yt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(yt(this),t,...r);return ht.set(s,t.sort?t.sort():[t]),vt(s)}}function gt(e){return"function"===typeof e?mt(e):(e instanceof IDBTransaction&&function(e){if(ct.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});ct.set(e,t)}(e),t=e,(at||(at=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,pt):e);var t}function vt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(vt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&ut.set(t,e)}).catch(()=>{}),ft.set(t,e),t}(e);if(dt.has(e))return dt.get(e);const t=gt(e);return t!==e&&(dt.set(e,t),ft.set(t,e)),t}const yt=e=>ft.get(e);const wt=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],Et=new Map;function St(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Et.get(t))return Et.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=bt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Et.set(t,s),s}pt=(e=>({...e,get:(t,n,r)=>St(t,n)||e.get(t,n,r),has:(t,n)=>!!St(t,n)||e.has(t,n)}))(pt);class xt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const kt="@firebase/app",Tt="0.9.13",_t=new ot("@firebase/app"),Ct="@firebase/app-compat",It="@firebase/analytics-compat",At="@firebase/analytics",Nt="@firebase/app-check-compat",Pt="@firebase/app-check",Dt="@firebase/auth",Rt="@firebase/auth-compat",Lt="@firebase/database",Ot="@firebase/database-compat",Mt="@firebase/functions",Vt="@firebase/functions-compat",Ft="@firebase/installations",jt="@firebase/installations-compat",Ut="@firebase/messaging",Bt="@firebase/messaging-compat",zt="@firebase/performance",$t="@firebase/performance-compat",qt="@firebase/remote-config",Ht="@firebase/remote-config-compat",Wt="@firebase/storage",Kt="@firebase/storage-compat",Gt="@firebase/firestore",Qt="@firebase/firestore-compat",Yt="firebase",Xt="[DEFAULT]",Jt={[kt]:"fire-core",[Ct]:"fire-core-compat",[At]:"fire-analytics",[It]:"fire-analytics-compat",[Pt]:"fire-app-check",[Nt]:"fire-app-check-compat",[Dt]:"fire-auth",[Rt]:"fire-auth-compat",[Lt]:"fire-rtdb",[Ot]:"fire-rtdb-compat",[Mt]:"fire-fn",[Vt]:"fire-fn-compat",[Ft]:"fire-iid",[jt]:"fire-iid-compat",[Ut]:"fire-fcm",[Bt]:"fire-fcm-compat",[zt]:"fire-perf",[$t]:"fire-perf-compat",[qt]:"fire-rc",[Ht]:"fire-rc-compat",[Wt]:"fire-gcs",[Kt]:"fire-gcs-compat",[Gt]:"fire-fst",[Qt]:"fire-fst-compat","fire-js":"fire-js",[Yt]:"fire-js-all"},Zt=new Map,en=new Map;function tn(e,t){try{e.container.addComponent(t)}catch($I){_t.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,$I)}}function nn(e){const t=e.name;if(en.has(t))return _t.debug(`There were multiple attempts to register component ${t}.`),!1;en.set(t,e);for(const n of Zt.values())tn(n,e);return!0}function rn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const sn=new Ue("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class on{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ye("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const an="9.23.0";function ln(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw sn.create("bad-app-name",{appName:String(i)});if(n||(n=Re()),!n)throw sn.create("no-options");const s=Zt.get(i);if(s){if(ze(n,s.options)&&ze(r,s.config))return s;throw sn.create("duplicate-app",{appName:i})}const o=new Ze(i);for(const l of en.values())o.addComponent(l);const a=new on(n,r,o);return Zt.set(i,a),a}function un(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;const t=Zt.get(e);if(!t&&e===Xt&&Re())return ln();if(!t)throw sn.create("no-app",{appName:e});return t}function cn(e,t,n){var r;let i=null!==(r=Jt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void _t.warn(e.join(" "))}nn(new Ye(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const hn="firebase-heartbeat-store";let dn=null;function fn(){return dn||(dn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=vt(o);return r&&o.addEventListener("upgradeneeded",e=>{r(vt(o.result),e.oldVersion,e.newVersion,vt(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(hn)}}).catch(e=>{throw sn.create("idb-open",{originalErrorMessage:e.message})})),dn}async function pn(e,t){try{const n=(await fn()).transaction(hn,"readwrite"),r=n.objectStore(hn);await r.put(t,mn(e)),await n.done}catch($I){if($I instanceof je)_t.warn($I.message);else{const t=sn.create("idb-set",{originalErrorMessage:null===$I||void 0===$I?void 0:$I.message});_t.warn(t.message)}}}function mn(e){return`${e.name}!${e.options.appId}`}class gn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=vn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=vn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),wn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ie(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function vn(){return(new Date).toISOString().substring(0,10)}class yn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ve()&&Fe().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await fn();return await t.transaction(hn).objectStore(hn).get(mn(e))}catch($I){if($I instanceof je)_t.warn($I.message);else{const t=sn.create("idb-get",{originalErrorMessage:null===$I||void 0===$I?void 0:$I.message});_t.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return pn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return pn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function wn(e){return Ie(JSON.stringify({version:2,heartbeats:e})).length}var bn;bn="",nn(new Ye("platform-logger",e=>new xt(e),"PRIVATE")),nn(new Ye("heartbeat",e=>new gn(e),"PRIVATE")),cn(kt,Tt,bn),cn(kt,Tt,"esm2017"),cn("fire-js","");function En(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Sn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xn=Sn,kn=new Ue("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tn=new ot("@firebase/auth");function _n(e){if(Tn.logLevel<=tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tn.error(`Auth (${an}): ${e}`,...n)}}function Cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Nn(e,...n)}function In(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Nn(e,...n)}function An(e,t,n){const r=Object.assign(Object.assign({},xn()),{[t]:n});return new Ue("auth","Firebase",r).create(t,{appName:e.name})}function Nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return kn.create(e,...n)}function Pn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Nn(t,...r)}}function Dn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw _n(t),new Error(t)}function Rn(e,t){e||Dn(t)}function Ln(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function On(){return"http:"===Mn()||"https:"===Mn()}function Mn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Vn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(On()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Fn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Vn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jn(e,t){Rn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Un{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zn=new Fn(3e4,6e4);function $n(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function qn(e,t,n,r){return Hn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=qe(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Un.fetch()(Kn(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))})}async function Hn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bn),t);try{const t=new Gn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Qn(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Qn(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Qn(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Qn(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw An(e,a,o);Cn(e,a)}}catch($I){if($I instanceof je)throw $I;Cn(e,"network-request-failed",{message:String($I)})}}async function Wn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await qn(e,t,n,r,i);return"mfaPendingCredential"in s&&Cn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Kn(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?jn(e.config,i):`${e.config.apiScheme}://${i}`}class Gn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(In(this.auth,"network-request-failed")),zn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=In(e,t,r);return i.customData._tokenResponse=n,i}function Yn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch($I){}}function Xn(e){return 1e3*Number(e)}function Jn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return _n("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ae(n);return e?JSON.parse(e):(_n("Failed to decode base64 JWT payload"),null)}catch($I){return _n("Caught error parsing JWT payload as JSON",null===$I||void 0===$I?void 0:$I.toString()),null}}async function Zn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch($I){throw $I instanceof je&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}($I)&&e.auth.currentUser===e&&await e.auth.signOut(),$I}}class er{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch($I){return void("auth/network-request-failed"===(null===$I||void 0===$I?void 0:$I.code)&&this.schedule(!0))}this.schedule()}}class tr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yn(this.lastLoginAt),this.creationTime=Yn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Zn(e,async function(e,t){return qn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Pn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=En(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const a=(l=e.providerData,u=o,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class rr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pn(e.idToken,"internal-error"),Pn("undefined"!==typeof e.idToken,"internal-error"),Pn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Jn(e);return Pn(t,"internal-error"),Pn("undefined"!==typeof t.exp,"internal-error"),Pn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Pn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Hn(e,{},async()=>{const n=qe({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Kn(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Un.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new rr;return n&&(Pn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Pn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Pn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rr,this.toJSON())}_performRefresh(){return Dn("not implemented")}}function ir(e,t){Pn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class sr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=En(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Zn(this,this.stsTokenManager.getToken(this.auth,e));return Pn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Qe(e),r=await n.getIdToken(t),i=Jn(r);Pn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yn(Xn(i.auth_time)),issuedAtTime:Yn(Xn(i.iat)),expirationTime:Yn(Xn(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Qe(e);await nr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Pn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await nr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Zn(this,async function(e,t){return qn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:S}=t;Pn(y&&S,e,"internal-error");const x=rr.fromJSON(this.name,S);Pn("string"===typeof y,e,"internal-error"),ir(c,e.name),ir(h,e.name),Pn("boolean"===typeof w,e,"internal-error"),Pn("boolean"===typeof b,e,"internal-error"),ir(d,e.name),ir(f,e.name),ir(p,e.name),ir(m,e.name),ir(g,e.name),ir(v,e.name);const k=new sr({uid:y,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(k.providerData=E.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new rr;r.updateFromServerResponse(t);const i=new sr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await nr(i),i}}const or=new Map;function ar(e){Rn(e instanceof Function,"Expected a class definition");let t=or.get(e);return t?(Rn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,or.set(e,t),t)}class lr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lr.type="NONE";const ur=lr;function cr(e,t,n){return`firebase:${e}:${t}:${n}`}class hr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=cr(this.userKey,r.apiKey,i),this.fullPersistenceKey=cr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new hr(ar(ur),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ar(ur);const s=cr(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=sr._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new hr(i,e,n)):new hr(i,e,n)}}function dr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yr(t))return"Blackberry";if(wr(t))return"Webos";if(pr(t))return"Safari";if((t.includes("chrome/")||mr(t))&&!t.includes("edge/"))return"Chrome";if(vr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/firefox\//i.test(e)}function pr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/crios\//i.test(e)}function gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/iemobile/i.test(e)}function vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/android/i.test(e)}function yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/blackberry/i.test(e)}function wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/webos/i.test(e)}function br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Er(){return function(){const e=Me();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return br(e)||vr(e)||wr(e)||yr(e)||/windows phone/i.test(e)||gr(e)}function xr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=dr(Me());break;case"Worker":t=`${dr(Me())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${an}/${r}`}async function kr(e,t){return qn(e,"GET","/v2/recaptchaConfig",$n(e,t))}function Tr(e){return void 0!==e&&void 0!==e.enterprise}class _r{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Cr(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=In("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Ir(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ar{constructor(e){this.type="recaptcha-enterprise",this.auth=Rr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Tr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{kr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new _r(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Tr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Cr("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Nr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ar(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Pr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch($I){r($I)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch($I){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===$I||void 0===$I?void 0:$I.message})}}}class Dr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lr(this),this.idTokenSubscription=new Lr(this),this.beforeStateQueue=new Pr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ar(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await hr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch($I){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch($I){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject($I))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch($I){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nr(e)}catch($I){if("auth/network-request-failed"!==(null===$I||void 0===$I?void 0:$I.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Qe(e):null;return t&&Pn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Pn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}async initializeRecaptchaConfig(){const e=await kr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new _r(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Ar(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ue("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ar(e)||this._popupRedirectResolver;Pn(t,this,"argument-error"),this.redirectPersistenceManager=await hr.create(this,[ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Pn(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Tn.logLevel<=tt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tn.warn(`Auth (${an}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Rr(e){return Qe(e)}class Lr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ke(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Pn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(e,t,n){const r=Rr(e);Pn(r._canInitEmulator,r,"emulator-config-failed"),Pn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Mr(t),{host:o,port:a}=function(e){const t=Mr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Vr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Vr(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Fr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Dn("not implemented")}_getIdTokenResponse(e){return Dn("not implemented")}_linkToIdToken(e,t){return Dn("not implemented")}_getReauthenticationResolver(e){return Dn("not implemented")}}async function jr(e,t){return qn(e,"POST","/v1/accounts:update",t)}async function Ur(e,t){return Wn(e,"POST","/v1/accounts:signInWithPassword",$n(e,t))}class Br extends Fr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Br(e,t,"password")}static _fromEmailAndCode(e,t){return new Br(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Nr(e,n,"signInWithPassword");return Ur(e,t)}return Ur(e,n).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Nr(e,n,"signInWithPassword");return Ur(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return Wn(e,"POST","/v1/accounts:signInWithEmailLink",$n(e,t))}(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return jr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Wn(e,"POST","/v1/accounts:signInWithEmailLink",$n(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zr(e,t){return Wn(e,"POST","/v1/accounts:signInWithIdp",$n(e,t))}class $r extends Fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=En(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new $r(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return zr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qe(t)}return e}}const qr={USER_NOT_FOUND:"user-not-found"};class Hr extends Fr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Hr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Hr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Wn(e,"POST","/v1/accounts:signInWithPhoneNumber",$n(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Wn(e,"POST","/v1/accounts:signInWithPhoneNumber",$n(e,t));if(n.temporaryProof)throw Qn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Wn(e,"POST","/v1/accounts:signInWithPhoneNumber",$n(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),qr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Hr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Wr{constructor(e){var t,n,r,i,s,o;const a=He(We(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Pn(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=He(We(e)).link,n=t?He(We(t)).deep_link_id:null,r=He(We(e)).deep_link_id;return(r?He(We(r)).link:null)||r||n||t||e}(e);try{return new Wr(t)}catch(n){return null}}}class Kr{constructor(){this.providerId=Kr.PROVIDER_ID}static credential(e,t){return Br._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Wr.parseLink(t);return Pn(n,"argument-error"),Br._fromEmailAndCode(e,n.code,n.tenantId)}}Kr.PROVIDER_ID="password",Kr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Kr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Gr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qr extends Gr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yr extends Qr{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch(n){return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Yr.PROVIDER_ID="facebook.com";class Xr extends Qr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $r._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xr.credential(n,r)}catch(i){return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com",Xr.PROVIDER_ID="google.com";class Jr extends Qr{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Jr.credential(t.oauthAccessToken)}catch(n){return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com",Jr.PROVIDER_ID="github.com";class Zr extends Qr{constructor(){super("twitter.com")}static credential(e,t){return $r._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Zr.credential(n,r)}catch(i){return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com",Zr.PROVIDER_ID="twitter.com";class ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await sr._fromIdTokenResponse(e,n,r),s=ti(n);return new ei({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ti(n);return new ei({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ti(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ni extends je{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ni.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ni(e,t,n,r)}}function ri(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw ni._fromErrorAndOperation(e,n,t,r);throw n})}async function ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Zn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ei._forOperation(e,"link",r)}async function si(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Zn(e,ri(r,i,t,e),n);Pn(s.idToken,r,"internal-error");const o=Jn(s.idToken);Pn(o,r,"internal-error");const{sub:a}=o;return Pn(e.uid===a,r,"user-mismatch"),ei._forOperation(e,i,s)}catch($I){throw"auth/user-not-found"===(null===$I||void 0===$I?void 0:$I.code)&&Cn(r,"user-mismatch"),$I}}async function oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await ri(e,r,t),s=await ei._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ai(e,t){return oi(Rr(e),t)}new WeakMap;const li="__sak";class ui{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(li,"1"),this.storage.removeItem(li),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ci extends ui{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Me();return pr(e)||br(e)}()&&function(){try{return!(!window||window===window.top)}catch($I){return!1}}(),this.fallbackToPolling=Sr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Er()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ci.type="LOCAL";const hi=ci;class di extends ui{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}di.type="SESSION";const fi=di;class pi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new pi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pi.receivers=[];class gi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=mi("",20);r.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function vi(){return window}function yi(){return"undefined"!==typeof vi().WorkerGlobalScope&&"function"===typeof vi().importScripts}const wi="firebaseLocalStorageDb",bi="firebaseLocalStorage",Ei="fbase_key";class Si{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xi(e,t){return e.transaction([bi],t?"readwrite":"readonly").objectStore(bi)}function ki(){const e=indexedDB.open(wi,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(bi,{keyPath:Ei})}catch($I){n($I)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(bi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(wi);return new Si(e).toPromise()}(),t(await ki()))})})}async function Ti(e,t,n){const r=xi(e,!0).put({[Ei]:t,value:n});return new Si(r).toPromise()}function _i(e,t){const n=xi(e,!0).delete(t);return new Si(n).toPromise()}class Ci{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ki()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch($I){if(t++>3)throw $I;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pi._getInstance(yi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new gi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ki();return await Ti(e,li,"1"),await _i(e,li),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ti(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=xi(e,!1).get(t),r=await new Si(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_i(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=xi(e,!1).getAll();return new Si(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ci.type="LOCAL";const Ii=Ci;Ir("rcb"),new Fn(3e4,6e4);const Ai="recaptcha";async function Ni(e,t,n){var r;const i=await n.verify();try{let s;if(Pn("string"===typeof i,e,"argument-error"),Pn(n.type===Ai,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Pn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return qn(e,"POST","/v2/accounts/mfaEnrollment:start",$n(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Pn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Pn(n,e,"missing-multi-factor-info");const o=await function(e,t){return qn(e,"POST","/v2/accounts/mfaSignIn:start",$n(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return qn(e,"POST","/v1/accounts:sendVerificationCode",$n(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Pi{constructor(e){this.providerId=Pi.PROVIDER_ID,this.auth=Rr(e)}verifyPhoneNumber(e,t){return Ni(this.auth,e,Qe(t))}static credential(e,t){return Hr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pi.credentialFromTaggedObject(t)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Hr._fromTokenResponse(n,r):null}}function Di(e,t){return t?ar(t):(Pn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Pi.PROVIDER_ID="phone",Pi.PHONE_SIGN_IN_METHOD="phone";class Ri extends Fr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Li(e){return oi(e.auth,new Ri(e),e.bypassAuthState)}function Oi(e){const{auth:t,user:n}=e;return Pn(n,t,"internal-error"),si(n,new Ri(e),e.bypassAuthState)}async function Mi(e){const{auth:t,user:n}=e;return Pn(n,t,"internal-error"),ii(n,new Ri(e),e.bypassAuthState)}class Vi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch($I){this.reject($I)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch($I){this.reject($I)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Li;case"linkViaPopup":case"linkViaRedirect":return Mi;case"reauthViaPopup":case"reauthViaRedirect":return Oi;default:Cn(this.auth,"internal-error")}}resolve(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fi=new Fn(2e3,1e4);class ji extends Vi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ji.currentPopupAction&&ji.currentPopupAction.cancel(),ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pn(e,this.auth,"internal-error"),e}async onExecution(){Rn(1===this.filter.length,"Popup operations only handle one event");const e=mi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Fi.get())};e()}}ji.currentPopupAction=null;const Ui=new Map;class Bi extends Vi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ui.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=qi(t),r=$i(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch($I){e=()=>Promise.reject($I)}Ui.set(this.auth._key(),e)}return this.bypassAuthState||Ui.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function zi(e,t){Ui.set(e._key(),t)}function $i(e){return ar(e._redirectPersistence)}function qi(e){return cr("pendingRedirect",e.config.apiKey,e.name)}async function Hi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Rr(e),i=Di(r,t),s=new Bi(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Wi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Gi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(In(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ki(e))}saveEventToCache(e){this.cachedEventUids.add(Ki(e)),this.lastProcessedEventTime=Date.now()}}function Ki(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Gi(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Qi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yi=/^https?/;async function Xi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return qn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ji(r))return}catch(n){}Cn(e,"unauthorized-domain")}function Ji(e){const t=Ln(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Yi.test(n))return!1;if(Qi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Zi=new Fn(3e4,6e4);function es(){const e=vi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ts=null;function ns(e){return ts=ts||function(e){return new Promise((t,n)=>{var r,i,s;function o(){es(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{es(),n(In(e,"network-request-failed"))},timeout:Zi.get()})}if(null===(i=null===(r=vi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=vi().gapi)||void 0===s?void 0:s.load)){const t=Ir("iframefcb");return vi()[t]=()=>{gapi.load?o():n(In(e,"network-request-failed"))},Cr(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw ts=null,e})}(e),ts}const rs=new Fn(5e3,15e3),is={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ss=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function os(e){const t=e.config;Pn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?jn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:an},i=ss.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qe(r).slice(1)}`}const as={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ls{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch($I){}}}function us(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},as),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Me().toLowerCase();n&&(a=mr(u)?"_blank":n),fr(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return br(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ls(null);const h=window.open(t||"",a,c);Pn(h,e,"popup-blocked");try{h.focus()}catch($I){}return new ls(h)}const cs="__/auth/handler",hs="emulator/auth/handler",ds=encodeURIComponent("fac");async function fs(e,t,n,r,i,s){Pn(e.config.authDomain,e,"auth-domain-config-required"),Pn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:an,eventId:i};if(t instanceof Gr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Qr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${ds}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${cs}`;return jn(t,hs)}(e)}?${qe(a).slice(1)}${u}`}const ps="webStorageSupport";const ms=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fi,this._completeRedirectFn=Hi,this._overrideRedirectResult=zi}async _openPopup(e,t,n,r){var i;Rn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return us(e,await fs(e,t,n,Ln(),r),mi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vi().location.href=e}(await fs(e,t,n,Ln(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Rn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await ns(e),n=vi().gapi;return Pn(n,e,"internal-error"),t.open({where:document.body,url:os(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:is,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=In(e,"network-request-failed"),s=vi().setTimeout(()=>{r(i)},rs.get());function o(){vi().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new Wi(e);return t.register("authEvent",t=>{Pn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ps,{type:ps},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ps];void 0!==i&&t(!!i),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Xi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Sr()||pr()||br()}};var gs="@firebase/auth",vs="0.23.2";class ys{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ws=Le("authIdTokenMaxAge")||300;let bs=null;var Es;Es="Browser",nn(new Ye("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Es,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xr(Es)},u=new Dr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),nn(new Ye("auth-internal",e=>(e=>new ys(e))(Rr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),cn(gs,vs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Es)),cn(gs,vs,"esm2017");var Ss=e=>"checkbox"===e.type,xs=e=>e instanceof Date,ks=e=>null==e;const Ts=e=>"object"===typeof e;var _s=e=>!ks(e)&&!Array.isArray(e)&&Ts(e)&&!xs(e),Cs=e=>_s(e)&&e.target?Ss(e.target)?e.target.checked:e.target.value:e,Is=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),As="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Ns(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(As&&(e instanceof Blob||r)||!n&&!_s(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return _s(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ns(e[n]));else t=e}return t}var Ps=e=>/^\w*$/.test(e),Ds=e=>void 0===e,Rs=e=>Array.isArray(e)?e.filter(Boolean):[],Ls=e=>Rs(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Os=(e,t,n)=>{if(!t||!_s(e))return n;const r=(Ps(t)?[t]:Ls(t)).reduce((e,t)=>ks(e)?e:e[t],e);return Ds(r)||r===e?Ds(e[t])?n:e[t]:r},Ms=e=>"boolean"===typeof e,Vs=(e,t,n)=>{let r=-1;const i=Ps(t)?[t]:Ls(t),s=i.length,o=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==o){const n=e[t];s=_s(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const Fs="blur",js="focusout",Us="onBlur",Bs="onChange",zs="onSubmit",$s="onTouched",qs="all",Hs="max",Ws="min",Ks="maxLength",Gs="minLength",Qs="pattern",Ys="required",Xs="validate",Js=i.createContext(null);Js.displayName="HookFormContext";var Zs=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==qs&&(t._proxyFormState[i]=!r||qs),n&&(n[i]=!0),e[i]}});return i};const eo="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var to=e=>"string"===typeof e,no=(e,t,n,r,i)=>to(e)?(r&&t.watch.add(e),Os(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),Os(n,e))):(r&&(t.watchAll=!0),n),ro=e=>ks(e)||!Ts(e);function io(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(ro(e)||ro(t))return e===t;if(xs(e)&&xs(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const r=e[s];if(!i.includes(s))return!1;if("ref"!==s){const e=t[s];if(xs(r)&&xs(e)||_s(r)&&_s(e)||Array.isArray(r)&&Array.isArray(e)?!io(r,e,n):r!==e)return!1}}return!0}var so=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},oo=e=>Array.isArray(e)?e:[e],ao=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},lo=e=>_s(e)&&!Object.keys(e).length,uo=e=>"file"===e.type,co=e=>"function"===typeof e,ho=e=>{if(!As)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fo=e=>"select-multiple"===e.type,po=e=>"radio"===e.type,mo=e=>ho(e)&&e.isConnected;function go(e,t){const n=Array.isArray(t)?t:Ps(t)?[t]:Ls(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ds(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(_s(r)&&lo(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ds(e[t]))return!1;return!0}(r))&&go(e,n.slice(0,-1)),e}var vo=e=>{for(const t in e)if(co(e[t]))return!0;return!1};function yo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(_s(e)||n)for(const r in e)Array.isArray(e[r])||_s(e[r])&&!vo(e[r])?(t[r]=Array.isArray(e[r])?[]:{},yo(e[r],t[r])):ks(e[r])||(t[r]=!0);return t}function wo(e,t,n){const r=Array.isArray(e);if(_s(e)||r)for(const i in e)Array.isArray(e[i])||_s(e[i])&&!vo(e[i])?Ds(t)||ro(n[i])?n[i]=Array.isArray(e[i])?yo(e[i],[]):{...yo(e[i])}:wo(e[i],ks(t)?{}:t[i],n[i]):n[i]=!io(e[i],t[i]);return n}var bo=(e,t)=>wo(e,t,yo(t));const Eo={value:!1,isValid:!1},So={value:!0,isValid:!0};var xo=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ds(e[0].attributes.value)?Ds(e[0].value)||""===e[0].value?So:{value:e[0].value,isValid:!0}:So:Eo}return Eo},ko=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return Ds(e)?e:n?""===e?NaN:e?+e:e:r&&to(e)?new Date(e):i?i(e):e};const To={isValid:!1,value:null};var _o=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,To):To;function Co(e){const t=e.ref;return uo(t)?t.files:po(t)?_o(e.refs).value:fo(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):Ss(t)?xo(e.refs).value:ko(Ds(t.value)?e.ref.value:t.value,e)}var Io=e=>e instanceof RegExp,Ao=e=>Ds(e)?e:Io(e)?e.source:_s(e)?Io(e.value)?e.value.source:e.value:e,No=e=>({isOnSubmit:!e||e===zs,isOnBlur:e===Us,isOnChange:e===Bs,isOnAll:e===qs,isOnTouch:e===$s});const Po="AsyncFunction";var Do=e=>!!e&&!!e.validate&&!!(co(e.validate)&&e.validate.constructor.name===Po||_s(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Po)),Ro=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Lo=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=Os(e,i);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Lo(s,t))break}else if(_s(s)&&Lo(s,t))break}}};function Oo(e,t,n){const r=Os(e,n);if(r||Ps(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=Os(t,r),o=Os(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:`${r}.root`,error:o.root};i.pop()}return{name:n}}var Mo=(e,t,n)=>{const r=oo(Os(e,n));return Vs(r,"root",t[n]),Vs(e,n,r),e},Vo=e=>to(e);function Fo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Vo(e)||Array.isArray(e)&&e.every(Vo)||Ms(e)&&!e)return{type:n,message:Vo(e)?e:"",ref:t}}var jo=e=>_s(e)&&!Io(e)?e:{value:e,message:""},Uo=async(e,t,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:c,min:h,max:d,pattern:f,validate:p,name:m,valueAsNumber:g,mount:v}=e._f,y=Os(n,m);if(!v||t.has(m))return{};const w=a?a[0]:o,b=e=>{i&&w.reportValidity&&(w.setCustomValidity(Ms(e)?"":e||""),w.reportValidity())},E={},S=po(o),x=Ss(o),k=S||x,T=(g||uo(o))&&Ds(o.value)&&Ds(y)||ho(o)&&""===o.value||""===y||Array.isArray(y)&&!y.length,_=so.bind(null,m,r,E),C=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ks,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gs;const s=e?t:n;E[m]={type:e?r:i,message:s,ref:o,..._(e?r:i,s)}};if(s?!Array.isArray(y)||!y.length:l&&(!k&&(T||ks(y))||Ms(y)&&!y||x&&!xo(a).isValid||S&&!_o(a).isValid)){const{value:e,message:t}=Vo(l)?{value:!!l,message:l}:jo(l);if(e&&(E[m]={type:Ys,message:t,ref:w,..._(Ys,t)},!r))return b(t),E}if(!T&&(!ks(h)||!ks(d))){let e,t;const n=jo(d),i=jo(h);if(ks(y)||isNaN(y)){const r=o.valueAsDate||new Date(y),s=e=>new Date((new Date).toDateString()+" "+e),a="time"==o.type,l="week"==o.type;to(n.value)&&y&&(e=a?s(y)>s(n.value):l?y>n.value:r>new Date(n.value)),to(i.value)&&y&&(t=a?s(y)<s(i.value):l?y<i.value:r<new Date(i.value))}else{const r=o.valueAsNumber||(y?+y:y);ks(n.value)||(e=r>n.value),ks(i.value)||(t=r<i.value)}if((e||t)&&(C(!!e,n.message,i.message,Hs,Ws),!r))return b(E[m].message),E}if((u||c)&&!T&&(to(y)||s&&Array.isArray(y))){const e=jo(u),t=jo(c),n=!ks(e.value)&&y.length>+e.value,i=!ks(t.value)&&y.length<+t.value;if((n||i)&&(C(n,e.message,t.message),!r))return b(E[m].message),E}if(f&&!T&&to(y)){const{value:e,message:t}=jo(f);if(Io(e)&&!y.match(e)&&(E[m]={type:Qs,message:t,ref:o,..._(Qs,t)},!r))return b(t),E}if(p)if(co(p)){const e=Fo(await p(y,n),w);if(e&&(E[m]={...e,..._(Xs,e.message)},!r))return b(e.message),E}else if(_s(p)){let e={};for(const t in p){if(!lo(e)&&!r)break;const i=Fo(await p[t](y,n),w,t);i&&(e={...i,..._(t,i.message)},b(i.message),r&&(E[m]=e))}if(!lo(e)&&(E[m]={ref:w,...e},!r))return E}return b(!0),E};const Bo={mode:zs,reValidateMode:Bs,shouldFocusError:!0};function zo(){let e,t={...Bo,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:co(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=(_s(t.defaultValues)||_s(t.values))&&Ns(t.defaultValues||t.values)||{},s=t.shouldUnregister?{}:Ns(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let c={...u};const h={array:ao(),state:ao()},d=t.criteriaMode===qs,f=async e=>{if(!t.disabled&&(u.isValid||c.isValid||e)){const e=t.resolver?lo((await y()).errors):await w(r,!0);e!==n.isValid&&h.state.next({isValid:e})}},p=(e,r)=>{!t.disabled&&(u.isValidating||u.validatingFields||c.isValidating||c.validatingFields)&&((e||Array.from(a.mount)).forEach(e=>{e&&(r?Vs(n.validatingFields,e,r):go(n.validatingFields,e))}),h.state.next({validatingFields:n.validatingFields,isValidating:!lo(n.validatingFields)}))},m=(e,t,n,a)=>{const l=Os(r,e);if(l){const r=Os(s,e,Ds(n)?Os(i,e):n);Ds(r)||a&&a.defaultChecked||t?Vs(s,e,t?r:Co(l._f)):S(e,r),o.mount&&f()}},g=(e,r,s,o,a)=>{let l=!1,d=!1;const f={name:e};if(!t.disabled){if(!s||o){(u.isDirty||c.isDirty)&&(d=n.isDirty,n.isDirty=f.isDirty=b(),l=d!==f.isDirty);const t=io(Os(i,e),r);d=!!Os(n.dirtyFields,e),t?go(n.dirtyFields,e):Vs(n.dirtyFields,e,!0),f.dirtyFields=n.dirtyFields,l=l||(u.dirtyFields||c.dirtyFields)&&d!==!t}if(s){const t=Os(n.touchedFields,e);t||(Vs(n.touchedFields,e,s),f.touchedFields=n.touchedFields,l=l||(u.touchedFields||c.touchedFields)&&t!==s)}l&&a&&h.state.next(f)}return l?f:{}},v=(r,i,s,o)=>{const a=Os(n.errors,r),d=(u.isValid||c.isValid)&&Ms(i)&&n.isValid!==i;if(t.delayError&&s?(e=(e=>t=>{clearTimeout(l),l=setTimeout(e,t)})(()=>((e,t)=>{Vs(n.errors,e,t),h.state.next({errors:n.errors})})(r,s)),e(t.delayError)):(clearTimeout(l),e=null,s?Vs(n.errors,r,s):go(n.errors,r)),(s?!io(a,s):a)||!lo(o)||d){const e={...o,...d&&Ms(i)?{isValid:i}:{},errors:n.errors,name:r};n={...n,...e},h.state.next(e)}},y=async e=>{p(e,!0);const n=await t.resolver(s,t.context,((e,t,n,r)=>{const i={};for(const s of e){const e=Os(t,s);e&&Vs(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return p(e),n},w=async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const o in e){const l=e[o];if(l){const{_f:e,...c}=l;if(e){const c=a.array.has(e.name),h=l._f&&Do(l._f);h&&u.validatingFields&&p([o],!0);const f=await Uo(l,a.disabled,s,d,t.shouldUseNativeValidation&&!r,c);if(h&&u.validatingFields&&p([o]),f[e.name]&&(i.valid=!1,r))break;!r&&(Os(f,e.name)?c?Mo(n.errors,f,e.name):Vs(n.errors,e.name,f[e.name]):go(n.errors,e.name))}!lo(c)&&await w(c,r,i)}}return i.valid},b=(e,n)=>!t.disabled&&(e&&n&&Vs(s,e,n),!io(I(),i)),E=(e,t,n)=>no(e,a,{...o.mount?s:Ds(t)?i:to(e)?{[e]:t}:t},n,t),S=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Os(r,e);let o=t;if(i){const n=i._f;n&&(!n.disabled&&Vs(s,e,ko(t,n)),o=ho(n.ref)&&ks(t)?"":t,fo(n.ref)?[...n.ref.options].forEach(e=>e.selected=o.includes(e.value)):n.refs?Ss(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):n.refs.forEach(e=>e.checked=e.value===o):uo(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||h.state.next({name:e,values:Ns(s)})))}(n.shouldDirty||n.shouldTouch)&&g(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&C(e)},x=(e,t,n)=>{for(const i in t){if(!t.hasOwnProperty(i))return;const s=t[i],o=e+"."+i,l=Os(r,o);(a.array.has(e)||_s(s)||l&&!l._f)&&!xs(s)?x(o,s,n):S(o,s,n)}},k=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d=Os(r,e),f=a.array.has(e),p=Ns(t);Vs(s,e,p),f?(h.array.next({name:e,values:Ns(s)}),(u.isDirty||u.dirtyFields||c.isDirty||c.dirtyFields)&&l.shouldDirty&&h.state.next({name:e,dirtyFields:bo(i,s),isDirty:b(e,p)})):!d||d._f||ks(p)?S(e,p,l):x(e,p,l),Ro(e,a)&&h.state.next({...n,name:e}),h.state.next({name:o.mount?e:void 0,values:Ns(s)})},T=async i=>{o.mount=!0;const l=i.target;let m=l.name,b=!0;const E=Os(r,m),S=e=>{b=Number.isNaN(e)||xs(e)&&isNaN(e.getTime())||io(e,Os(s,m,e))},x=No(t.mode),k=No(t.reValidateMode);if(E){let o,_;const I=l.type?Co(E._f):Cs(i),A=i.type===Fs||i.type===js,N=!((T=E._f).mount&&(T.required||T.min||T.max||T.maxLength||T.minLength||T.pattern||T.validate))&&!t.resolver&&!Os(n.errors,m)&&!E._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(A,Os(n.touchedFields,m),n.isSubmitted,k,x),P=Ro(m,a,A);Vs(s,m,I),A?l&&l.readOnly||(E._f.onBlur&&E._f.onBlur(i),e&&e(0)):E._f.onChange&&E._f.onChange(i);const D=g(m,I,A),R=!lo(D)||P;if(!A&&h.state.next({name:m,type:i.type,values:Ns(s)}),N)return(u.isValid||c.isValid)&&("onBlur"===t.mode?A&&f():A||f()),R&&h.state.next({name:m,...P?{}:D});if(!A&&P&&h.state.next({...n}),t.resolver){const{errors:e}=await y([m]);if(S(I),b){const t=Oo(n.errors,r,m),i=Oo(e,r,t.name||m);o=i.error,m=i.name,_=lo(e)}}else p([m],!0),o=(await Uo(E,a.disabled,s,d,t.shouldUseNativeValidation))[m],p([m]),S(I),b&&(o?_=!1:(u.isValid||c.isValid)&&(_=await w(r,!0)));b&&(E._f.deps&&C(E._f.deps),v(m,_,o,D))}var T},_=(e,t)=>{if(Os(n.errors,t)&&e.focus)return e.focus(),1},C=async function(e){let i,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=oo(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await y(e);if(e)for(const r of e){const e=Os(t,r);e?Vs(n.errors,r,e):go(n.errors,r)}else n.errors=t;return t})(Ds(e)?e:l);i=lo(t),s=e?!l.some(e=>Os(t,e)):i}else e?(s=(await Promise.all(l.map(async e=>{const t=Os(r,e);return await w(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||n.isValid)&&f()):s=i=await w(r);return h.state.next({...!to(e)||(u.isValid||c.isValid)&&i!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:i}:{},errors:n.errors}),o.shouldFocus&&!s&&Lo(r,_,e?l:a.mount),s},I=e=>{const t={...o.mount?s:i};return Ds(e)?t:to(e)?Os(t,e):e.map(e=>Os(t,e))},A=(e,t)=>({invalid:!!Os((t||n).errors,e),isDirty:!!Os((t||n).dirtyFields,e),error:Os((t||n).errors,e),isValidating:!!Os(n.validatingFields,e),isTouched:!!Os((t||n).touchedFields,e)}),N=(e,t,i)=>{const s=(Os(r,e,{_f:{}})._f||{}).ref,o=Os(n.errors,e)||{},{ref:a,message:l,type:u,...c}=o;Vs(n.errors,e,{...c,...t,ref:s}),h.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&s&&s.focus&&s.focus()},P=e=>h.state.subscribe({next:t=>{var r,o,a;r=e.name,o=t.name,a=e.exact,r&&o&&r!==o&&!oo(r).some(e=>e&&(a?e===o:e.startsWith(o)||o.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i,...s}=e;return lo(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!r||qs))})(t,e.formState||u,j,e.reRenderRoot)||e.callback({values:{...s},...n,...t,defaultValues:i})}}).unsubscribe,D=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?oo(e):a.mount)a.mount.delete(l),a.array.delete(l),o.keepValue||(go(r,l),go(s,l)),!o.keepError&&go(n.errors,l),!o.keepDirty&&go(n.dirtyFields,l),!o.keepTouched&&go(n.touchedFields,l),!o.keepIsValidating&&go(n.validatingFields,l),!t.shouldUnregister&&!o.keepDefaultValue&&go(i,l);h.state.next({values:Ns(s)}),h.state.next({...n,...o.keepDirty?{isDirty:b()}:{}}),!o.keepIsValid&&f()},R=e=>{let{disabled:t,name:n}=e;(Ms(t)&&o.mount||t||a.disabled.has(n))&&(t?a.disabled.add(n):a.disabled.delete(n))},L=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Os(r,e);const l=Ms(n.disabled)||Ms(t.disabled);return Vs(r,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...n}}),a.mount.add(e),s?R({disabled:Ms(n.disabled)?n.disabled:t.disabled,name:e}):m(e,!0,n.value),{...l?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:Ao(n.min),max:Ao(n.max),minLength:Ao(n.minLength),maxLength:Ao(n.maxLength),pattern:Ao(n.pattern)}:{},name:e,onChange:T,onBlur:T,ref:l=>{if(l){L(e,n),s=Os(r,e);const t=Ds(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,o=(e=>po(e)||Ss(e))(t),a=s._f.refs||[];if(o?a.find(e=>e===t):t===s._f.ref)return;Vs(r,e,{_f:{...s._f,...o?{refs:[...a.filter(mo),t,...Array.isArray(Os(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),m(e,!1,void 0,t)}else s=Os(r,e,{}),s._f&&(s._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!Is(a.array,e)||!o.action)&&a.unMount.add(e)}}},O=()=>t.shouldFocusError&&Lo(r,_,a.mount),M=(e,i)=>async o=>{let l;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let u=Ns(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await y();n.errors=e,u=Ns(t)}else await w(r);if(a.disabled.size)for(const e of a.disabled)go(u,e);if(go(n.errors,"root"),lo(n.errors)){h.state.next({errors:{}});try{await e(u,o)}catch(c){l=c}}else i&&await i({...n.errors},o),O(),setTimeout(O);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:lo(n.errors)&&!l,submitCount:n.submitCount+1,errors:n.errors}),l)throw l},V=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?Ns(e):i,d=Ns(c),f=lo(e),p=f?i:d;if(l.keepDefaultValues||(i=c),!l.keepValues){if(l.keepDirtyValues){const e=new Set([...a.mount,...Object.keys(bo(i,s))]);for(const t of Array.from(e))Os(n.dirtyFields,t)?Vs(p,t,Os(s,t)):k(t,Os(p,t))}else{if(As&&Ds(e))for(const e of a.mount){const t=Os(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(ho(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(l.keepFieldsRef)for(const e of a.mount)k(e,Os(p,e));else r={}}s=t.shouldUnregister?l.keepDefaultValues?Ns(i):{}:Ns(p),h.array.next({values:{...p}}),h.state.next({values:{...p}})}a={mount:l.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!l.keepIsValid||!!l.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:l.keepSubmitCount?n.submitCount:0,isDirty:!f&&(l.keepDirty?n.isDirty:!(!l.keepDefaultValues||io(e,i))),isSubmitted:!!l.keepIsSubmitted&&n.isSubmitted,dirtyFields:f?{}:l.keepDirtyValues?l.keepDefaultValues&&s?bo(i,s):n.dirtyFields:l.keepDefaultValues&&e?bo(i,e):l.keepDirty?n.dirtyFields:{},touchedFields:l.keepTouched?n.touchedFields:{},errors:l.keepErrors?n.errors:{},isSubmitSuccessful:!!l.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1,defaultValues:i})},F=(e,t)=>V(co(e)?e(s):e,t),j=e=>{n={...n,...e}},U={control:{register:L,unregister:D,getFieldState:A,handleSubmit:M,setError:N,_subscribe:P,_runSchema:y,_focusError:O,_getWatch:E,_getDirty:b,_setValid:f,_setFieldArray:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(d&&l&&!t.disabled){if(o.action=!0,p&&Array.isArray(Os(r,e))){const t=l(Os(r,e),d.argA,d.argB);f&&Vs(r,e,t)}if(p&&Array.isArray(Os(n.errors,e))){const t=l(Os(n.errors,e),d.argA,d.argB);f&&Vs(n.errors,e,t),((e,t)=>{!Rs(Os(e,t)).length&&go(e,t)})(n.errors,e)}if((u.touchedFields||c.touchedFields)&&p&&Array.isArray(Os(n.touchedFields,e))){const t=l(Os(n.touchedFields,e),d.argA,d.argB);f&&Vs(n.touchedFields,e,t)}(u.dirtyFields||c.dirtyFields)&&(n.dirtyFields=bo(i,s)),h.state.next({name:e,isDirty:b(e,a),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Vs(s,e,a)},_setDisabledField:R,_setErrors:e=>{n.errors=e,h.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>Rs(Os(o.mount?s:i,e,t.shouldUnregister?Os(i,e,[]):[])),_reset:V,_resetDefaultValues:()=>co(t.defaultValues)&&t.defaultValues().then(e=>{F(e,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of a.unMount){const t=Os(r,e);t&&(t._f.refs?t._f.refs.every(e=>!mo(e)):!mo(t._f.ref))&&D(e)}a.unMount=new Set},_disableForm:e=>{Ms(e)&&(h.state.next({disabled:e}),Lo(r,(t,n)=>{const i=Os(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(e){o=e},get _defaultValues(){return i},get _names(){return a},set _names(e){a=e},get _formState(){return n},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:e=>(o.mount=!0,c={...c,...e.formState},P({...e,formState:c})),trigger:C,register:L,handleSubmit:M,watch:(e,t)=>co(e)?h.state.subscribe({next:n=>"values"in n&&e(E(void 0,t),n)}):E(e,t,!0),setValue:k,getValues:I,reset:F,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Os(r,e)&&(Ds(t.defaultValue)?k(e,Ns(Os(i,e))):(k(e,t.defaultValue),Vs(i,e,Ns(t.defaultValue))),t.keepTouched||go(n.touchedFields,e),t.keepDirty||(go(n.dirtyFields,e),n.isDirty=t.defaultValue?b(e,Ns(Os(i,e))):b()),t.keepError||(go(n.errors,e),u.isValid&&f()),h.state.next({...n}))},clearErrors:e=>{e&&oo(e).forEach(e=>go(n.errors,e)),h.state.next({errors:e?n.errors:{}})},unregister:D,setError:N,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Os(r,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&co(e.select)&&e.select())}},getFieldState:A};return{...U,formControl:U}}function $o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=i.useRef(void 0),n=i.useRef(void 0),[r,s]=i.useState({isDirty:!1,isValidating:!1,isLoading:co(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:co(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!co(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:n,...i}=zo(e);t.current={...i,formState:r}}const o=t.current.control;return o._options=e,eo(()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),i.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),i.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),i.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),i.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),i.useEffect(()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==r.isDirty&&o._subjects.state.next({isDirty:e})}},[o,r.isDirty]),i.useEffect(()=>{e.values&&!io(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=e.values,s(e=>({...e}))):o._resetDefaultValues()},[o,e.values]),i.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=Zs(r,o),t.current}const qo=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ho=(0,i.createContext)({}),Wo=(0,i.createContext)(null),Ko="undefined"!==typeof document,Go=Ko?i.useLayoutEffect:i.useEffect,Qo=(0,i.createContext)({strict:!1}),Yo=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Xo="data-"+Yo("framerAppearId");function Jo(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Zo(e){return"string"===typeof e||Array.isArray(e)}function ea(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const ta=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],na=["initial",...ta];function ra(e){return ea(e.animate)||na.some(t=>Zo(e[t]))}function ia(e){return Boolean(ra(e)||e.variants)}function sa(e){const{initial:t,animate:n}=function(e,t){if(ra(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Zo(t)?t:void 0,animate:Zo(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Ho));return(0,i.useMemo)(()=>({initial:t,animate:n}),[oa(t),oa(n)])}function oa(e){return Array.isArray(e)?e.join(" "):e}const aa={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},la={};for(const HI in aa)la[HI]={isEnabled:e=>aa[HI].some(t=>!!e[t])};const ua=(0,i.createContext)({}),ca=(0,i.createContext)({}),ha=Symbol.for("motionComponentSymbol");function da(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:o}=e;t&&function(e){for(const t in e)la[t]={...la[t],...e[t]}}(t);const a=(0,i.forwardRef)(function(e,a){let l;const u={...(0,i.useContext)(qo),...e,layoutId:fa(e)},{isStatic:c}=u,h=sa(e),d=s(e,c);if(!c&&Ko){h.visualElement=function(e,t,n,r){const{visualElement:s}=(0,i.useContext)(Ho),o=(0,i.useContext)(Qo),a=(0,i.useContext)(Wo),l=(0,i.useContext)(qo).reducedMotion,u=(0,i.useRef)();r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const c=u.current;(0,i.useInsertionEffect)(()=>{c&&c.update(n,a)});const h=(0,i.useRef)(Boolean(n[Xo]&&!window.HandoffComplete));return Go(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),(0,i.useEffect)(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}(o,d,u,n);const e=(0,i.useContext)(ca),r=(0,i.useContext)(Qo).strict;h.visualElement&&(l=h.visualElement.loadFeatures(u,r,t,e))}return i.createElement(Ho.Provider,{value:h},l&&h.visualElement?i.createElement(l,{visualElement:h.visualElement,...u}):null,r(o,e,function(e,t,n){return(0,i.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Jo(n)&&(n.current=r))},[t])}(d,h.visualElement,a),d,c,h.visualElement))});return a[ha]=o,a}function fa(e){let{layoutId:t}=e;const n=(0,i.useContext)(ua).id;return n&&void 0!==t?n+"-"+t:t}function pa(e){function t(t){return da(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const ma=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ga(e){return"string"===typeof e&&!e.includes("-")&&!!(ma.indexOf(e)>-1||/[A-Z]/.test(e))}const va={};const ya=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wa=new Set(ya);function ba(e,t){let{layout:n,layoutId:r}=t;return wa.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!va[e]||"opacity"===e)}const Ea=e=>Boolean(e&&e.getVelocity),Sa={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xa=ya.length;const ka=e=>t=>"string"===typeof t&&t.startsWith(e),Ta=ka("--"),_a=ka("var(--"),Ca=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Ia=(e,t,n)=>Math.min(Math.max(n,e),t),Aa={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Na={...Aa,transform:e=>Ia(0,1,e)},Pa={...Aa,default:1},Da=e=>Math.round(1e5*e)/1e5,Ra=/(-)?([\d]*\.?[\d])+/g,La=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Oa=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ma(e){return"string"===typeof e}const Va=e=>({test:t=>Ma(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Fa=Va("deg"),ja=Va("%"),Ua=Va("px"),Ba=Va("vh"),za=Va("vw"),$a={...ja,parse:e=>ja.parse(e)/100,transform:e=>ja.transform(100*e)},qa={...Aa,transform:Math.round},Ha={borderWidth:Ua,borderTopWidth:Ua,borderRightWidth:Ua,borderBottomWidth:Ua,borderLeftWidth:Ua,borderRadius:Ua,radius:Ua,borderTopLeftRadius:Ua,borderTopRightRadius:Ua,borderBottomRightRadius:Ua,borderBottomLeftRadius:Ua,width:Ua,maxWidth:Ua,height:Ua,maxHeight:Ua,size:Ua,top:Ua,right:Ua,bottom:Ua,left:Ua,padding:Ua,paddingTop:Ua,paddingRight:Ua,paddingBottom:Ua,paddingLeft:Ua,margin:Ua,marginTop:Ua,marginRight:Ua,marginBottom:Ua,marginLeft:Ua,rotate:Fa,rotateX:Fa,rotateY:Fa,rotateZ:Fa,scale:Pa,scaleX:Pa,scaleY:Pa,scaleZ:Pa,skew:Fa,skewX:Fa,skewY:Fa,distance:Ua,translateX:Ua,translateY:Ua,translateZ:Ua,x:Ua,y:Ua,z:Ua,perspective:Ua,transformPerspective:Ua,opacity:Na,originX:$a,originY:$a,originZ:Ua,zIndex:qa,fillOpacity:Na,strokeOpacity:Na,numOctaves:qa};function Wa(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const h in t){const e=t[h];if(Ta(h)){s[h]=e;continue}const n=Ha[h],r=Ca(e,n);if(wa.has(h)){if(l=!0,o[h]=r,!c)continue;e!==(n.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=r):i[h]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,o="";for(let a=0;a<xa;a++){const t=ya[a];void 0!==e[t]&&(o+=`${Sa[t]||t}(${e[t]}) `)}return i&&!e.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(e,n?"":o):s&&n&&(o="none"),o}(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin=`${e} ${t} ${n}`}}const Ka=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ga(e,t,n){for(const r in t)Ea(t[r])||ba(r,n)||(e[r]=t[r])}function Qa(e,t,n){const r={};return Ga(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Wa(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function Ya(e,t,n){const r={},i=Qa(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Xa=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ja(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Xa.has(e)}let Za=e=>!Ja(e);try{(el=require("@emotion/is-prop-valid").default)&&(Za=e=>e.startsWith("on")?!Ja(e):el(e))}catch(qI){}var el;function tl(e,t,n){return"string"===typeof e?e:Ua.transform(t+n*e)}const nl={offset:"stroke-dashoffset",array:"stroke-dasharray"},rl={offset:"strokeDashoffset",array:"strokeDasharray"};function il(e,t,n,r,i){let{attrX:s,attrY:o,attrScale:a,originX:l,originY:u,pathLength:c,pathSpacing:h=1,pathOffset:d=0,...f}=t;if(Wa(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==u||m.transform)&&(m.transformOrigin=function(e,t,n){return`${tl(t,e.x,e.width)} ${tl(n,e.y,e.height)}`}(g,void 0!==l?l:.5,void 0!==u?u:.5)),void 0!==s&&(p.x=s),void 0!==o&&(p.y=o),void 0!==a&&(p.scale=a),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?nl:rl;e[s.offset]=Ua.transform(-r);const o=Ua.transform(t),a=Ua.transform(n);e[s.array]=`${o} ${a}`}(p,c,h,d,!1)}const sl=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),ol=e=>"string"===typeof e&&"svg"===e.toLowerCase();function al(e,t,n,r){const s=(0,i.useMemo)(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return il(n,t,{enableHardwareAcceleration:!1},ol(r),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};Ga(t,e.style,e),s.style={...t,...s.style}}return s}function ll(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,o)=>{let{latestValues:a}=s;const l=(ga(t)?al:Ya)(n,a,o,t),u=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Za(i)||!0===n&&Ja(i)||!t&&!Ja(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),c={...u,...l,ref:r},{children:h}=n,d=(0,i.useMemo)(()=>Ea(h)?h.get():h,[h]);return(0,i.createElement)(t,{...c,children:d})}}function ul(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const cl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hl(e,t,n,r){ul(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(cl.has(i)?i:Yo(i),t.attrs[i])}function dl(e,t){const{style:n}=e,r={};for(const i in n)(Ea(n[i])||t.style&&Ea(t.style[i])||ba(i,e))&&(r[i]=n[i]);return r}function fl(e,t){const n=dl(e,t);for(const r in e)if(Ea(e[r])||Ea(t[r])){n[-1!==ya.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function pl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function ml(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const gl=e=>Array.isArray(e),vl=e=>gl(e)?e[e.length-1]||0:e;function yl(e){const t=Ea(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const wl=e=>(t,n)=>{const r=(0,i.useContext)(Ho),s=(0,i.useContext)(Wo),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o}=e;const a={latestValues:bl(t,n,r,i),renderState:s()};return o&&(a.mount=e=>o(t,e,a)),a}(e,t,r,s);return n?o():ml(o)};function bl(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=yl(s[d]);let{initial:o,animate:a}=e;const l=ra(e),u=ia(e);t&&u&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let c=!!n&&!1===n.initial;c=c||!1===o;const h=c?a:o;if(h&&"boolean"!==typeof h&&!ea(h)){(Array.isArray(h)?h:[h]).forEach(t=>{const n=pl(e,t);if(!n)return;const{transitionEnd:r,transition:s,...o}=n;for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[c?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]})}return i}const El=e=>e;class Sl{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const xl=["prepare","read","update","preRender","render","postRender"];const{schedule:kl,cancel:Tl,state:_l,steps:Cl}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=xl.reduce((e,t)=>(e[t]=function(e){let t=new Sl,n=new Sl,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,a=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),a.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),o.has(r)&&(a.schedule(r),e())}i=!1,s&&(s=!1,a.process(l))}}};return a}(()=>n=!0),e),{}),o=e=>s[e].process(i),a=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,xl.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=xl.reduce((t,o)=>{const l=s[o];return t[o]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(a)),l.schedule(t,s,o)},t},{});return{schedule:l,cancel:e=>xl.forEach(t=>s[t].cancel(e)),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:El,!0),Il={useVisualState:wl({scrapeMotionValuesFromProps:fl,createRenderState:sl,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;kl.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch($I){r.dimensions={x:0,y:0,width:0,height:0}}}),kl.render(()=>{il(r,i,{enableHardwareAcceleration:!1},ol(t.tagName),e.transformTemplate),hl(t,r)})}})},Al={useVisualState:wl({scrapeMotionValuesFromProps:dl,createRenderState:Ka})};function Nl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Pl=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Dl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Rl(e,t,n,r){return Nl(e,t,(e=>t=>Pl(t)&&e(t,Dl(t)))(n),r)}const Ll=(e,t)=>n=>t(e(n)),Ol=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Ll)};function Ml(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Vl=Ml("dragHorizontal"),Fl=Ml("dragVertical");function jl(e){let t=!1;if("y"===e)t=Fl();else if("x"===e)t=Vl();else{const e=Vl(),n=Fl();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Ul(){const e=jl(!0);return!e||(e(),!1)}class Bl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function zl(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Rl(e.current,n,(n,i)=>{if("touch"===n.pointerType||Ul())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&kl.update(()=>s[r](n,i))},{passive:!e.getProps()[r]})}const $l=(e,t)=>!!t&&(e===t||$l(e,t.parentElement));function ql(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Dl(n))}const Hl=new WeakMap,Wl=new WeakMap,Kl=e=>{const t=Hl.get(e.target);t&&t(e)},Gl=e=>{e.forEach(Kl)};function Ql(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;Wl.has(r)||Wl.set(r,{});const i=Wl.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(Gl,{root:t,...n})),i[s]}(t);return Hl.set(e,n),r.observe(e),()=>{Hl.delete(e),r.unobserve(e)}}const Yl={some:0,all:1};const Xl={inView:{Feature:class extends Bl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Yl[r]};return Ql(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Bl{constructor(){super(...arguments),this.removeStartListeners=El,this.removeEndListeners=El,this.removeAccessibleListeners=El,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Rl(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();kl.update(()=>{i||$l(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=Rl(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ol(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Nl(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Nl(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&ql("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&kl.update(()=>n(e,t))})}),ql("down",(e,t)=>{this.startPress(e,t)})}),t=Nl(this.node.current,"blur",()=>{this.isPressing&&ql("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=Ol(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&kl.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ul()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&kl.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=Rl(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Nl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ol(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Bl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch($I){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ol(Nl(this.node.current,"focus",()=>this.onFocus()),Nl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Bl{mount(){this.unmount=Ol(zl(this.node,!0),zl(this.node,!1))}unmount(){}}}};function Jl(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Zl(e,t,n){const r=e.getProps();return pl(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let eu=El,tu=El;const nu=e=>1e3*e,ru=e=>e/1e3,iu=!1,su=e=>Array.isArray(e)&&"number"===typeof e[0];function ou(e){return Boolean(!e||"string"===typeof e&&lu[e]||su(e)||Array.isArray(e)&&e.every(ou))}const au=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},lu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function uu(e){if(e)return su(e)?au(e):Array.isArray(e)?e.map(uu):lu[e]}const cu=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function hu(e,t,n,r){if(e===t&&n===r)return El;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=cu(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:cu(i(e),t,r)}const du=hu(.42,0,1,1),fu=hu(0,0,.58,1),pu=hu(.42,0,.58,1),mu=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gu=e=>t=>1-e(1-t),vu=e=>1-Math.sin(Math.acos(e)),yu=gu(vu),wu=mu(vu),bu=hu(.33,1.53,.69,.99),Eu=gu(bu),Su=mu(Eu),xu={linear:El,easeIn:du,easeInOut:pu,easeOut:fu,circIn:vu,circInOut:wu,circOut:yu,backIn:Eu,backInOut:Su,backOut:bu,anticipate:e=>(e*=2)<1?.5*Eu(e):.5*(2-Math.pow(2,-10*(e-1)))},ku=e=>{if(Array.isArray(e)){tu(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return hu(t,n,r,i)}return"string"===typeof e?(tu(void 0!==xu[e],`Invalid easing type '${e}'`),xu[e]):e},Tu=(e,t)=>n=>Boolean(Ma(n)&&Oa.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),_u=(e,t,n)=>r=>{if(!Ma(r))return r;const[i,s,o,a]=r.match(Ra);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Cu={...Aa,transform:e=>Math.round((e=>Ia(0,255,e))(e))},Iu={test:Tu("rgb","red"),parse:_u("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Cu.transform(t)+", "+Cu.transform(n)+", "+Cu.transform(r)+", "+Da(Na.transform(i))+")"}};const Au={test:Tu("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Iu.transform},Nu={test:Tu("hsl","hue"),parse:_u("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+ja.transform(Da(n))+", "+ja.transform(Da(r))+", "+Da(Na.transform(i))+")"}},Pu={test:e=>Iu.test(e)||Au.test(e)||Nu.test(e),parse:e=>Iu.test(e)?Iu.parse(e):Nu.test(e)?Nu.parse(e):Au.parse(e),transform:e=>Ma(e)?e:e.hasOwnProperty("red")?Iu.transform(e):Nu.transform(e)},Du=(e,t,n)=>-n*e+n*t+e;function Ru(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Lu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Ou=[Au,Iu,Nu];function Mu(e){const t=(e=>Ou.find(t=>t.test(e)))(e);tu(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`);let n=t.parse(e);return t===Nu&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=Ru(i,e,t+1/3),o=Ru(i,e,t),a=Ru(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(n)),n}const Vu=(e,t)=>{const n=Mu(e),r=Mu(t),i={...n};return e=>(i.red=Lu(n.red,r.red,e),i.green=Lu(n.green,r.green,e),i.blue=Lu(n.blue,r.blue,e),i.alpha=Du(n.alpha,r.alpha,e),Iu.transform(i))};const Fu={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:El},ju={regex:La,countKey:"Colors",token:"${c}",parse:Pu.parse},Uu={regex:Ra,countKey:"Numbers",token:"${n}",parse:Aa.parse};function Bu(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const o=e.tokenised.match(n);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...o.map(s)))}function zu(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Bu(n,Fu),Bu(n,ju),Bu(n,Uu),n}function $u(e){return zu(e).values}function qu(e){const{values:t,numColors:n,numVars:r,tokenised:i}=zu(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(Fu.token,e[i]):i<r+n?t.replace(ju.token,Pu.transform(e[i])):t.replace(Uu.token,Da(e[i]));return t}}const Hu=e=>"number"===typeof e?0:e;const Wu={test:function(e){var t,n;return isNaN(e)&&Ma(e)&&((null===(t=e.match(Ra))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(La))||void 0===n?void 0:n.length)||0)>0},parse:$u,createTransformer:qu,getAnimatableNone:function(e){const t=$u(e);return qu(e)(t.map(Hu))}},Ku=(e,t)=>n=>`${n>0?t:e}`;function Gu(e,t){return"number"===typeof e?n=>Du(e,t,n):Pu.test(e)?Vu(e,t):e.startsWith("var(")?Ku(e,t):Xu(e,t)}const Qu=(e,t)=>{const n=[...e],r=n.length,i=e.map((e,n)=>Gu(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},Yu=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Gu(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},Xu=(e,t)=>{const n=Wu.createTransformer(t),r=zu(e),i=zu(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ol(Qu(r.values,i.values),n):(eu(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Ku(e,t))},Ju=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Zu=(e,t)=>n=>Du(e,t,n);function ec(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?Zu:"string"===typeof e?Pu.test(e)?Vu:Xu:Array.isArray(e)?Qu:"object"===typeof e?Yu:Zu}(e[0]),s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||El:t;n=Ol(e,n)}r.push(n)}return r}function tc(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(tu(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ec(t,r,i),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Ju(e[n],e[n+1],t);return o[n](r)};return n?t=>l(Ia(e[0],e[s-1],t)):l}function nc(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ju(0,t,r);e.push(Du(n,1,i))}}(t,e.length-1),t}function rc(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(ku):ku(i),o={done:!1,value:n[0]},a=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:nc(n),t),l=tc(a,n,{ease:Array.isArray(s)?s:(u=n,c=s,u.map(()=>c||pu).splice(0,u.length-1))});var u,c;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}function ic(e,t){return t?e*(1e3/t):0}function sc(e,t,n){const r=Math.max(t-5,0);return ic(n-e(r),t-r)}const oc=.001;function ac(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:o=1}=e;eu(r<=nu(10),"Spring duration must be 10 seconds or less");let a=1-i;a=Ia(.05,1,a),r=Ia(.01,10,ru(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=uc(e,a),l=Math.exp(-n);return oc-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),u=uc(Math.pow(e,2),a);return(-t(e)+oc>0?-1:1)*((i-o)*l)/u}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<lc;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=nu(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const lc=12;function uc(e,t){return e*Math.sqrt(1-t*t)}const cc=["duration","bounce"],hc=["stiffness","damping","mass"];function dc(e,t){return t.some(t=>void 0!==e[t])}function fc(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const s=t[0],o=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!dc(e,hc)&&dc(e,cc)){const n=ac(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-ru(i.velocity||0)}),p=d||0,m=u/(2*Math.sqrt(l*c)),g=o-s,v=ru(Math.sqrt(l/c)),y=Math.abs(g)<5;let w;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=uc(v,m);w=t=>{const n=Math.exp(-m*v*t);return o-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)w=e=>o-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);w=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return o-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=w(e);if(f)a.done=e>=h;else{let i=p;0!==e&&(i=m<1?sc(w,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(o-t)<=n;a.done=s&&l}return a.value=a.done?o:t,a}}}function pc(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:u,restDelta:c=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?u:void 0===u||Math.abs(l-e)<Math.abs(u-e)?l:u;let m=r*n;const g=d+m,v=void 0===a?g:a(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/i),w=e=>v+y(e),b=e=>{const t=y(e),n=w(e);f.done=Math.abs(t)<=c,f.value=f.done?v:n};let E,S;const x=e=>{(e=>void 0!==l&&e<l||void 0!==u&&e>u)(f.value)&&(E=e,S=fc({keyframes:[f.value,p(f.value)],velocity:sc(w,e,f.value),damping:s,stiffness:o,restDelta:c,restSpeed:h}))};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==E||(t=!0,b(e),x(e)),void 0!==E&&e>E?S.next(e-E):(!t&&b(e),f)}}}const mc=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>kl.update(t,!0),stop:()=>Tl(t),now:()=>_l.isProcessing?_l.timestamp:performance.now()}};function gc(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const vc={decay:pc,inertia:pc,tween:rc,keyframes:rc,spring:fc};function yc(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=mc,keyframes:o,type:a="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:p,...m}=e,g=1,v=!1;const y=()=>{n=new Promise(e=>{t=e})};let w;y();const b=vc[a]||rc;let E;b!==rc&&"number"!==typeof o[0]&&(E=tc([0,100],o,{clamp:!1}),o=[0,100]);const S=b({...m,keyframes:o});let x;"mirror"===c&&(x=b({...m,keyframes:[...o].reverse(),velocity:-(m.velocity||0)}));let k="idle",T=null,_=null,C=null;null===S.calculatedDuration&&l&&(S.calculatedDuration=gc(S));const{calculatedDuration:I}=S;let A=1/0,N=1/0;null!==I&&(A=I+u,N=A*(l+1)-u);let P=0;const D=e=>{if(null===_)return;g>0&&(_=Math.min(_,e)),g<0&&(_=Math.min(e-N/g,_)),P=null!==T?T:Math.round(e-_)*g;const t=P-i*(g>=0?1:-1),n=g>=0?t<0:t>N;P=Math.max(t,0),"finished"===k&&null===T&&(P=N);let r=P,s=S;if(l){const e=Math.min(P,N)/A;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===c?(n=1-n,u&&(n-=u/A)):"mirror"===c&&(s=x)),r=Ia(0,1,n)*A}const a=n?{done:!1,value:o[0]}:s.next(r);E&&(a.value=E(a.value));let{done:h}=a;n||null===I||(h=g>=0?P>=N:P<=0);const d=null===T&&("finished"===k||"running"===k&&h);return p&&p(a.value),d&&O(),a},R=()=>{w&&w.stop(),w=void 0},L=()=>{k="idle",R(),t(),y(),_=C=null},O=()=>{k="finished",f&&f(),R(),t()},M=()=>{if(v)return;w||(w=s(D));const e=w.now();h&&h(),null!==T?_=e-T:_&&"finished"!==k||(_=e),"finished"===k&&y(),C=_,T=null,k="running",w.start()};r&&M();const V={then:(e,t)=>n.then(e,t),get time(){return ru(P)},set time(e){e=nu(e),P=e,null===T&&w&&0!==g?_=w.now()-e/g:T=e},get duration(){const e=null===S.calculatedDuration?gc(S):S.calculatedDuration;return ru(e)},get speed(){return g},set speed(e){e!==g&&w&&(g=e,V.time=ru(P))},get state(){return k},play:M,pause:()=>{k="paused",T=P},stop:()=>{v=!0,"idle"!==k&&(k="idle",d&&d(),L())},cancel:()=>{null!==C&&D(C),L()},complete:()=>{k="finished"},sample:e=>(_=0,D(e))};return V}const wc=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bc=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Ec(e,t,n){let{onUpdate:r,onComplete:i,...s}=n;if(!(wc()&&bc.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let o,a,l=!1,u=!1;const c=()=>{a=new Promise(e=>{o=e})};c();let{keyframes:h,duration:d=300,ease:f,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!ou(t.ease))(t,s)){const e=yc({...s,repeat:0,delay:0});let t={done:!1,value:h[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,h=n,d=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const u={[t]:n};l&&(u.offset=l);const c=uu(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(e.owner.current,t,h,{...s,duration:d,ease:f,times:p}),g=()=>{u=!1,m.cancel()},v=()=>{u=!0,kl.update(g),o(),c()};m.onfinish=()=>{u||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(h,s)),i&&i(),v())};return{then:(e,t)=>a.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,El),get time(){return ru(m.currentTime||0)},set time(e){m.currentTime=nu(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return ru(d)},play:()=>{l||(m.play(),Tl(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=yc({...s,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>{u||m.finish()},cancel:v}}const Sc={type:"spring",stiffness:500,damping:25,restSpeed:10},xc={type:"keyframes",duration:.8},kc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tc=(e,t)=>{let{keyframes:n}=t;return n.length>2?xc:wa.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Sc:kc},_c=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Wu.test(t)&&"0"!==t||t.startsWith("url("))),Cc=new Set(["brightness","contrast","saturate","opacity"]);function Ic(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ra)||[];if(!r)return e;const i=n.replace(r,"");let s=Cc.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Ac=/([a-z-]*)\(.*?\)/g,Nc={...Wu,getAnimatableNone:e=>{const t=e.match(Ac);return t?t.map(Ic).join(" "):e}},Pc={...Ha,color:Pu,backgroundColor:Pu,outlineColor:Pu,fill:Pu,stroke:Pu,borderColor:Pu,borderTopColor:Pu,borderRightColor:Pu,borderBottomColor:Pu,borderLeftColor:Pu,filter:Nc,WebkitFilter:Nc},Dc=e=>Pc[e];function Rc(e,t){let n=Dc(e);return n!==Nc&&(n=Wu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Lc=e=>/^0[^.\s]+$/.test(e);function Oc(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Lc(e):void 0}function Mc(e,t){return e[t]||e.default||e}const Vc=!1,Fc=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=Mc(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a-=nu(o);const l=function(e,t,n,r){const i=_c(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const o=void 0!==r.from?r.from:e.get();let a;const l=[];for(let u=0;u<s.length;u++)null===s[u]&&(s[u]=0===u?o:s[u-1]),Oc(s[u])&&l.push(u),"string"===typeof s[u]&&"none"!==s[u]&&"0"!==s[u]&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++)s[l[u]]=Rc(t,a);return s}(t,e,n,s),u=l[0],c=l[l.length-1],h=_c(e,u),d=_c(e,c);eu(h===d,`You are trying to animate ${e} from "${u}" to "${c}". ${u} is not an animatable value - to enable this animation set ${u} to a value animatable to ${c} via the \`style\` property.`);let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:u,elapsed:c,...h}=e;return!!Object.keys(h).length}(s)||(f={...f,...Tc(e,f)}),f.duration&&(f.duration=nu(f.duration)),f.repeatDelay&&(f.repeatDelay=nu(f.repeatDelay)),!h||!d||iu||!1===s.type||Vc)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:El,pause:El,stop:El,then:e=>(e(),Promise.resolve()),cancel:El,complete:El});return n?yc({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(iu?{...f,delay:0}:f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Ec(t,e,f);if(n)return n}return yc(f)}};function jc(e){return Boolean(Ea(e)&&e.add)}const Uc=e=>/^\-?\d*\.?\d+$/.test(e);function Bc(e,t){-1===e.indexOf(t)&&e.push(t)}function zc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class $c{constructor(){this.subscriptions=[]}add(e){return Bc(this.subscriptions,e),()=>zc(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qc={current:void 0};class Hc{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=_l;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,kl.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>kl.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new $c);const n=this.events[e].add(t);return"change"===e?()=>{n(),kl.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return qc.current&&qc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ic(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wc(e,t){return new Hc(e,t)}const Kc=e=>t=>t.test(e),Gc=[Aa,Ua,ja,Fa,za,Ba,{test:e=>"auto"===e,parse:e=>e}],Qc=e=>Gc.find(Kc(e)),Yc=[...Gc,Pu,Wu],Xc=e=>Yc.find(Kc(e));function Jc(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wc(n))}function Zc(e,t){const n=Zl(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){Jc(e,o,vl(s[o]))}}function eh(e,t){if(!t)return;return(t[e]||t.default||t).from}function th(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function nh(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function rh(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const t=e.getValue(h),r=a[h];if(!t||void 0===r||c&&th(c,h))continue;const i={delay:n,elapsed:0,...Mc(s||{},h)};if(window.HandoffAppearAnimations){const n=e.getProps()[Xo];if(n){const e=window.HandoffAppearAnimations(n,h,t,kl);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let o=!i.isHandoff&&!nh(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(Fc(h,t,r,e.shouldReduceMotion&&wa.has(h)?{type:!1}:i));const d=t.animation;jc(l)&&(l.add(h),d.then(()=>l.remove(h))),u.push(d)}return o&&Promise.all(u).then(()=>{o&&Zc(e,o)}),u}function ih(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Zl(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(rh(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(sh).forEach((e,r)=>{e.notify("AnimationStart",t),o.push(ih(e,t,{...s,delay:n+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,s+r,o,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then(()=>t())}return Promise.all([s(),o(n.delay)])}function sh(e,t){return e.sortNodePosition(t)}const oh=[...ta].reverse(),ah=ta.length;function lh(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>ih(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=ih(e,t,r);else{const i="function"===typeof t?Zl(e,t,r.custom):t;n=Promise.all(rh(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function uh(e){let t=lh(e);const n={animate:hh(!0),whileInView:hh(),whileHover:hh(),whileTap:hh(),whileDrag:hh(),whileFocus:hh(),exit:hh()};let r=!0;const i=(t,n)=>{const r=Zl(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,o){const a=e.getProps(),l=e.getVariantContext(!0)||{},u=[],c=new Set;let h={},d=1/0;for(let t=0;t<ah;t++){const f=oh[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=Zo(m),v=f===o?p.isActive:null;!1===v&&(d=t);let y=m===l[f]&&m!==a[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...h},!p.isActive&&null===v||!m&&!p.prevProp||ea(m)||"boolean"===typeof m)continue;let w=ch(p.prevProp,m)||f===o&&p.isActive&&!y&&g||t>d&&g,b=!1;const E=Array.isArray(m)?m:[m];let S=E.reduce(i,{});!1===v&&(S={});const{prevResolvedValues:x={}}=p,k={...x,...S},T=e=>{w=!0,c.has(e)&&(b=!0,c.delete(e)),p.needsAnimating[e]=!0};for(const e in k){const t=S[e],n=x[e];if(h.hasOwnProperty(e))continue;let r=!1;r=gl(t)&&gl(n)?!Jl(t,n):t!==n,r?void 0!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(h={...h,...S}),r&&e.blockInitialAnimation&&(w=!1),!w||y&&!b||u.push(...E.map(e=>({animation:e,options:{type:f,...s}})))}if(c.size){const t={};c.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),u.push({animation:t})}let f=Boolean(u.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(u):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=s(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function ch(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Jl(t,e)}function hh(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let dh=0;const fh={animation:{Feature:class extends Bl{constructor(e){super(e),e.animationState||(e.animationState=uh(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ea(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Bl{constructor(){super(...arguments),this.id=dh++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},ph=(e,t)=>Math.abs(e-t);class mh{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=yh(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=ph(e.x,t.x),r=ph(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=_l;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=gh(t,this.transformPagePoint),kl.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=yh("pointercancel"===e.type?this.lastMoveEventInfo:gh(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!Pl(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=gh(Dl(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=_l;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,yh(s,this.history)),this.removeListeners=Ol(Rl(this.contextWindow,"pointermove",this.handlePointerMove),Rl(this.contextWindow,"pointerup",this.handlePointerUp),Rl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tl(this.updatePoint)}}function gh(e,t){return t?{point:t(e.point)}:e}function vh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yh(e,t){let{point:n}=e;return{point:n,delta:vh(n,bh(t)),offset:vh(n,wh(t)),velocity:Eh(t,.1)}}function wh(e){return e[0]}function bh(e){return e[e.length-1]}function Eh(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=bh(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>nu(t)));)n--;if(!r)return{x:0,y:0};const s=ru(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Sh(e){return e.max-e.min}function xh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function kh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Du(t.min,t.max,e.origin),e.scale=Sh(n)/Sh(t),(xh(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Du(n.min,n.max,e.origin)-e.originPoint,(xh(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Th(e,t,n,r){kh(e.x,t.x,n.x,r?r.originX:void 0),kh(e.y,t.y,n.y,r?r.originY:void 0)}function _h(e,t,n){e.min=n.min+t.min,e.max=e.min+Sh(t)}function Ch(e,t,n){e.min=t.min-n.min,e.max=e.min+Sh(t)}function Ih(e,t,n){Ch(e.x,t.x,n.x),Ch(e.y,t.y,n.y)}function Ah(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Nh(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Ph=.35;function Dh(e,t,n){return{min:Rh(e,t),max:Rh(e,n)}}function Rh(e,t){return"number"===typeof e?e:e[t]||0}const Lh=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Oh(e){return[e("x"),e("y")]}function Mh(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Vh(e){return void 0===e||1===e}function Fh(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Vh(t)||!Vh(n)||!Vh(r)}function jh(e){return Fh(e)||Uh(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Uh(e){return Bh(e.x)||Bh(e.y)}function Bh(e){return e&&"0%"!==e}function zh(e,t,n){return n+t*(e-n)}function $h(e,t,n,r,i){return void 0!==i&&(e=zh(e,i,r)),zh(e,n,r)+t}function qh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=$h(e.min,t,n,r,i),e.max=$h(e.max,t,n,r,i)}function Hh(e,t){let{x:n,y:r}=t;qh(e.x,n.translate,n.scale,n.originPoint),qh(e.y,r.translate,r.scale,r.originPoint)}function Wh(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Kh(e,t){e.min=e.min+t,e.max=e.max+t}function Gh(e,t,n){let[r,i,s]=n;const o=void 0!==t[s]?t[s]:.5,a=Du(e.min,e.max,o);qh(e,t[r],t[i],a,t.scale)}const Qh=["x","scaleX","originX"],Yh=["y","scaleY","originY"];function Xh(e,t){Gh(e.x,t,Qh),Gh(e.y,t,Yh)}function Jh(e,t){return Mh(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Zh=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},ed=new WeakMap;class td{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new mh(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Dl(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jl(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oh(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ja.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Sh(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&kl.update(()=>i(e,t),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Oh(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Zh(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&kl.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!nd(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Du(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Du(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Jo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:Ah(e.x,r,s),y:Ah(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ph;return!1===e?e=0:!0===e&&(e=Ph),{x:Dh(e,"left","right"),y:Dh(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Oh(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Jo(e))return!1;const n=e.current;tu(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Jh(e,n),{scroll:i}=t;return i&&(Kh(r.x,i.offset.x),Kh(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Nh(e.x,t.x),y:Nh(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Mh(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Oh(o=>{if(!nd(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,h={type:"inertia",velocity:n?e[o]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,h)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Fc(e,n,0,t))}stopAnimation(){Oh(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Oh(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Oh(t=>{const{drag:n}=this.getProps();if(!nd(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Du(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Jo(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Oh(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Sh(e),i=Sh(t);return i>r?n=Ju(t.min,t.max-r,e.min):r>i&&(n=Ju(e.min,e.max-i,t.min)),Ia(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Oh(t=>{if(!nd(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Du(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;ed.set(this.visualElement,this);const e=Rl(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Jo(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Nl(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Oh(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=Ph,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function nd(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const rd=e=>(t,n)=>{e&&kl.update(()=>e(t,n))};const id={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sd(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const od={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Ua.test(e))return e;e=parseFloat(e)}return`${sd(e,t.target.x)}% ${sd(e,t.target.y)}%`}},ad={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=Wu.parse(e);if(s.length>5)return i;const o=Wu.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=u;const c=Du(l,u,.5);return"number"===typeof s[2+a]&&(s[2+a]/=c),"number"===typeof s[3+a]&&(s[3+a]/=c),o(s)}};class ld extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=cd,Object.assign(va,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),id.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||kl.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ud(e){const[t,n]=function(){const e=(0,i.useContext)(Wo);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,i.useId)();return(0,i.useEffect)(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),r=(0,i.useContext)(ua);return i.createElement(ld,{...e,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(ca),isPresent:t,safeToRemove:n})}const cd={borderRadius:{...od,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:od,borderTopRightRadius:od,borderBottomLeftRadius:od,borderBottomRightRadius:od,boxShadow:ad},hd=["TopLeft","TopRight","BottomLeft","BottomRight"],dd=hd.length,fd=e=>"string"===typeof e?parseFloat(e):e,pd=e=>"number"===typeof e||Ua.test(e);function md(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const gd=yd(0,.5,yu),vd=yd(.5,.95,El);function yd(e,t,n){return r=>r<e?0:r>t?1:n(Ju(e,t,r))}function wd(e,t){e.min=t.min,e.max=t.max}function bd(e,t){wd(e.x,t.x),wd(e.y,t.y)}function Ed(e,t,n,r,i){return e=zh(e-=t,1/n,r),void 0!==i&&(e=zh(e,1/i,r)),e}function Sd(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ja.test(t)&&(t=parseFloat(t),t=Du(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=Du(s.min,s.max,r);e===s&&(a-=t),e.min=Ed(e.min,t,n,a,i),e.max=Ed(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const xd=["x","scaleX","originX"],kd=["y","scaleY","originY"];function Td(e,t,n,r){Sd(e.x,t,xd,n?n.x:void 0,r?r.x:void 0),Sd(e.y,t,kd,n?n.y:void 0,r?r.y:void 0)}function _d(e){return 0===e.translate&&1===e.scale}function Cd(e){return _d(e.x)&&_d(e.y)}function Id(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Ad(e){return Sh(e.x)/Sh(e.y)}class Nd{constructor(){this.members=[]}add(e){Bc(this.members,e),e.scheduleRender()}remove(e){if(zc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Pd(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return 1===o&&1===a||(r+=`scale(${o}, ${a})`),r||"none"}const Dd=(e,t)=>e.depth-t.depth;class Rd{constructor(){this.children=[],this.isDirty=!1}add(e){Bc(this.children,e),this.isDirty=!0}remove(e){zc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Dd),this.isDirty=!1,this.children.forEach(e)}}const Ld=["","X","Y","Z"],Od={visibility:"hidden"};let Md=0;const Vd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Fd(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Md++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vd.totalNodes=Vd.resolvedTargetDeltas=Vd.recalculatedProjection=0,this.nodes.forEach(Bd),this.nodes.forEach(Gd),this.nodes.forEach(Qd),this.nodes.forEach(zd),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(Vd)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rd)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new $c),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(Tl(r),e(o-t))};return kl.read(r,!0),()=>Tl(r)}(r,250),id.hasAnimatedSinceResize&&(id.hasAnimatedSinceResize=!1,this.nodes.forEach(Kd))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||tf,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),u=!this.targetLayout||!Id(this.targetLayout,i)||r,c=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,c);const e={...Mc(s,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Kd(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Tl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yd),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(qd);this.isUpdating||this.nodes.forEach(Hd),this.isUpdating=!1,this.nodes.forEach(Wd),this.nodes.forEach(jd),this.nodes.forEach(Ud),this.clearAllSnapshots();const e=performance.now();_l.delta=Ia(0,1e3/60,e-_l.timestamp),_l.timestamp=e,_l.isProcessing=!0,Cl.update.process(_l),Cl.preRender.process(_l),Cl.render.process(_l),_l.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($d),this.sharedNodes.forEach(Xd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kl.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kl.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Cd(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||jh(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),sf((r=n).x),sf(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Kh(t.x,n.offset.x),Kh(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};bd(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){bd(t,e);const{scroll:n}=this.root;n&&(Kh(t.x,-n.offset.x),Kh(t.y,-n.offset.y))}Kh(t.x,i.offset.x),Kh(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};bd(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Xh(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),jh(e.latestValues)&&Xh(n,e.latestValues)}return jh(this.latestValues)&&Xh(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};bd(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!jh(e.latestValues))continue;Fh(e.latestValues)&&e.updateSnapshot();const r=Lh();bd(r,e.measurePageBox()),Td(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return jh(this.latestValues)&&Td(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_l.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=_l.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ih(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),bd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,_h(o.x,a.x,l.x),_h(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):bd(this.target,this.layout.layoutBox),Hh(this.target,this.targetDelta)):bd(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ih(this.relativeTargetOrigin,this.target,e.target),bd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Fh(this.parent.latestValues)&&!Uh(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===_l.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;bd(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Hh(e,o)),r&&jh(s.latestValues)&&Xh(e,s.latestValues))}t.x=Wh(t.x),t.y=Wh(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const u=this.projectionTransform;Th(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Pd(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Vd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(ef));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Jd(s.x,e.x,n),Jd(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ih(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Zd(e.x,t.x,n.x,r),Zd(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),bd(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Du(0,void 0!==n.opacity?n.opacity:1,gd(r)),e.opacityExit=Du(void 0!==t.opacity?t.opacity:1,0,vd(r))):s&&(e.opacity=Du(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<dd;o++){const i=`border${hd[o]}Radius`;let s=md(t,i),a=md(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||pd(s)===pd(a)?(e[i]=Math.max(Du(fd(s),fd(a),r),0),(ja.test(a)||ja.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=Du(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Tl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kl.update(()=>{id.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Ea(e)?e:Wc(e);return r.start(Fc("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&of(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Sh(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Sh(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}bd(t,n),Xh(t,i),Th(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Nd);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<Ld.length;i++){const t="rotate"+Ld[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Od;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=yl(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=yl(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!jh(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Pd(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in va){if(void 0===o[u])continue;const{correct:e,applyTo:t}=va[u],n="none"===r.transform?o[u]:e(o[u],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=s===this?yl(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(qd),this.root.sharedNodes.clear()}}}function jd(e){e.updateLayout()}function Ud(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Oh(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Sh(r);r.min=t[e].min,r.max=r.min+i}):of(i,n.layoutBox,t)&&Oh(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=Sh(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Th(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Th(a,e.applyTransform(r,!0),n.measuredBox):Th(a,t,n.layoutBox);const l=!Cd(o);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};Ih(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Ih(a,t,s.layoutBox),Id(o,a)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Bd(e){Vd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zd(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $d(e){e.clearSnapshot()}function qd(e){e.clearMeasurements()}function Hd(e){e.isLayoutDirty=!1}function Wd(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Kd(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Gd(e){e.resolveTargetDelta()}function Qd(e){e.calcProjection()}function Yd(e){e.resetRotation()}function Xd(e){e.removeLeadSnapshot()}function Jd(e,t,n){e.translate=Du(t.translate,0,n),e.scale=Du(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Zd(e,t,n,r){e.min=Du(t.min,n.min,r),e.max=Du(t.max,n.max,r)}function ef(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const tf={duration:.45,ease:[.4,0,.1,1]},nf=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),rf=nf("applewebkit/")&&!nf("chrome/")?Math.round:El;function sf(e){e.min=rf(e.min),e.max=rf(e.max)}function of(e,t,n){return"position"===e||"preserve-aspect"===e&&!xh(Ad(t),Ad(n),.2)}const af=Fd({attachResizeListener:(e,t)=>Nl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lf={current:void 0},uf=Fd({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lf.current){const e=new af({});e.mount(window),e.setOptions({layoutScroll:!0}),lf.current=e}return lf.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),cf={pan:{Feature:class extends Bl{constructor(){super(...arguments),this.removePointerDownListener=El}onPointerDown(e){this.session=new mh(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zh(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:rd(e),onStart:rd(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&kl.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=Rl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Bl{constructor(e){super(e),this.removeGroupControls=El,this.removeListeners=El,this.controls=new td(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||El}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:uf,MeasureLayout:ud}},hf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function df(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;tu(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=hf.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Uc(e)?parseFloat(e):e}return _a(i)?df(i,t,n+1):i}const ff=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pf=e=>ff.has(e),mf=e=>e===Aa||e===Ua,gf=(e,t)=>parseFloat(e.split(", ")[t]),vf=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return gf(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?gf(t[1],e):0}},yf=new Set(["x","y","z"]),wf=ya.filter(e=>!yf.has(e));const bf={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:vf(4,13),y:vf(5,14)};bf.translateX=bf.x,bf.translateY=bf.y;const Ef=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(pf);let s=[],o=!1;const a=[];if(i.forEach(i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let u=n[i],c=Qc(u);const h=t[i];let d;if(gl(h)){const e=h.length,t=null===h[0]?1:0;u=h[t],c=Qc(u);for(let n=t;n<e&&null!==h[n];n++)d?tu(Qc(h[n])===d,"All keyframes must be of the same type"):(d=Qc(h[n]),tu(d===c||mf(c)&&mf(d),"Keyframes must be of the same dimension as the current value"))}else d=Qc(h);if(c!==d)if(mf(c)&&mf(d)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===Ua&&(t[i]=h.map(parseFloat))}else(null===c||void 0===c?void 0:c.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===u||0===h)?0===u?l.set(d.transform(u)):t[i]=c.transform(h):(o||(s=function(e){const t=[];return wf.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),o=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(h))}),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{a[e]=bf[e](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=bf[n](l,s)}),e})(t,e,a);return s.length&&s.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),Ko&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Sf(e,t,n,r){return(e=>Object.keys(e).some(pf))(t)?Ef(e,t,n,r):{target:t,transitionEnd:r}}const xf=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach(e=>{const t=e.get();if(!_a(t))return;const n=df(t,i);n&&e.set(n)});for(const s in r){const e=r[s];if(!_a(e))continue;const t=df(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}(e,t,r);return Sf(e,t=i.target,n,r=i.transitionEnd)},kf={current:null},Tf={current:!1};const _f=new WeakMap,Cf=Object.keys(la),If=Cf.length,Af=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Nf=na.length;class Pf{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>kl.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=ra(n),this.isVariantNode=ia(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const e=c[h];void 0!==a[h]&&Ea(e)&&(e.set(a[h],!1),jc(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,_f.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Tf.current||function(){if(Tf.current=!0,Ko)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kf.current=e.matches;e.addListener(t),t()}else kf.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||kf.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_f.delete(this.current),this.projection&&this.projection.unmount(),Tl(this.notifyUpdate),Tl(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=wa.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&kl.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:o,...a}=e;for(let l=0;l<If;l++){const e=Cf[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:o}=la[e];r&&(i=r),t(a)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),o&&(s=o))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:o,layoutRoot:l}=a;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&Jo(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Af.length;n++){const t=Af[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Ea(s))e.addValue(i,s),jc(r)&&r.add(i);else if(Ea(o))e.addValue(i,Wc(s,{owner:e})),jc(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,Wc(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Nf;t++){const n=na[t],r=this.props[n];(Zo(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Wc(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=pl(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Ea(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new $c),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Df extends Pf{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...s}=e,{transformValues:o}=t,a=function(e,t,n){const r={};for(const i in e){const e=eh(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(o&&(i&&(i=o(i)),s&&(s=o(s)),a&&(a=o(a))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter(t=>!e.hasValue(t)),o=s.length;if(o)for(let a=0;a<o;a++){const o=s[a],l=t[o];let u=null;Array.isArray(l)&&(u=l[0]),null===u&&(u=null!==(i=null!==(r=n[o])&&void 0!==r?r:e.readValue(o))&&void 0!==i?i:t[o]),void 0!==u&&null!==u&&("string"===typeof u&&(Uc(u)||Lc(u))?u=parseFloat(u):!Xc(u)&&Wu.test(l)&&(u=Rc(o,l)),e.addValue(o,Wc(u,{owner:e})),void 0===n[o]&&(n[o]=u),null!==u&&e.setBaseTarget(o,u))}}(this,s,a);const e=xf(this,s,a,i);i=e.transitionEnd,s=e.target}return{transition:r,transitionEnd:i,...s}}}class Rf extends Df{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(wa.has(t)){const e=Dc(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Ta(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Jh(e,n)}build(e,t,n,r){Wa(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return dl(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ea(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}renderInstance(e,t,n,r){ul(e,t,n,r)}}class Lf extends Df{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(wa.has(t)){const e=Dc(t);return e&&e.default||0}return t=cl.has(t)?t:Yo(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return fl(e,t)}build(e,t,n,r){il(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){hl(e,t,0,r)}mount(e){this.isSVGTag=ol(e.tagName),super.mount(e)}}const Of=(e,t)=>ga(e)?new Lf(t,{enableHardwareAcceleration:!1}):new Rf(t,{enableHardwareAcceleration:!0}),Mf={...fh,...Xl,...cf,...{layout:{ProjectionNode:uf,MeasureLayout:ud}}},Vf=pa((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...ga(e)?Il:Al,preloadedFeatures:n,useRender:ll(i),createVisualElement:r,Component:e}}(e,t,Mf,Of));cn("firebase","9.23.0","app");var Ff,jf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Uf={},Bf=Bf||{},zf=jf||self;function $f(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Hf="closure_uid_"+(1e9*Math.random()>>>0),Wf=0;function Kf(e,t,n){return e.call.apply(e.bind,arguments)}function Gf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Qf(e,t,n){return(Qf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kf:Gf).apply(null,arguments)}function Yf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Xf(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Jf(){this.s=this.s,this.o=this.o}Jf.prototype.s=!1,Jf.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Hf)&&e[Hf]||(e[Hf]=++Wf))},Jf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ep(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function tp(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if($f(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function np(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}np.prototype.h=function(){this.defaultPrevented=!0};var rp=function(){if(!zf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{zf.addEventListener("test",()=>{},t),zf.removeEventListener("test",()=>{},t)}catch(n){}return e}();function ip(e){return/^[\s\xa0]*$/.test(e)}function sp(){var e=zf.navigator;return e&&(e=e.userAgent)?e:""}function op(e){return-1!=sp().indexOf(e)}function ap(e){return ap[" "](e),e}ap[" "]=function(){};var lp,up,cp=op("Opera"),hp=op("Trident")||op("MSIE"),dp=op("Edge"),fp=dp||hp,pp=op("Gecko")&&!(-1!=sp().toLowerCase().indexOf("webkit")&&!op("Edge"))&&!(op("Trident")||op("MSIE"))&&!op("Edge"),mp=-1!=sp().toLowerCase().indexOf("webkit")&&!op("Edge");function gp(){var e=zf.document;return e?e.documentMode:void 0}e:{var vp="",yp=function(){var e=sp();return pp?/rv:([^\);]+)(\)|;)/.exec(e):dp?/Edge\/([\d\.]+)/.exec(e):hp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):mp?/WebKit\/(\S+)/.exec(e):cp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(yp&&(vp=yp?yp[1]:""),hp){var wp=gp();if(null!=wp&&wp>parseFloat(vp)){lp=String(wp);break e}}lp=vp}if(zf.document&&hp){var bp=gp();up=bp||(parseInt(lp,10)||void 0)}else up=void 0;var Ep=up;function Sp(e,t){if(np.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(pp){e:{try{ap(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sp.$.h.call(this)}}Xf(Sp,np);var xp={2:"touch",3:"pen",4:"mouse"};Sp.prototype.h=function(){Sp.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var kp="closure_listenable_"+(1e6*Math.random()|0),Tp=0;function _p(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Tp,this.fa=this.ia=!1}function Cp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ip(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ap(e){const t={};for(const n in e)t[n]=e[n];return t}const Np="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pp(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Np.length;t++)n=Np[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Dp(e){this.src=e,this.g={},this.h=0}function Rp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Zf(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Cp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Lp(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Dp.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Lp(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new _p(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Op="closure_lm_"+(1e6*Math.random()|0),Mp={};function Vp(e,t,n,r,i){if(r&&r.once)return jp(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Vp(e,t[s],n,r,i);return null}return n=Wp(n),e&&e[kp]?e.O(t,n,qf(r)?!!r.capture:!!r,i):Fp(e,t,n,!1,r,i)}function Fp(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=qf(i)?!!i.capture:!!i,a=qp(e);if(a||(e[Op]=a=new Dp(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$p;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)rp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jp(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)jp(e,t[s],n,r,i);return null}return n=Wp(n),e&&e[kp]?e.P(t,n,qf(r)?!!r.capture:!!r,i):Fp(e,t,n,!0,r,i)}function Up(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Up(e,t[s],n,r,i);else r=qf(r)?!!r.capture:!!r,n=Wp(n),e&&e[kp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Lp(s=e.g[t],n,r,i))&&(Cp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=qp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Lp(t,n,r,i)),(n=-1<e?t[e]:null)&&Bp(n))}function Bp(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[kp])Rp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qp(t))?(Rp(n,e),0==n.h&&(n.src=null,t[Op]=null)):Cp(e)}}}function zp(e){return e in Mp?Mp[e]:Mp[e]="on"+e}function $p(e,t){if(e.fa)e=!0;else{t=new Sp(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Bp(e),e=n.call(r,t)}return e}function qp(e){return(e=e[Op])instanceof Dp?e:null}var Hp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wp(e){return"function"===typeof e?e:(e[Hp]||(e[Hp]=function(t){return e.handleEvent(t)}),e[Hp])}function Kp(){Jf.call(this),this.i=new Dp(this),this.S=this,this.J=null}function Gp(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new np(t,e);else if(t instanceof np)t.target=t.target||e;else{var i=t;Pp(t=new np(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Qp(o,r,!0,t)&&i}if(i=Qp(o=t.g=e,r,!0,t)&&i,i=Qp(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Qp(o=t.g=n[s],r,!1,t)&&i}function Qp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Rp(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Xf(Kp,Jf),Kp.prototype[kp]=!0,Kp.prototype.removeEventListener=function(e,t,n,r){Up(this,e,t,n,r)},Kp.prototype.N=function(){if(Kp.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cp(n[r]);delete t.g[e],t.h--}}this.J=null},Kp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kp.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yp=zf.JSON.stringify;function Xp(){var e=im;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jp=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Zp,e=>e.reset());class Zp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function em(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function tm(e){zf.setTimeout(()=>{throw e},0)}let nm,rm=!1,im=new class{constructor(){this.h=this.g=null}add(e,t){const n=Jp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},sm=()=>{const e=zf.Promise.resolve(void 0);nm=()=>{e.then(om)}};var om=()=>{for(var e;e=Xp();){try{e.h.call(e.g)}catch(n){tm(n)}var t=Jp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rm=!1};function am(e,t){Kp.call(this),this.h=e||1,this.g=t||zf,this.j=Qf(this.qb,this),this.l=Date.now()}function lm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function um(e,t,n){if("function"===typeof e)n&&(e=Qf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Qf(e.handleEvent,e)}return 2147483647<Number(t)?-1:zf.setTimeout(e,t||0)}function cm(e){e.g=um(()=>{e.g=null,e.i&&(e.i=!1,cm(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Xf(am,Kp),(Ff=am.prototype).ga=!1,Ff.T=null,Ff.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gp(this,"tick"),this.ga&&(lm(this),this.start()))}},Ff.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ff.N=function(){am.$.N.call(this),lm(this),delete this.g};class hm extends Jf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cm(this)}N(){super.N(),this.g&&(zf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dm(e){Jf.call(this),this.h=e,this.g={}}Xf(dm,Jf);var fm=[];function pm(e,t,n,r){Array.isArray(n)||(n&&(fm[0]=n.toString()),n=fm);for(var i=0;i<n.length;i++){var s=Vp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function mm(e){Ip(e.g,function(e,t){this.g.hasOwnProperty(t)&&Bp(e)},e),e.g={}}function gm(){this.g=!0}function vm(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Yp(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}dm.prototype.N=function(){dm.$.N.call(this),mm(this)},dm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gm.prototype.Ea=function(){this.g=!1},gm.prototype.info=function(){};var ym={},wm=null;function bm(){return wm=wm||new Kp}function Em(e){np.call(this,ym.Ta,e)}function Sm(e){const t=bm();Gp(t,new Em(t))}function xm(e,t){np.call(this,ym.STAT_EVENT,e),this.stat=t}function km(e){const t=bm();Gp(t,new xm(t,e))}function Tm(e,t){np.call(this,ym.Ua,e),this.size=t}function _m(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return zf.setTimeout(function(){e()},t)}ym.Ta="serverreachability",Xf(Em,np),ym.STAT_EVENT="statevent",Xf(xm,np),ym.Ua="timingevent",Xf(Tm,np);var Cm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Im={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Am(){}function Nm(e){return e.h||(e.h=e.i())}function Pm(){}Am.prototype.h=null;var Dm,Rm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lm(){np.call(this,"d")}function Om(){np.call(this,"c")}function Mm(){}function Vm(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new dm(this),this.P=jm,e=fp?125:void 0,this.V=new am(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Fm}function Fm(){this.i=null,this.g="",this.h=!1}Xf(Lm,np),Xf(Om,np),Xf(Mm,Am),Mm.prototype.g=function(){return new XMLHttpRequest},Mm.prototype.i=function(){return{}},Dm=new Mm;var jm=45e3,Um={},Bm={};function zm(e,t,n){e.L=1,e.v=ag(ng(t)),e.s=n,e.S=!0,$m(e,null)}function $m(e,t){e.G=Date.now(),Km(e),e.A=ng(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),bg(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Fm,e.g=Ev(e.l,n?t:null,!e.s),0<e.O&&(e.M=new hm(Qf(e.Pa,e,e.g),e.O)),pm(e.U,e.g,"readystatechange",e.nb),t=e.I?Ap(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Sm(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.W,e.s)}function qm(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Hm(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Wm(e,n),r==Bm){4==t&&(e.o=4,km(14),i=!1),vm(e.j,e.m,null,"[Incomplete Response]");break}if(r==Um){e.o=4,km(15),vm(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}vm(e.j,e.m,r,null),Jm(e,r)}qm(e)&&r!=Bm&&r!=Um&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,km(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fv(t),t.M=!0,km(11))):(vm(e.j,e.m,n,"[Invalid Chunked Response]"),Xm(e),Ym(e))}function Wm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bm:(n=Number(t.substring(n,r)),isNaN(n)?Um:(r+=1)+n>t.length?Bm:(t=t.slice(r,r+n),e.C=r+n,t))}function Km(e){e.Y=Date.now()+e.P,Gm(e,e.P)}function Gm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_m(Qf(e.lb,e),t)}function Qm(e){e.B&&(zf.clearTimeout(e.B),e.B=null)}function Ym(e){0==e.l.H||e.J||gv(e.l,e)}function Xm(e){Qm(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,lm(e.V),mm(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Jm(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Cg(n.i,e)))if(!e.K&&Cg(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;mv(n),sv(n)}dv(n),km(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=_m(Qf(n.ib,n),6e3));if(1>=_g(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else yv(n,11)}else if((e.K||n.g==e)&&mv(n),!ip(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ig(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,og(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=bv(r,r.J?r.pa:null,r.Y),o.K){Ag(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Qm(a),Km(a)),r.g=o}else hv(r);0<n.j.length&&av(n)}else"stop"!=u[0]&&"close"!=u[0]||yv(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?yv(n,7):iv(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Sm()}catch(u){}}function Zm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if($f(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if($f(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if($f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Ff=Vm.prototype).setTimeout=function(e){this.P=e},Ff.nb=function(e){e=e.target;const t=this.M;t&&3==Jg(e)?t.l():this.Pa(e)},Ff.Pa=function(e){try{if(e==this.g)e:{const c=Jg(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||fp||this.g&&(this.h.h||this.g.ja()||Zg(this.g)))){this.J||4!=c||7==t||Sm(),Qm(this);var n=this.g.da();this.ca=n;t:if(qm(this)){var r=Zg(this.g);e="";var i=r.length,s=4==Jg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xm(this),Ym(this);var o="";break t}this.h.i=new zf.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ip(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,km(12),Xm(this),Ym(this);break e}vm(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jm(this,n)}this.S?(Hm(this,c,o),fp&&this.i&&3==c&&(pm(this.U,this.V,"tick",this.mb),this.V.start())):(vm(this.j,this.m,o,null),Jm(this,o)),4==c&&Xm(this),this.i&&!this.J&&(4==c?gv(this.l,this):(this.i=!1,Km(this)))}else(function(e){const t={};e=(e.g&&2<=Jg(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ip(e[r]))continue;var n=em(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,km(12)):(this.o=0,km(13)),Xm(this),Ym(this)}}}catch(c){}},Ff.mb=function(){if(this.g){var e=Jg(this.g),t=this.g.ja();this.C<t.length&&(Qm(this),Hm(this,e,t),this.i&&4!=e&&Km(this))}},Ff.cancel=function(){this.J=!0,Xm(this)},Ff.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Sm(),km(17)),Xm(this),this.o=2,Ym(this)):Gm(this,this.Y-e)};var eg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof tg){this.h=e.h,rg(this,e.j),this.s=e.s,this.g=e.g,ig(this,e.m),this.l=e.l;var t=e.i,n=new gg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sg(this,n),this.o=e.o}else e&&(t=String(e).match(eg))?(this.h=!1,rg(this,t[1]||"",!0),this.s=lg(t[2]||""),this.g=lg(t[3]||"",!0),ig(this,t[4]),this.l=lg(t[5]||"",!0),sg(this,t[6]||"",!0),this.o=lg(t[7]||"")):(this.h=!1,this.i=new gg(null,this.h))}function ng(e){return new tg(e)}function rg(e,t,n){e.j=n?lg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ig(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sg(e,t,n){t instanceof gg?(e.i=t,function(e,t){t&&!e.j&&(vg(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(yg(this,t),bg(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ug(t,pg)),e.i=new gg(t,e.h))}function og(e,t,n){e.i.set(t,n)}function ag(e){return og(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function lg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ug(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}tg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ug(t,hg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ug(t,hg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ug(n,"/"==n.charAt(0)?fg:dg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ug(n,mg)),e.join("")};var hg=/[#\/\?@]/g,dg=/[#\?:]/g,fg=/[#\?]/g,pg=/[#\?@]/g,mg=/#/g;function gg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function yg(e,t){vg(e),t=Eg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wg(e,t){return vg(e),t=Eg(e,t),e.g.has(t)}function bg(e,t,n){yg(e,t),0<n.length&&(e.i=null,e.g.set(Eg(e,t),ep(n)),e.h+=n.length)}function Eg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ff=gg.prototype).add=function(e,t){vg(this),this.i=null,e=Eg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ff.forEach=function(e,t){vg(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Ff.ta=function(){vg(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ff.Z=function(e){vg(this);let t=[];if("string"===typeof e)wg(this,e)&&(t=t.concat(this.g.get(Eg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ff.set=function(e,t){return vg(this),this.i=null,wg(this,e=Eg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ff.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ff.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Sg=class{constructor(e,t){this.g=e,this.map=t}};function xg(e){this.l=e||kg,zf.PerformanceNavigationTiming?e=0<(e=zf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(zf.g&&zf.g.Ka&&zf.g.Ka()&&zf.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kg=10;function Tg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _g(e){return e.h?1:e.g?e.g.size:0}function Cg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ig(e,t){e.g?e.g.add(t):e.h=t}function Ag(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ng(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ep(e.i)}xg.prototype.cancel=function(){if(this.i=Ng(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Pg,Dg=class{stringify(e){return zf.JSON.stringify(e,void 0)}parse(e){return zf.JSON.parse(e,void 0)}};function Rg(){this.g=new Dg}function Lg(e,t,n){const r=n||"";try{Zm(e,function(e,n){let i=e;qf(e)&&(i=Yp(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch($I){throw t.push(r+"type="+encodeURIComponent("_badmap")),$I}}function Og(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Mg(e){this.l=e.fc||null,this.j=e.ob||!1}function Vg(e,t){Kp.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Fg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xf(Mg,Am),Mg.prototype.g=function(){return new Vg(this.l,this.j)},Mg.prototype.i=(Pg={},function(){return Pg}),Xf(Vg,Kp);var Fg=0;function jg(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ug(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bg(e)}function Bg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ff=Vg.prototype).open=function(e,t){if(this.readyState!=Fg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bg(this)},Ff.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||zf).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ff.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ug(this)),this.readyState=Fg},Ff.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bg(this)),this.g&&(this.readyState=3,Bg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof zf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jg(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ff.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ug(this):Bg(this),3==this.readyState&&jg(this)}},Ff.Za=function(e){this.g&&(this.response=this.responseText=e,Ug(this))},Ff.Ya=function(e){this.g&&(this.response=e,Ug(this))},Ff.ka=function(){this.g&&Ug(this)},Ff.setRequestHeader=function(e,t){this.v.append(e,t)},Ff.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ff.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var zg=zf.JSON.parse;function $g(e){Kp.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qg,this.L=this.M=!1}Xf($g,Kp);var qg="",Hg=/^https?$/i,Wg=["POST","PUT"];function Kg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gg(e),Yg(e)}function Gg(e){e.F||(e.F=!0,Gp(e,"complete"),Gp(e,"error"))}function Qg(e){if(e.h&&"undefined"!=typeof Bf&&(!e.C[1]||4!=Jg(e)||2!=e.da()))if(e.v&&4==Jg(e))um(e.La,0,e);else if(Gp(e,"readystatechange"),4==Jg(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(eg)[1]||null;!i&&zf.self&&zf.self.location&&(i=zf.self.location.protocol.slice(0,-1)),r=!Hg.test(i?i.toLowerCase():"")}n=r}if(n)Gp(e,"complete"),Gp(e,"success");else{e.m=6;try{var s=2<Jg(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Gg(e)}}finally{Yg(e)}}}function Yg(e,t){if(e.g){Xg(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Gp(e,"ready");try{n.onreadystatechange=r}catch($I){}}}function Xg(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(zf.clearTimeout(e.A),e.A=null)}function Jg(e){return e.g?e.g.readyState:0}function Zg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case qg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(iy){return null}}function ev(e){let t="";return Ip(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function tv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ev(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):og(e,t,n))}function nv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rv(e){this.Ga=0,this.j=[],this.l=new gm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nv("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nv("baseRetryDelayMs",5e3,e),this.hb=nv("retryDelaySeedMs",1e4,e),this.eb=nv("forwardChannelMaxRetries",2,e),this.xa=nv("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new xg(e&&e.concurrentRequestLimit),this.Ja=new Rg,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function iv(e){if(ov(e),3==e.H){var t=e.W++,n=ng(e.I);if(og(n,"SID",e.K),og(n,"RID",t),og(n,"TYPE","terminate"),uv(e,n),(t=new Vm(e,e.l,t)).L=2,t.v=ag(ng(n)),n=!1,zf.navigator&&zf.navigator.sendBeacon)try{n=zf.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&zf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ev(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Km(t)}wv(e)}function sv(e){e.g&&(fv(e),e.g.cancel(),e.g=null)}function ov(e){sv(e),e.u&&(zf.clearTimeout(e.u),e.u=null),mv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&zf.clearTimeout(e.m),e.m=null)}function av(e){if(!Tg(e.i)&&!e.m){e.m=!0;var t=e.Na;nm||sm(),rm||(nm(),rm=!0),im.add(t,e),e.C=0}}function lv(e,t){var n;n=t?t.m:e.W++;const r=ng(e.I);og(r,"SID",e.K),og(r,"RID",n),og(r,"AID",e.V),uv(e,r),e.o&&e.s&&tv(r,e.o,e.s),n=new Vm(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=cv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ig(e.i,n),zm(n,r,t)}function uv(e,t){e.na&&Ip(e.na,function(e,n){og(t,n,e)}),e.h&&Zm({},function(e,n){og(t,n,e)})}function cv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Qf(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Lg(a,e,"req"+n+"_")}catch(my){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function hv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;nm||sm(),rm||(nm(),rm=!0),im.add(t,e),e.A=0}}function dv(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=_m(Qf(e.Ma,e),vv(e,e.A)),e.A++,!0)}function fv(e){null!=e.B&&(zf.clearTimeout(e.B),e.B=null)}function pv(e){e.g=new Vm(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ng(e.wa);og(t,"RID","rpc"),og(t,"SID",e.K),og(t,"AID",e.V),og(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&og(t,"TO",e.qa),og(t,"TYPE","xmlhttp"),uv(e,t),e.o&&e.s&&tv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ag(ng(t)),n.s=null,n.S=!0,$m(n,e)}function mv(e){null!=e.v&&(zf.clearTimeout(e.v),e.v=null)}function gv(e,t){var n=null;if(e.g==t){mv(e),fv(e),e.g=null;var r=2}else{if(!Cg(e.i,t))return;n=t.F,Ag(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Gp(r=bm(),new Tm(r,n)),av(e)}else hv(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(_g(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=_m(Qf(e.Na,e,t),vv(e,e.C)),e.C++,!0))}(e,t)||2==r&&dv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:yv(e,5);break;case 4:yv(e,10);break;case 3:yv(e,6);break;default:yv(e,2)}}function vv(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function yv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Qf(e.pb,e);n||(n=new tg("//www.google.com/images/cleardot.gif"),zf.location&&"http"==zf.location.protocol||rg(n,"https"),ag(n)),function(e,t){const n=new gm;if(zf.Image){const r=new Image;r.onload=Yf(Og,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yf(Og,n,r,"TestLoadImage: error",!1,t),r.onabort=Yf(Og,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yf(Og,n,r,"TestLoadImage: timeout",!1,t),zf.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else km(2);e.H=0,e.h&&e.h.za(t),wv(e),ov(e)}function wv(e){if(e.H=0,e.ma=[],e.h){const t=Ng(e.i);0==t.length&&0==e.j.length||(tp(e.ma,t),tp(e.ma,e.j),e.i.i.length=0,ep(e.j),e.j.length=0),e.h.ya()}}function bv(e,t,n){var r=n instanceof tg?ng(n):new tg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ig(r,r.m);else{var i=zf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new tg(null);r&&rg(s,r),t&&(s.g=t),i&&ig(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&og(r,n,t),og(r,"VER",e.ra),uv(e,r),r}function Ev(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new $g(new Mg({ob:!0})):new $g(e.va)).Oa(e.J),t}function Sv(){}function xv(){if(hp&&!(10<=Number(Ep)))throw Error("Environmental error: no available transport.")}function kv(e,t){Kp.call(this),this.g=new rv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ip(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ip(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cv(this)}function Tv(e){Lm.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _v(){Om.call(this),this.status=1}function Cv(e){this.g=e}function Iv(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Av(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Nv(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Ff=$g.prototype).Oa=function(e){this.M=e},Ff.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dm.g(),this.C=this.u?Nm(this.u):Nm(Dm),this.g.onreadystatechange=Qf(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Kg(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=zf.FormData&&e instanceof zf.FormData,!(0<=Zf(Wg,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Xg(this),0<this.B&&((this.L=function(e){return hp&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qf(this.ua,this)):this.A=um(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kg(this,s)}},Ff.ua=function(){"undefined"!=typeof Bf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gp(this,"timeout"),this.abort(8))},Ff.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Gp(this,"complete"),Gp(this,"abort"),Yg(this))},Ff.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yg(this,!0)),$g.$.N.call(this)},Ff.La=function(){this.s||(this.G||this.v||this.l?Qg(this):this.kb())},Ff.kb=function(){Qg(this)},Ff.isActive=function(){return!!this.g},Ff.da=function(){try{return 2<Jg(this)?this.g.status:-1}catch(Pg){return-1}},Ff.ja=function(){try{return this.g?this.g.responseText:""}catch(Pg){return""}},Ff.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zg(t)}},Ff.Ia=function(){return this.m},Ff.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ff=rv.prototype).ra=8,Ff.H=1,Ff.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Vm(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Ap(s),Pp(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=cv(this,i,t),og(n=ng(this.I),"RID",e),og(n,"CVER",22),this.F&&og(n,"X-HTTP-Session-Id",this.F),uv(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(ev(s)))+"&"+t:this.o&&tv(n,this.o,s)),Ig(this.i,i),this.bb&&og(n,"TYPE","init"),this.P?(og(n,"$req",t),og(n,"SID","null"),i.aa=!0,zm(i,n,null)):zm(i,n,t),this.H=2}}else 3==this.H&&(e?lv(this,e):0==this.j.length||Tg(this.i)||lv(this))},Ff.Ma=function(){if(this.u=null,pv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_m(Qf(this.jb,this),e)}},Ff.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,km(10),sv(this),pv(this))},Ff.ib=function(){null!=this.v&&(this.v=null,sv(this),dv(this),km(19))},Ff.pb=function(e){e?(this.l.info("Successfully pinged google.com"),km(2)):(this.l.info("Failed to ping google.com"),km(1))},Ff.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ff=Sv.prototype).Ba=function(){},Ff.Aa=function(){},Ff.za=function(){},Ff.ya=function(){},Ff.isActive=function(){return!0},Ff.Va=function(){},xv.prototype.g=function(e,t){return new kv(e,t)},Xf(kv,Kp),kv.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;km(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=bv(e,null,e.Y),av(e)},kv.prototype.close=function(){iv(this.g)},kv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Yp(e),e=n);t.j.push(new Sg(t.fb++,e)),3==t.H&&av(t)},kv.prototype.N=function(){this.g.h=null,delete this.j,iv(this.g),delete this.g,kv.$.N.call(this)},Xf(Tv,Lm),Xf(_v,Om),Xf(Cv,Sv),Cv.prototype.Ba=function(){Gp(this.g,"a")},Cv.prototype.Aa=function(e){Gp(this.g,new Tv(e))},Cv.prototype.za=function(e){Gp(this.g,new _v)},Cv.prototype.ya=function(){Gp(this.g,"b")},Xf(Iv,function(){this.blockSize=-1}),Iv.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Iv.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Av(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Av(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Av(this,r),i=0;break}}this.h=i,this.i+=t},Iv.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Pv={};function Dv(e){return-128<=e&&128>e?function(e,t){var n=Pv;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Nv([0|e],0>e?-1:0)}):new Nv([0|e],0>e?-1:0)}function Rv(e){if(isNaN(e)||!isFinite(e))return Ov;if(0>e)return Uv(Rv(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Lv;return new Nv(t,0)}var Lv=4294967296,Ov=Dv(0),Mv=Dv(1),Vv=Dv(16777216);function Fv(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function jv(e){return-1==e.h}function Uv(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nv(n,~e.h).add(Mv)}function Bv(e,t){return e.add(Uv(t))}function zv(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function $v(e,t){this.g=e,this.h=t}function qv(e,t){if(Fv(t))throw Error("division by zero");if(Fv(e))return new $v(Ov,Ov);if(jv(e))return t=qv(Uv(e),t),new $v(Uv(t.g),Uv(t.h));if(jv(t))return t=qv(e,Uv(t)),new $v(Uv(t.g),t.h);if(30<e.g.length){if(jv(e)||jv(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Mv,r=t;0>=r.X(e);)n=Hv(n),r=Hv(r);var i=Wv(n,1),s=Wv(r,1);for(r=Wv(r,2),n=Wv(n,2);!Fv(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Wv(r,1),n=Wv(n,1)}return t=Bv(e,i.R(t)),new $v(i,t)}for(i=Ov;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Rv(n)).R(t);jv(o)||0<o.X(e);)o=(s=Rv(n-=r)).R(t);Fv(s)&&(s=Mv),i=i.add(s),e=Bv(e,o)}return new $v(i,e)}function Hv(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nv(n,e.h)}function Wv(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Nv(i,e.h)}(Ff=Nv.prototype).ea=function(){if(jv(this))return-Uv(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Lv+r)*t,t*=Lv}return e},Ff.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Fv(this))return"0";if(jv(this))return"-"+Uv(this).toString(e);for(var t=Rv(Math.pow(e,6)),n=this,r="";;){var i=qv(n,t).g,s=((0<(n=Bv(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Fv(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ff.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ff.X=function(e){return jv(e=Bv(this,e))?-1:Fv(e)?0:1},Ff.abs=function(){return jv(this)?Uv(this):this},Ff.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Nv(n,-2147483648&n[n.length-1]?-1:0)},Ff.R=function(e){if(Fv(this)||Fv(e))return Ov;if(jv(this))return jv(e)?Uv(this).R(Uv(e)):Uv(Uv(this).R(e));if(jv(e))return Uv(this.R(Uv(e)));if(0>this.X(Vv)&&0>e.X(Vv))return Rv(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,zv(n,2*r+2*i),n[2*r+2*i+1]+=s*l,zv(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,zv(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,zv(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nv(n,0)},Ff.gb=function(e){return qv(this,e).h},Ff.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nv(n,this.h&e.h)},Ff.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nv(n,this.h|e.h)},Ff.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nv(n,this.h^e.h)},xv.prototype.createWebChannel=xv.prototype.g,kv.prototype.send=kv.prototype.u,kv.prototype.open=kv.prototype.m,kv.prototype.close=kv.prototype.close,Cm.NO_ERROR=0,Cm.TIMEOUT=8,Cm.HTTP_ERROR=6,Im.COMPLETE="complete",Pm.EventType=Rm,Rm.OPEN="a",Rm.CLOSE="b",Rm.ERROR="c",Rm.MESSAGE="d",Kp.prototype.listen=Kp.prototype.O,$g.prototype.listenOnce=$g.prototype.P,$g.prototype.getLastError=$g.prototype.Sa,$g.prototype.getLastErrorCode=$g.prototype.Ia,$g.prototype.getStatus=$g.prototype.da,$g.prototype.getResponseJson=$g.prototype.Wa,$g.prototype.getResponseText=$g.prototype.ja,$g.prototype.send=$g.prototype.ha,$g.prototype.setWithCredentials=$g.prototype.Oa,Iv.prototype.digest=Iv.prototype.l,Iv.prototype.reset=Iv.prototype.reset,Iv.prototype.update=Iv.prototype.j,Nv.prototype.add=Nv.prototype.add,Nv.prototype.multiply=Nv.prototype.R,Nv.prototype.modulo=Nv.prototype.gb,Nv.prototype.compare=Nv.prototype.X,Nv.prototype.toNumber=Nv.prototype.ea,Nv.prototype.toString=Nv.prototype.toString,Nv.prototype.getBits=Nv.prototype.D,Nv.fromNumber=Rv,Nv.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Uv(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Rv(Math.pow(n,8)),i=Ov,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Rv(Math.pow(n,o)),i=i.R(o).add(Rv(a))):i=(i=i.R(r)).add(Rv(a))}return i};var Kv=Uf.createWebChannelTransport=function(){return new xv},Gv=Uf.getStatEventTarget=function(){return bm()},Qv=Uf.ErrorCode=Cm,Yv=Uf.EventType=Im,Xv=Uf.Event=ym,Jv=Uf.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zv=Uf.FetchXmlHttpFactory=Mg,ey=Uf.WebChannel=Pm,ty=Uf.XhrIo=$g,ny=Uf.Md5=Iv,ry=Uf.Integer=Nv;const iy="@firebase/firestore";class sy{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sy.UNAUTHENTICATED=new sy(null),sy.GOOGLE_CREDENTIALS=new sy("google-credentials-uid"),sy.FIRST_PARTY=new sy("first-party-uid"),sy.MOCK_USER=new sy("mock-user");let oy="9.23.0";const ay=new ot("@firebase/firestore");function ly(){return ay.logLevel}function uy(e){if(ay.logLevel<=tt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dy);ay.debug(`Firestore (${oy}): ${e}`,...i)}}function cy(e){if(ay.logLevel<=tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dy);ay.error(`Firestore (${oy}): ${e}`,...i)}}function hy(e){if(ay.logLevel<=tt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dy);ay.warn(`Firestore (${oy}): ${e}`,...i)}}function dy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function fy(){const e=`FIRESTORE (${oy}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw cy(e),new Error(e)}function py(e,t){e||fy()}function my(e,t){return e}const gy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vy extends je{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yy{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class by{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sy.UNAUTHENTICATED))}shutdown(){}}class Ey{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Sy{constructor(e){this.t=e,this.currentUser=sy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new yy;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yy,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{uy("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(uy("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yy)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(uy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(py("string"==typeof t.accessToken),new wy(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return py(null===e||"string"==typeof e),new sy(e)}}class xy{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=sy.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ky{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new xy(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(sy.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _y{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&uy("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,uy("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{uy("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):uy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(py("string"==typeof e.token),this.T=e.token,new Ty(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Cy(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Iy{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Cy(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ay(e,t){return e<t?-1:e>t?1:0}function Ny(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Py{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vy(gy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vy(gy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vy(gy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vy(gy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Py.fromMillis(Date.now())}static fromDate(e){return Py.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Py(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ay(this.nanoseconds,e.nanoseconds):Ay(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dy{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dy(e)}static min(){return new Dy(new Py(0,0))}static max(){return new Dy(new Py(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ry{constructor(e,t,n){void 0===t?t=0:t>e.length&&fy(),void 0===n?n=e.length-t:n>e.length-t&&fy(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ry.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ry?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ly extends Ry{construct(e,t,n){return new Ly(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vy(gy.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new Ly(e)}static emptyPath(){return new Ly([])}}const Oy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class My extends Ry{construct(e,t,n){return new My(e,t,n)}static isValidIdentifier(e){return Oy.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),My.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new My(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vy(gy.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vy(gy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vy(gy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new vy(gy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new My(t)}static emptyPath(){return new My([])}}class Vy{constructor(e){this.path=e}static fromPath(e){return new Vy(Ly.fromString(e))}static fromName(e){return new Vy(Ly.fromString(e).popFirst(5))}static empty(){return new Vy(Ly.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ly.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ly.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vy(new Ly(e.slice()))}}class Fy{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Fy.UNKNOWN_ID=-1;function jy(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Dy.fromTimestamp(1e9===r?new Py(n+1,0):new Py(n,r));return new By(i,Vy.empty(),t)}function Uy(e){return new By(e.readTime,e.key,-1)}class By{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new By(Dy.min(),Vy.empty(),-1)}static max(){return new By(Dy.max(),Vy.empty(),-1)}}function zy(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Vy.comparator(e.documentKey,t.documentKey),0!==n?n:Ay(e.largestBatchId,t.largestBatchId))}const $y="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Hy(e){if(e.code!==gy.FAILED_PRECONDITION||e.message!==$y)throw e;uy("LocalStore","Unexpectedly lost primary lease")}class Wy{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wy((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Wy?t:Wy.resolve(t)}catch(e){return Wy.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Wy.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Wy.reject(t)}static resolve(e){return new Wy((t,n)=>{t(e)})}static reject(e){return new Wy((t,n)=>{n(e)})}static waitFor(e){return new Wy((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Wy.resolve(!1);for(const n of e)t=t.next(e=>e?Wy.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Wy((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Wy((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ky(e){return"IndexedDbTransactionError"===e.name}class Gy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Qy(e){return null==e}function Yy(e){return 0===e&&1/e==-1/0}function Xy(e){return"number"==typeof e&&Number.isInteger(e)&&!Yy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Gy.ct=-1;const Jy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ew=Zy;function tw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nw(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class iw{constructor(e,t){this.comparator=e,this.root=t||ow.EMPTY}insert(e,t){return new iw(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ow.BLACK,null,null))}remove(e){return new iw(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ow.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sw(this.root,e,this.comparator,!1)}getReverseIterator(){return new sw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sw(this.root,e,this.comparator,!0)}}class sw{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ow{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ow.RED,this.left=null!=r?r:ow.EMPTY,this.right=null!=i?i:ow.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ow(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ow.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ow.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ow.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ow.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fy();if(this.right.isRed())throw fy();const e=this.left.check();if(e!==this.right.check())throw fy();return e+(this.isRed()?0:1)}}ow.EMPTY=null,ow.RED=!0,ow.BLACK=!1,ow.EMPTY=new class{constructor(){this.size=0}get key(){throw fy()}get value(){throw fy()}get color(){throw fy()}get left(){throw fy()}get right(){throw fy()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ow(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class aw{constructor(e){this.comparator=e,this.data=new iw(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lw(this.data.getIterator())}getIteratorFrom(e){return new lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof aw))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new aw(this.comparator);return t.data=e,t}}class lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class uw{constructor(e){this.fields=e,e.sort(My.comparator)}static empty(){return new uw([])}unionWith(e){let t=new aw(My.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new uw(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ny(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hw{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new cw("Invalid base64 string: "+e):e}}(e);return new hw(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new hw(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ay(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hw.EMPTY_BYTE_STRING=new hw("");const dw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fw(e){if(py(!!e),"string"==typeof e){let t=0;const n=dw.exec(e);if(py(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pw(e.seconds),nanos:pw(e.nanos)}}function pw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function mw(e){return"string"==typeof e?hw.fromBase64String(e):hw.fromUint8Array(e)}function gw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vw(e){const t=e.mapValue.fields.__previous_value__;return gw(t)?vw(t):t}function yw(e){const t=fw(e.mapValue.fields.__local_write_time__.timestampValue);return new Py(t.seconds,t.nanos)}class ww{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class bw{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bw("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bw&&e.projectId===this.projectId&&e.database===this.database}}const Ew={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Sw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gw(e)?4:Mw(e)?9007199254740991:10:fy()}function xw(e,t){if(e===t)return!0;const n=Sw(e);if(n!==Sw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yw(e).isEqual(yw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=fw(e.timestampValue),r=fw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return mw(e.bytesValue).isEqual(mw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pw(e.geoPointValue.latitude)===pw(t.geoPointValue.latitude)&&pw(e.geoPointValue.longitude)===pw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pw(e.integerValue)===pw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=pw(e.doubleValue),r=pw(t.doubleValue);return n===r?Yy(n)===Yy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ny(e.arrayValue.values||[],t.arrayValue.values||[],xw);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tw(n)!==tw(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xw(n[i],r[i])))return!1;return!0}(e,t);default:return fy()}}function kw(e,t){return void 0!==(e.values||[]).find(e=>xw(e,t))}function Tw(e,t){if(e===t)return 0;const n=Sw(e),r=Sw(t);if(n!==r)return Ay(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ay(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=pw(e.integerValue||e.doubleValue),r=pw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _w(e.timestampValue,t.timestampValue);case 4:return _w(yw(e),yw(t));case 5:return Ay(e.stringValue,t.stringValue);case 6:return function(e,t){const n=mw(e),r=mw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ay(n[i],r[i]);if(0!==e)return e}return Ay(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ay(pw(e.latitude),pw(t.latitude));return 0!==n?n:Ay(pw(e.longitude),pw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Tw(n[i],r[i]);if(e)return e}return Ay(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ew.mapValue&&t===Ew.mapValue)return 0;if(e===Ew.mapValue)return 1;if(t===Ew.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ay(r[o],s[o]);if(0!==e)return e;const t=Tw(n[r[o]],i[s[o]]);if(0!==t)return t}return Ay(r.length,s.length)}(e.mapValue,t.mapValue);default:throw fy()}}function _w(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ay(e,t);const n=fw(e),r=fw(t),i=Ay(n.seconds,r.seconds);return 0!==i?i:Ay(n.nanos,r.nanos)}function Cw(e){return Iw(e)}function Iw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=fw(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?mw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vy.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Iw(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Iw(e.fields[i])}`;return n+"}"}(e.mapValue):fy();var t,n}function Aw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Nw(e){return!!e&&"integerValue"in e}function Pw(e){return!!e&&"arrayValue"in e}function Dw(e){return!!e&&"nullValue"in e}function Rw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Lw(e){return!!e&&"mapValue"in e}function Ow(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nw(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ow(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ow(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Mw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vw{constructor(e){this.value=e}static empty(){return new Vw({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Lw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ow(t)}setAll(e){let t=My.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ow(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Lw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xw(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Lw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){nw(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Vw(Ow(this.value))}}function Fw(e){const t=[];return nw(e.fields,(e,n)=>{const r=new My([e]);if(Lw(n)){const e=Fw(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new uw(t)}class jw{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new jw(e,0,Dy.min(),Dy.min(),Dy.min(),Vw.empty(),0)}static newFoundDocument(e,t,n,r){return new jw(e,1,t,Dy.min(),n,r,0)}static newNoDocument(e,t){return new jw(e,2,t,Dy.min(),Dy.min(),Vw.empty(),0)}static newUnknownDocument(e,t){return new jw(e,3,t,Dy.min(),Dy.min(),Vw.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dy.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vw.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vw.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dy.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jw&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jw(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uw{constructor(e,t){this.position=e,this.inclusive=t}}function Bw(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Vy.comparator(Vy.fromName(o.referenceValue),n.key):Tw(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function zw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xw(e.position[n],t.position[n]))return!1;return!0}class $w{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function qw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Hw{}class Ww extends Hw{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new eb(e,t,n):"array-contains"===t?new ib(e,n):"in"===t?new sb(e,n):"not-in"===t?new ob(e,n):"array-contains-any"===t?new ab(e,n):new Ww(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new tb(e,n):new nb(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Tw(t,this.value)):null!==t&&Sw(this.value)===Sw(t)&&this.matchesComparison(Tw(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fy()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kw extends Hw{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Kw(e,t)}matches(e){return Gw(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Gw(e){return"and"===e.op}function Qw(e){return Yw(e)&&Gw(e)}function Yw(e){for(const t of e.filters)if(t instanceof Kw)return!1;return!0}function Xw(e){if(e instanceof Ww)return e.field.canonicalString()+e.op.toString()+Cw(e.value);if(Qw(e))return e.filters.map(e=>Xw(e)).join(",");{const t=e.filters.map(e=>Xw(e)).join(",");return`${e.op}(${t})`}}function Jw(e,t){return e instanceof Ww?function(e,t){return t instanceof Ww&&e.op===t.op&&e.field.isEqual(t.field)&&xw(e.value,t.value)}(e,t):e instanceof Kw?function(e,t){return t instanceof Kw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Jw(n,t.filters[r]),!0)}(e,t):void fy()}function Zw(e){return e instanceof Ww?function(e){return`${e.field.canonicalString()} ${e.op} ${Cw(e.value)}`}(e):e instanceof Kw?function(e){return e.op.toString()+" {"+e.getFilters().map(Zw).join(" ,")+"}"}(e):"Filter"}class eb extends Ww{constructor(e,t,n){super(e,t,n),this.key=Vy.fromName(n.referenceValue)}matches(e){const t=Vy.comparator(e.key,this.key);return this.matchesComparison(t)}}class tb extends Ww{constructor(e,t){super(e,"in",t),this.keys=rb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nb extends Ww{constructor(e,t){super(e,"not-in",t),this.keys=rb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Vy.fromName(e.referenceValue))}class ib extends Ww{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pw(t)&&kw(t.arrayValue,this.value)}}class sb extends Ww{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&kw(this.value.arrayValue,t)}}class ob extends Ww{constructor(e,t){super(e,"not-in",t)}matches(e){if(kw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!kw(this.value.arrayValue,t)}}class ab extends Ww{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>kw(this.value.arrayValue,e))}}class lb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function ub(e){return new lb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function cb(e){const t=my(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Xw(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Qy(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Cw(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Cw(e)).join(",")),t.dt=e}return t.dt}function hb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Jw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zw(e.startAt,t.startAt)&&zw(e.endAt,t.endAt)}function db(e){return Vy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class fb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function pb(e,t,n,r,i,s,o,a){return new fb(e,t,n,r,i,s,o,a)}function mb(e){return new fb(e)}function gb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function vb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yb(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function wb(e){return null!==e.collectionGroup}function bb(e){const t=my(e);if(null===t.wt){t.wt=[];const e=yb(t),n=vb(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new $w(e)),t.wt.push(new $w(My.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new $w(My.keyField(),e))}}}return t.wt}function Eb(e){const t=my(e);if(!t._t)if("F"===t.limitType)t._t=ub(t.path,t.collectionGroup,bb(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of bb(t)){const t="desc"===i.dir?"asc":"desc";e.push(new $w(i.field,t))}const n=t.endAt?new Uw(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uw(t.startAt.position,t.startAt.inclusive):null;t._t=ub(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Sb(e,t){t.getFirstInequalityField(),yb(e);const n=e.filters.concat([t]);return new fb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xb(e,t,n){return new fb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kb(e,t){return hb(Eb(e),Eb(t))&&e.limitType===t.limitType}function Tb(e){return`${cb(Eb(e))}|lt:${e.limitType}`}function _b(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Zw(e)).join(", ")}]`),Qy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Cw(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Cw(e)).join(",")),`Target(${t})`}(Eb(e))}; limitType=${e.limitType})`}function Cb(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of bb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Bw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,bb(e),t))&&!(e.endAt&&!function(e,t,n){const r=Bw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,bb(e),t))}(e,t)}function Ib(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ab(e){return(t,n)=>{let r=!1;for(const i of bb(e)){const e=Nb(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Nb(e,t,n){const r=e.field.isKeyField()?Vy.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Tw(r,i):fy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fy()}}class Pb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nw(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return rw(this.inner)}size(){return this.innerSize}}const Db=new iw(Vy.comparator);function Rb(){return Db}const Lb=new iw(Vy.comparator);function Ob(){let e=Lb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Mb(e){let t=Lb;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Vb(){return jb()}function Fb(){return jb()}function jb(){return new Pb(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ub=new iw(Vy.comparator),Bb=new aw(Vy.comparator);function zb(){let e=Bb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const $b=new aw(Ay);function qb(){return $b}function Hb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yy(t)?"-0":t}}function Wb(e){return{integerValue:""+e}}function Kb(e,t){return Xy(t)?Wb(t):Hb(e,t)}class Gb{constructor(){this._=void 0}}function Qb(e,t,n){return e instanceof Jb?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&gw(t)&&(t=vw(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zb?eE(e,t):e instanceof tE?nE(e,t):function(e,t){const n=Xb(e,t),r=iE(n)+iE(e.gt);return Nw(n)&&Nw(e.gt)?Wb(r):Hb(e.serializer,r)}(e,t)}function Yb(e,t,n){return e instanceof Zb?eE(e,t):e instanceof tE?nE(e,t):n}function Xb(e,t){return e instanceof rE?Nw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Jb extends Gb{}class Zb extends Gb{constructor(e){super(),this.elements=e}}function eE(e,t){const n=sE(t);for(const r of e.elements)n.some(e=>xw(e,r))||n.push(r);return{arrayValue:{values:n}}}class tE extends Gb{constructor(e){super(),this.elements=e}}function nE(e,t){let n=sE(t);for(const r of e.elements)n=n.filter(e=>!xw(e,r));return{arrayValue:{values:n}}}class rE extends Gb{constructor(e,t){super(),this.serializer=e,this.gt=t}}function iE(e){return pw(e.integerValue||e.doubleValue)}function sE(e){return Pw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class oE{constructor(e,t){this.field=e,this.transform=t}}class aE{constructor(e,t){this.version=e,this.transformResults=t}}class lE{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lE}static exists(e){return new lE(void 0,e)}static updateTime(e){return new lE(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class cE{}function hE(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new EE(e.key,lE.none()):new gE(e.key,e.data,lE.none());{const n=e.data,r=Vw.empty();let i=new aw(My.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new vE(e.key,r,new uw(i.toArray()),lE.none())}}function dE(e,t,n){e instanceof gE?function(e,t,n){const r=e.value.clone(),i=wE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vE?function(e,t,n){if(!uE(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=wE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fE(e,t,n,r){return e instanceof gE?function(e,t,n,r){if(!uE(e.precondition,t))return n;const i=e.value.clone(),s=bE(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof vE?function(e,t,n,r){if(!uE(e.precondition,t))return n;const i=bE(e.fieldTransforms,r,t),s=t.data;return s.setAll(yE(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return uE(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function pE(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Xb(r.transform,e||null);null!=i&&(null===n&&(n=Vw.empty()),n.set(r.field,i))}return n||null}function mE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ny(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zb&&t instanceof Zb||e instanceof tE&&t instanceof tE?Ny(e.elements,t.elements,xw):e instanceof rE&&t instanceof rE?xw(e.gt,t.gt):e instanceof Jb&&t instanceof Jb}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class gE extends cE{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vE extends cE{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yE(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function wE(e,t,n){const r=new Map;py(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Yb(o,a,n[i]))}return r}function bE(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Qb(e,s,t))}return r}class EE extends cE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SE extends cE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xE{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&dE(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=fE(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=fE(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Fb();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=hE(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Dy.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zb())}isEqual(e){return this.batchId===e.batchId&&Ny(this.mutations,e.mutations,(e,t)=>mE(e,t))&&Ny(this.baseMutations,e.baseMutations,(e,t)=>mE(e,t))}}class kE{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){py(e.mutations.length===n.length);let r=Ub;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new kE(e,t,n,r)}}class TE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _E{constructor(e,t){this.count=e,this.unchangedNames=t}}var CE,IE;function AE(e){switch(e){default:return fy();case gy.CANCELLED:case gy.UNKNOWN:case gy.DEADLINE_EXCEEDED:case gy.RESOURCE_EXHAUSTED:case gy.INTERNAL:case gy.UNAVAILABLE:case gy.UNAUTHENTICATED:return!1;case gy.INVALID_ARGUMENT:case gy.NOT_FOUND:case gy.ALREADY_EXISTS:case gy.PERMISSION_DENIED:case gy.FAILED_PRECONDITION:case gy.ABORTED:case gy.OUT_OF_RANGE:case gy.UNIMPLEMENTED:case gy.DATA_LOSS:return!0}}function NE(e){if(void 0===e)return cy("GRPC error has no .code"),gy.UNKNOWN;switch(e){case CE.OK:return gy.OK;case CE.CANCELLED:return gy.CANCELLED;case CE.UNKNOWN:return gy.UNKNOWN;case CE.DEADLINE_EXCEEDED:return gy.DEADLINE_EXCEEDED;case CE.RESOURCE_EXHAUSTED:return gy.RESOURCE_EXHAUSTED;case CE.INTERNAL:return gy.INTERNAL;case CE.UNAVAILABLE:return gy.UNAVAILABLE;case CE.UNAUTHENTICATED:return gy.UNAUTHENTICATED;case CE.INVALID_ARGUMENT:return gy.INVALID_ARGUMENT;case CE.NOT_FOUND:return gy.NOT_FOUND;case CE.ALREADY_EXISTS:return gy.ALREADY_EXISTS;case CE.PERMISSION_DENIED:return gy.PERMISSION_DENIED;case CE.FAILED_PRECONDITION:return gy.FAILED_PRECONDITION;case CE.ABORTED:return gy.ABORTED;case CE.OUT_OF_RANGE:return gy.OUT_OF_RANGE;case CE.UNIMPLEMENTED:return gy.UNIMPLEMENTED;case CE.DATA_LOSS:return gy.DATA_LOSS;default:return fy()}}(IE=CE||(CE={}))[IE.OK=0]="OK",IE[IE.CANCELLED=1]="CANCELLED",IE[IE.UNKNOWN=2]="UNKNOWN",IE[IE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",IE[IE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",IE[IE.NOT_FOUND=5]="NOT_FOUND",IE[IE.ALREADY_EXISTS=6]="ALREADY_EXISTS",IE[IE.PERMISSION_DENIED=7]="PERMISSION_DENIED",IE[IE.UNAUTHENTICATED=16]="UNAUTHENTICATED",IE[IE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",IE[IE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",IE[IE.ABORTED=10]="ABORTED",IE[IE.OUT_OF_RANGE=11]="OUT_OF_RANGE",IE[IE.UNIMPLEMENTED=12]="UNIMPLEMENTED",IE[IE.INTERNAL=13]="INTERNAL",IE[IE.UNAVAILABLE=14]="UNAVAILABLE",IE[IE.DATA_LOSS=15]="DATA_LOSS";class PE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return DE}static getOrCreateInstance(){return null===DE&&(DE=new PE),DE}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let DE=null;function RE(){return new TextEncoder}const LE=new ry([4294967295,4294967295],0);function OE(e){const t=RE().encode(e),n=new ny;return n.update(t),new Uint8Array(n.digest())}function ME(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ry([n,r],0),new ry([i,s],0)]}class VE{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new FE(`Invalid padding: ${t}`);if(n<0)throw new FE(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new FE(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new FE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ry.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(ry.fromNumber(n)));return 1===r.compare(LE)&&(r=new ry([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=OE(e),[n,r]=ME(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new VE(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=OE(e),[n,r]=ME(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class FE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jE{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,UE.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new jE(Dy.min(),r,new iw(Ay),Rb(),zb())}}class UE{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new UE(n,t,zb(),zb(),zb())}}class BE{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class zE{constructor(e,t){this.targetId=e,this.Vt=t}}class $E{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hw.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qE{constructor(){this.St=0,this.Dt=KE(),this.Ct=hw.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=zb(),t=zb(),n=zb();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fy()}}),new UE(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=KE()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class HE{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Rb(),this.zt=WE(),this.Wt=new iw(Ay)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:fy()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(db(s))if(0===r){const e=new Vy(s.path);this.Yt(n,e,jw.newNoDocument(e,Dy.min()))}else py(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=PE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=mw(i).toUint8Array()}catch(e){if(e instanceof cw)return hy("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new VE(a,s,o)}catch(e){return hy(e instanceof FE?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&db(i.target)){const t=new Vy(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,jw.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=zb();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new jE(e,t,this.Wt,this.jt,n);return this.jt=Rb(),this.zt=WE(),this.Wt=new iw(Ay),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new qE,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new aw(Ay),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||uy("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new qE),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function WE(){return new iw(Vy.comparator)}function KE(){return new iw(Vy.comparator)}const GE={asc:"ASCENDING",desc:"DESCENDING"},QE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YE={and:"AND",or:"OR"};class XE{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function JE(e,t){return e.useProto3Json||Qy(t)?t:{value:t}}function ZE(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function tS(e,t){return ZE(e,t.toTimestamp())}function nS(e){return py(!!e),Dy.fromTimestamp(function(e){const t=fw(e);return new Py(t.seconds,t.nanos)}(e))}function rS(e,t){return function(e){return new Ly(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function iS(e){const t=Ly.fromString(e);return py(kS(t)),t}function sS(e,t){return rS(e.databaseId,t.path)}function oS(e,t){const n=iS(t);if(n.get(1)!==e.databaseId.projectId)throw new vy(gy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vy(gy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vy(cS(n))}function aS(e,t){return rS(e.databaseId,t)}function lS(e){const t=iS(e);return 4===t.length?Ly.emptyPath():cS(t)}function uS(e){return new Ly(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cS(e){return py(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hS(e,t,n){return{name:sS(e,t),fields:n.value.mapValue.fields}}function dS(e,t){let n;if(t instanceof gE)n={update:hS(e,t.key,t.value)};else if(t instanceof EE)n={delete:sS(e,t.key)};else if(t instanceof vE)n={update:hS(e,t.key,t.data),updateMask:xS(t.fieldMask)};else{if(!(t instanceof SE))return fy();n={verify:sS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Jb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rE)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw fy()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:tS(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fy()}(e,t.precondition)),n}function fS(e,t){return{documents:[aS(e,t.path)]}}function pS(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=aS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=aS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return SS(Kw.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:bS(e.field),direction:vS(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=JE(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function mS(e){let t=lS(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){py(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=gS(e);return t instanceof Kw&&Qw(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new $w(ES(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Qy(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Uw(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Uw(n,t)}(n.endAt)),pb(t,i,o,s,a,"F",l,u)}function gS(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ES(e.unaryFilter.field);return Ww.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ES(e.unaryFilter.field);return Ww.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ES(e.unaryFilter.field);return Ww.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ES(e.unaryFilter.field);return Ww.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fy()}}(e):void 0!==e.fieldFilter?function(e){return Ww.create(ES(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fy()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Kw.create(e.compositeFilter.filters.map(e=>gS(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fy()}}(e.compositeFilter.op))}(e):fy()}function vS(e){return GE[e]}function yS(e){return QE[e]}function wS(e){return YE[e]}function bS(e){return{fieldPath:e.canonicalString()}}function ES(e){return My.fromServerFormat(e.fieldPath)}function SS(e){return e instanceof Ww?function(e){if("=="===e.op){if(Rw(e.value))return{unaryFilter:{field:bS(e.field),op:"IS_NAN"}};if(Dw(e.value))return{unaryFilter:{field:bS(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rw(e.value))return{unaryFilter:{field:bS(e.field),op:"IS_NOT_NAN"}};if(Dw(e.value))return{unaryFilter:{field:bS(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bS(e.field),op:yS(e.op),value:e.value}}}(e):e instanceof Kw?function(e){const t=e.getFilters().map(e=>SS(e));return 1===t.length?t[0]:{compositeFilter:{op:wS(e.op),filters:t}}}(e):fy()}function xS(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function kS(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class TS{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Dy.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Dy.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hw.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new TS(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new TS(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TS(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TS(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _S{constructor(e){this.fe=e}}function CS(e){const t=mS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xb(t,t.limit,"L"):t}class IS{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(pw(e.integerValue));else if("doubleValue"in e){const n=pw(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Yy(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(mw(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Mw(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):fy()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Vy.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}IS.Ve=new IS;class AS{constructor(){this.rn=new NS}addToCollectionParentIndex(e,t){return this.rn.add(t),Wy.resolve()}getCollectionParents(e,t){return Wy.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Wy.resolve()}deleteFieldIndex(e,t){return Wy.resolve()}getDocumentsMatchingTarget(e,t){return Wy.resolve(null)}getIndexType(e,t){return Wy.resolve(0)}getFieldIndexes(e,t){return Wy.resolve([])}getNextCollectionGroupToUpdate(e){return Wy.resolve(null)}getMinOffset(e,t){return Wy.resolve(By.min())}getMinOffsetFromCollectionGroup(e,t){return Wy.resolve(By.min())}updateCollectionGroup(e,t,n){return Wy.resolve()}updateIndexEntries(e,t){return Wy.resolve()}}class NS{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new aw(Ly.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new aw(Ly.comparator)).toArray()}}new Uint8Array(0);class PS{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new PS(e,PS.DEFAULT_COLLECTION_PERCENTILE,PS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}PS.DEFAULT_COLLECTION_PERCENTILE=10,PS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,PS.DEFAULT=new PS(41943040,PS.DEFAULT_COLLECTION_PERCENTILE,PS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),PS.DISABLED=new PS(-1,0,0);class DS{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new DS(0)}static Mn(){return new DS(-1)}}class RS{constructor(){this.changes=new Pb(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jw.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Wy.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class OS{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&fE(n.mutation,e,uw.empty(),Py.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,zb()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zb();const r=Vb();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ob();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Vb();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,zb()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Rb();const s=jb(),o=jb();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof vE)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),fE(o.mutation,t,o.mutation.getFieldMask(),Py.now())):s.set(t.key,uw.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new LS(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=jb();let r=new iw((e,t)=>e-t),i=zb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||uw.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||zb()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Fb();l.forEach(e=>{if(!i.has(e)){const r=hE(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Wy.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Vy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Wy.resolve(Vb());let o=-1,a=i;return s.next(t=>Wy.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Wy.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,zb())).next(e=>({batchId:o,changes:Mb(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Vy(t)).next(e=>{let t=Ob();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Ob();return this.indexManager.getCollectionParents(e,r).next(s=>Wy.forEach(s,s=>{const o=function(e,t){return new fb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,jw.newInvalidDocument(r)))});let n=Ob();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&fE(s.mutation,i,uw.empty(),Py.now()),Cb(t,i)&&(n=n.insert(e,i))}),n})}}class MS{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Wy.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:nS(n.createTime)}),Wy.resolve()}getNamedQuery(e,t){return Wy.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:CS(e.bundledQuery),readTime:nS(e.readTime)}}(t)),Wy.resolve()}}class VS{constructor(){this.overlays=new iw(Vy.comparator),this.ls=new Map}getOverlay(e,t){return Wy.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Vb();return Wy.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),Wy.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),Wy.resolve()}getOverlaysForCollection(e,t,n){const r=Vb(),i=t.length+1,s=new Vy(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Wy.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new iw((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Vb(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Vb(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Wy.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new TE(t,n));let i=this.ls.get(t);void 0===i&&(i=zb(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class FS{constructor(){this.fs=new aw(jS.ds),this.ws=new aw(jS._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new jS(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new jS(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new Vy(new Ly([])),n=new jS(t,e),r=new jS(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Vy(new Ly([])),n=new jS(t,e),r=new jS(t,e+1);let i=zb();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new jS(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class jS{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Vy.comparator(e.key,t.key)||Ay(e.As,t.As)}static _s(e,t){return Ay(e.As,t.As)||Vy.comparator(e.key,t.key)}}class US{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new aw(jS.ds)}checkEmpty(e){return Wy.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new xE(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new jS(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Wy.resolve(s)}lookupMutationBatch(e,t){return Wy.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Wy.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Wy.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Wy.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jS(t,0),r=new jS(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),Wy.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new aw(Ay);return t.forEach(e=>{const t=new jS(e,0),r=new jS(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),Wy.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Vy.isDocumentKey(i)||(i=i.child(""));const s=new jS(new Vy(i),0);let o=new aw(Ay);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)},s),Wy.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){py(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Wy.forEach(t.mutations,r=>{const i=new jS(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new jS(t,0),r=this.Rs.firstAfterOrEqual(n);return Wy.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Wy.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class BS{constructor(e){this.Ds=e,this.docs=new iw(Vy.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Wy.resolve(n?n.document.mutableCopy():jw.newInvalidDocument(t))}getEntries(e,t){let n=Rb();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():jw.newInvalidDocument(e))}),Wy.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Rb();const s=t.path,o=new Vy(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||zy(Uy(o),n)<=0||(r.has(o.key)||Cb(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Wy.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fy()}Cs(e,t){return Wy.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new zS(this)}getSize(e){return Wy.resolve(this.size)}}class zS extends RS{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),Wy.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class $S{constructor(e){this.persistence=e,this.xs=new Pb(e=>cb(e),hb),this.lastRemoteSnapshotVersion=Dy.min(),this.highestTargetId=0,this.Ns=0,this.ks=new FS,this.targetCount=0,this.Ms=DS.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),Wy.resolve()}getLastRemoteSnapshotVersion(e){return Wy.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wy.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Wy.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Wy.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new DS(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Wy.resolve()}updateTargetData(e,t){return this.Fn(t),Wy.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Wy.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Wy.waitFor(i).next(()=>r)}getTargetCount(e){return Wy.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Wy.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Wy.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Wy.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Wy.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Wy.resolve(n)}containsKey(e,t){return Wy.resolve(this.ks.containsKey(t))}}class qS{constructor(e,t){this.$s={},this.overlays={},this.Os=new Gy(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new $S(this),this.indexManager=new AS,this.remoteDocumentCache=function(e){return new BS(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new _S(t),this.qs=new MS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new US(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){uy("MemoryPersistence","Starting transaction:",e);const r=new HS(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return Wy.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class HS extends qy{constructor(e){super(),this.currentSequenceNumber=e}}class WS{constructor(e){this.persistence=e,this.Qs=new FS,this.js=null}static zs(e){return new WS(e)}get Ws(){if(this.js)return this.js;throw fy()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Wy.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Wy.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Wy.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wy.forEach(this.Ws,n=>{const r=Vy.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Dy.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Wy.or([()=>Wy.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class KS{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=zb(),r=zb();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new KS(e,t.fromCache,n,r)}}class GS{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(gb(t))return Wy.resolve(null);let n=Eb(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=xb(t,null,"F"),n=Eb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=zb(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,xb(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return gb(t)||r.isEqual(Dy.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(ly()<=tt.DEBUG&&uy("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_b(t)),this.Wi(e,s,t,jy(r,-1)))})}ji(e,t){let n=new aw(Ab(e));return t.forEach((t,r)=>{Cb(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return ly()<=tt.DEBUG&&uy("QueryEngine","Using full collection scan to execute query:",_b(t)),this.Ui.getDocumentsMatchingQuery(e,t,By.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class QS{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new iw(Ay),this.Yi=new Pb(e=>cb(e),hb),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OS(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function YS(e,t,n,r){return new QS(e,t,n,r)}async function XS(e,t){const n=my(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=zb();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function JS(e){const t=my(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function ZS(e,t,n){let r=zb(),i=zb();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Rb();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Dy.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):uy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{nr:r,sr:i}})}function ex(e,t){const n=my(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function tx(e,t){const n=my(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,Wy.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new TS(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function nx(e,t,n){const r=my(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Ky(e))throw e;uy("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function rx(e,t,n){const r=my(e);let i=Dy.min(),s=zb();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=my(e),i=r.Yi.get(n);return void 0!==i?Wy.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Eb(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Dy.min(),n?s:zb())).next(e=>(ix(r,Ib(t),e),{documents:e,ir:s})))}function ix(e,t,n){let r=e.Xi.get(t)||Dy.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class sx{constructor(){this.activeTargetIds=qb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ox{constructor(){this.Hr=new sx,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ax{Yr(e){}shutdown(){}}class lx{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){uy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){uy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ux=null;function cx(){return null===ux?ux=268435456+Math.round(2147483648*Math.random()):ux++,"0x"+ux.toString(16)}const hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dx{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const fx="WebChannelConnection";class px extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=cx(),o=this.To(e,t);uy("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then(t=>(uy("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw hy("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+oy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=hx[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=cx();return new Promise((s,o)=>{const a=new ty;a.setWithCredentials(!0),a.listenOnce(Yv.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Qv.NO_ERROR:const t=a.getResponseJson();uy(fx,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Qv.TIMEOUT:uy(fx,`RPC '${e}' ${i} timed out`),o(new vy(gy.DEADLINE_EXCEEDED,"Request time out"));break;case Qv.HTTP_ERROR:const n=a.getStatus();if(uy(fx,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(gy).indexOf(t)>=0?t:gy.UNKNOWN}(t.status);o(new vy(e,t.message))}else o(new vy(gy.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new vy(gy.UNAVAILABLE,"Connection failed."));break;default:fy()}}finally{uy(fx,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);uy(fx,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=cx(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Kv(),o=Gv(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Zv({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");uy(fx,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new dx({ro:t=>{d?uy(fx,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(uy(fx,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),uy(fx,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,ey.EventType.OPEN,()=>{d||uy(fx,`RPC '${e}' stream ${r} transport opened.`)}),p(c,ey.EventType.CLOSE,()=>{d||(d=!0,uy(fx,`RPC '${e}' stream ${r} transport closed`),f.wo())}),p(c,ey.EventType.ERROR,t=>{d||(d=!0,hy(fx,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new vy(gy.UNAVAILABLE,"The operation could not be completed")))}),p(c,ey.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];py(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){uy(fx,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=CE[e];if(void 0!==t)return NE(t)}(t),i=o.message;void 0===n&&(n=gy.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new vy(n,i)),c.close()}else uy(fx,`RPC '${e}' stream ${r} received:`,i),f._o(i)}}),p(o,Xv.STAT_EVENT,t=>{t.stat===Jv.PROXY?uy(fx,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Jv.NOPROXY&&uy(fx,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.fo()},0),f}}function mx(){return"undefined"!=typeof document?document:null}function gx(e){return new XE(e,!0)}class vx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&uy("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class yx{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new vx(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===gy.RESOURCE_EXHAUSTED?(cy(t.toString()),cy("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===gy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new vy(gy.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return uy("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(uy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wx extends yx{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(py(void 0===t||"string"==typeof t),hw.fromBase64String(t||"")):(py(void 0===t||t instanceof Uint8Array),hw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?gy.UNKNOWN:NE(e.code);return new vy(t,e.message||"")}(o);n=new $E(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=oS(e,r.document.name),s=nS(r.document.updateTime),o=r.document.createTime?nS(r.document.createTime):Dy.min(),a=new Vw({mapValue:{fields:r.document.fields}}),l=jw.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new BE(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=oS(e,r.document),s=r.readTime?nS(r.readTime):Dy.min(),o=jw.newNoDocument(i,s),a=r.removedTargetIds||[];n=new BE([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=oS(e,r.document),s=r.removedTargetIds||[];n=new BE([],s,i,null)}else{if(!("filter"in t))return fy();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new _E(r,i),o=e.targetId;n=new zE(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Dy.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Dy.min():t.readTime?nS(t.readTime):Dy.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=uS(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=db(r)?{documents:fS(e,r)}:{query:pS(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=eS(e,t.resumeToken);const r=JE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Dy.min())>0){n.readTime=ZE(e,t.snapshotVersion.toTimestamp());const r=JE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fy()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=uS(this.serializer),t.removeTarget=e,this.Wo(t)}}class bx extends yx{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(py(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(py(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?nS(e.updateTime):nS(t);return n.isEqual(Dy.min())&&(n=nS(t)),new aE(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=nS(e.commitTime);return this.listener.cu(n,t)}return py(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=uS(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>dS(this.serializer,e))};this.Wo(t)}}class Ex extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new vy(gy.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===gy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vy(gy.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===gy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vy(gy.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Sx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(cy(t),this.mu=!1):uy("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class xx{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Dx(this)&&(uy("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=my(e);t.vu.add(4),await Tx(t),t.bu.set("Unknown"),t.vu.delete(4),await kx(t)}(this))})}),this.bu=new Sx(n,r)}}async function kx(e){if(Dx(e))for(const t of e.Ru)await t(!0)}async function Tx(e){for(const t of e.Ru)await t(!1)}function _x(e,t){const n=my(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Px(n)?Nx(n):Yx(n).Ko()&&Ix(n,t))}function Cx(e,t){const n=my(e),r=Yx(n);n.Au.delete(t),r.Ko()&&Ax(n,t),0===n.Au.size&&(r.Ko()?r.jo():Dx(n)&&n.bu.set("Unknown"))}function Ix(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dy.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Yx(e).su(t)}function Ax(e,t){e.Vu.qt(t),Yx(e).iu(t)}function Nx(e){e.Vu=new HE({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Yx(e).start(),e.bu.gu()}function Px(e){return Dx(e)&&!Yx(e).Uo()&&e.Au.size>0}function Dx(e){return 0===my(e).vu.size}function Rx(e){e.Vu=void 0}async function Lx(e){e.Au.forEach((t,n)=>{Ix(e,t)})}async function Ox(e,t){Rx(e),Px(e)?(e.bu.Iu(t),Nx(e)):e.bu.set("Unknown")}async function Mx(e,t,n){if(e.bu.set("Online"),t instanceof $E&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){uy("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Vx(e,n)}else if(t instanceof BE?e.Vu.Ht(t):t instanceof zE?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Dy.min()))try{const t=await JS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(hw.EMPTY_BYTE_STRING,r.snapshotVersion)),Ax(e,t);const i=new TS(r.target,t,n,r.sequenceNumber);Ix(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){uy("RemoteStore","Failed to raise snapshot:",t),await Vx(e,t)}}async function Vx(e,t,n){if(!Ky(t))throw t;e.vu.add(1),await Tx(e),e.bu.set("Offline"),n||(n=()=>JS(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{uy("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await kx(e)})}function Fx(e,t){return t().catch(n=>Vx(e,n,t))}async function jx(e){const t=my(e),n=Xx(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Ux(t);)try{const e=await ex(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Bx(t,e)}catch(e){await Vx(t,e)}zx(t)&&$x(t)}function Ux(e){return Dx(e)&&e.Eu.length<10}function Bx(e,t){e.Eu.push(t);const n=Xx(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function zx(e){return Dx(e)&&!Xx(e).Uo()&&e.Eu.length>0}function $x(e){Xx(e).start()}async function qx(e){Xx(e).hu()}async function Hx(e){const t=Xx(e);for(const n of e.Eu)t.uu(n.mutations)}async function Wx(e,t,n){const r=e.Eu.shift(),i=kE.from(r,t,n);await Fx(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await jx(e)}async function Kx(e,t){t&&Xx(e).ou&&await async function(e,t){if(AE(n=t.code)&&n!==gy.ABORTED){const n=e.Eu.shift();Xx(e).Qo(),await Fx(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await jx(e)}var n}(e,t),zx(e)&&$x(e)}async function Gx(e,t){const n=my(e);n.asyncQueue.verifyOperationInProgress(),uy("RemoteStore","RemoteStore received new credentials");const r=Dx(n);n.vu.add(3),await Tx(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await kx(n)}async function Qx(e,t){const n=my(e);t?(n.vu.delete(2),await kx(n)):t||(n.vu.add(2),await Tx(n),n.bu.set("Unknown"))}function Yx(e){return e.Su||(e.Su=function(e,t,n){const r=my(e);return r.fu(),new wx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Lx.bind(null,e),ao:Ox.bind(null,e),nu:Mx.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Px(e)?Nx(e):e.bu.set("Unknown")):(await e.Su.stop(),Rx(e))})),e.Su}function Xx(e){return e.Du||(e.Du=function(e,t,n){const r=my(e);return r.fu(),new bx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:qx.bind(null,e),ao:Kx.bind(null,e),au:Hx.bind(null,e),cu:Wx.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await jx(e)):(await e.Du.stop(),e.Eu.length>0&&(uy("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}class Jx{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Jx(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vy(gy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zx(e,t){if(cy("AsyncQueue",`${t}: ${e}`),Ky(e))return new vy(gy.UNAVAILABLE,`${t}: ${e}`);throw e}class ek{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Vy.comparator(t.key,n.key):(e,t)=>Vy.comparator(e.key,t.key),this.keyedMap=Ob(),this.sortedSet=new iw(this.comparator)}static emptySet(e){return new ek(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ek))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ek;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class tk{constructor(){this.Cu=new iw(Vy.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):fy():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class nk{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new nk(e,t,ek.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class rk{constructor(){this.Nu=void 0,this.listeners=[]}}class ik{constructor(){this.queries=new Pb(e=>Tb(e),kb),this.onlineState="Unknown",this.ku=new Set}}async function sk(e,t){const n=my(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new rk),i)try{s.Nu=await n.onListen(r)}catch(e){const n=Zx(e,`Initialization of query '${_b(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&uk(n)}async function ok(e,t){const n=my(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ak(e,t){const n=my(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&uk(n)}function lk(e,t,n){const r=my(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function uk(e){e.ku.forEach(e=>{e.next()})}class ck{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new nk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=nk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class hk{constructor(e){this.key=e}}class dk{constructor(e){this.key=e}}class fk{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=zb(),this.mutatedKeys=zb(),this.tc=Ab(e),this.ec=new ek(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new tk,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Cb(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.tc(c,a)>0||l&&this.tc(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fy()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new nk(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new tk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=zb(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new dk(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new hk(n))}),t}hc(e){this.Yu=e.ir,this.Zu=zb();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return nk.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class mk{constructor(e){this.key=e,this.fc=!1}}class gk{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Pb(e=>Tb(e),kb),this._c=new Map,this.mc=new Set,this.gc=new iw(Vy.comparator),this.yc=new Map,this.Ic=new FS,this.Tc={},this.Ec=new Map,this.Ac=DS.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function vk(e,t){const n=Ok(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await tx(n.localStore,Eb(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await yk(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&_x(n.remoteStore,e)}return i}async function yk(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await rx(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Ak(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await rx(e.localStore,t,!0),o=new fk(t,s.ir),a=o.sc(s.documents),l=UE.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);Ak(e,n,u.cc);const c=new pk(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function wk(e,t){const n=my(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!kb(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await nx(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Cx(n.remoteStore,r.targetId),Ck(n,r.targetId)}).catch(Hy)):(Ck(n,r.targetId),await nx(n.localStore,r.targetId,!0))}async function bk(e,t){const n=my(e);try{const e=await function(e,t){const n=my(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(hw.EMPTY_BYTE_STRING,Dy.min()).withLastLimboFreeSnapshotVersion(Dy.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Bs.updateTargetData(e,u))});let a=Rb(),l=zb();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(ZS(e,s,t.documentUpdates).next(e=>{a=e.nr,l=e.sr})),!r.isEqual(Dy.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Wy.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(py(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?py(r.fc):e.removedDocuments.size>0&&(py(r.fc),r.fc=!1))}),await Dk(n,e,t)}catch(e){await Hy(e)}}function Ek(e,t,n){const r=my(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=my(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&uk(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sk(e,t,n){const r=my(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new iw(Vy.comparator);e=e.insert(s,jw.newNoDocument(s,Dy.min()));const n=zb().add(s),i=new jE(Dy.min(),new Map,new iw(Ay),e,n);await bk(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),Pk(r)}else await nx(r.localStore,t,!1).then(()=>Ck(r,t,n)).catch(Hy)}async function xk(e,t){const n=my(e),r=t.batch.batchId;try{const e=await function(e,t){const n=my(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Wy.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);py(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=zb();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);_k(n,r,null),Tk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dk(n,e)}catch(e){await Hy(e)}}async function kk(e,t,n){const r=my(e);try{const e=await function(e,t){const n=my(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(py(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);_k(r,t,n),Tk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dk(r,e)}catch(n){await Hy(n)}}function Tk(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function _k(e,t,n){const r=my(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Ck(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Ik(e,t)})}function Ik(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Cx(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Pk(e))}function Ak(e,t,n){for(const r of n)r instanceof hk?(e.Ic.addReference(r.key,t),Nk(e,r)):r instanceof dk?(uy("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Ik(e,r.key)):fy()}function Nk(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(uy("SyncEngine","New document in limbo: "+n),e.mc.add(r),Pk(e))}function Pk(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Vy(Ly.fromString(t)),r=e.Ac.next();e.yc.set(r,new mk(n)),e.gc=e.gc.insert(n,r),_x(e.remoteStore,new TS(Eb(mb(n.path)),r,"TargetPurposeLimboResolution",Gy.ct))}}async function Dk(e,t,n){const r=my(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((e,a)=>{o.push(r.Rc(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=KS.Li(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=my(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Wy.forEach(t,t=>Wy.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Wy.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ky(e))throw e;uy("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Rk(e,t){const n=my(e);if(!n.currentUser.isEqual(t)){uy("SyncEngine","User change. New user:",t.toKey());const e=await XS(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new vy(gy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Dk(n,e.er)}}function Lk(e,t){const n=my(e),r=n.yc.get(t);if(r&&r.fc)return zb().add(r.key);{let e=zb();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Ok(e){const t=my(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sk.bind(null,t),t.dc.nu=ak.bind(null,t.eventManager),t.dc.Pc=lk.bind(null,t.eventManager),t}function Mk(e){const t=my(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kk.bind(null,t),t}class Vk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=gx(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return YS(this.persistence,new GS,e.initialUser,this.serializer)}createPersistence(e){return new qS(WS.zs,this.serializer)}createSharedClientState(e){return new ox}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Fk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ek(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rk.bind(null,this.syncEngine),await Qx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ik}createDatastore(e){const t=gx(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new px(r));var r;return function(e,t,n,r){return new Ex(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Ek(this.syncEngine,e,0),s=lx.D()?new lx:new ax,new xx(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new gk(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=my(e);uy("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Tx(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class jk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):cy("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Uk{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sy.UNAUTHENTICATED,this.clientId=Iy.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{uy("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(uy("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vy(gy.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch($I){const n=Zx($I,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Bk(e,t){e.asyncQueue.verifyOperationInProgress(),uy("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await XS(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function zk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await qk(e);uy("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Gx(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Gx(t.remoteStore,n)),e._onlineComponents=t}function $k(e){return"FirebaseError"===e.name?e.code===gy.FAILED_PRECONDITION||e.code===gy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function qk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){uy("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bk(e,e._uninitializedComponentsProvider._offline)}catch($I){const n=$I;if(!$k(n))throw n;hy("Error using user provided cache. Falling back to memory cache: "+n),await Bk(e,new Vk)}}else uy("FirestoreClient","Using default OfflineComponentProvider"),await Bk(e,new Vk);return e._offlineComponents}async function Hk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(uy("FirestoreClient","Using user provided OnlineComponentProvider"),await zk(e,e._uninitializedComponentsProvider._online)):(uy("FirestoreClient","Using default OnlineComponentProvider"),await zk(e,new Fk))),e._onlineComponents}function Wk(e){return Hk(e).then(e=>e.syncEngine)}async function Kk(e){const t=await Hk(e),n=t.eventManager;return n.onListen=vk.bind(null,t.syncEngine),n.onUnlisten=wk.bind(null,t.syncEngine),n}function Gk(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Qk=new Map;function Yk(e,t,n){if(!n)throw new vy(gy.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Xk(e){if(!Vy.isDocumentKey(e))throw new vy(gy.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Jk(e){if(Vy.isDocumentKey(e))throw new vy(gy.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Zk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":fy()}function eT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vy(gy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zk(e);throw new vy(gy.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class tT{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vy(gy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vy(gy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vy(gy.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gk(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vy(gy.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new vy(gy.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new vy(gy.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class nT{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vy(gy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vy(gy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new by;switch(e.type){case"firstParty":return new ky(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vy(gy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qk.get(e);t&&(uy("ComponentProvider","Removing Datastore"),Qk.delete(e),t.terminate())}(this),Promise.resolve()}}function rT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=eT(e,nT))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&hy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=sy.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new vy(gy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sy(s)}e._authCredentials=new Ey(new wy(t,n))}}class iT{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oT(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new iT(this.firestore,e,this._key)}}class sT{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sT(this.firestore,e,this._query)}}class oT extends sT{constructor(e,t,n){super(e,t,mb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new iT(this.firestore,null,new Vy(e))}withConverter(e){return new oT(this.firestore,e,this._path)}}function aT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qe(e),Yk("collection","path",t),e instanceof nT){const n=Ly.fromString(t,...r);return Jk(n),new oT(e,null,n)}{if(!(e instanceof iT||e instanceof oT))throw new vy(gy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ly.fromString(t,...r));return Jk(n),new oT(e.firestore,null,n)}}function lT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qe(e),1===arguments.length&&(t=Iy.A()),Yk("doc","path",t),e instanceof nT){const n=Ly.fromString(t,...r);return Xk(n),new iT(e,null,new Vy(n))}{if(!(e instanceof iT||e instanceof oT))throw new vy(gy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ly.fromString(t,...r));return Xk(n),new iT(e.firestore,e instanceof oT?e.converter:null,new Vy(n))}}class uT{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new vx(this,"async_queue_retry"),this.Xc=()=>{const e=mx();e&&uy("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=mx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=mx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new yy;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ky(e))throw e;uy("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw cy("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Jx.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&fy()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function cT(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class hT extends nT{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new uT,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fT(this),this._firestoreClient.terminate()}}function dT(e){return e._firestoreClient||fT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fT(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ww(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Gk(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Uk(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class pT{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pT(hw.fromBase64String(e))}catch(e){throw new vy(gy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new pT(hw.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vy(gy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new My(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gT{constructor(e){this._methodName=e}}class vT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vy(gy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vy(gy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ay(this._lat,e._lat)||Ay(this._long,e._long)}}const yT=/^__.*__$/;class wT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new vE(e,this.data,this.fieldMask,t,this.fieldTransforms):new gE(e,this.data,t,this.fieldTransforms)}}class bT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new vE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ET(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fy()}}class ST{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ST(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return FT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ET(this.ca)&&yT.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class xT{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||gx(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ST({ca:e,methodName:t,ga:n,path:My.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kT(e){const t=e._freezeSettings(),n=gx(e._databaseId);return new xT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function TT(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);LT("Data must be an object, but it was:",o,r);const a=DT(r,o);let l,u;if(s.merge)l=new uw(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=OT(t,r,n);if(!o.contains(i))throw new vy(gy.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);jT(e,i)||e.push(i)}l=new uw(e),u=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=o.fieldTransforms;return new wT(new Vw(a),l,u)}class _T extends gT{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _T}}class CT extends gT{_toFieldTransform(e){return new oE(e.path,new Jb)}isEqual(e){return e instanceof CT}}function IT(e,t,n,r){const i=e.ya(1,t,n);LT("Data must be an object, but it was:",i,r);const s=[],o=Vw.empty();nw(r,(e,r)=>{const a=VT(t,e,n);r=Qe(r);const l=i.da(a);if(r instanceof _T)s.push(a);else{const e=PT(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new uw(s);return new bT(o,a,i.fieldTransforms)}function AT(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[OT(t,r,n)],l=[i];if(s.length%2!=0)throw new vy(gy.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(OT(t,s[d])),l.push(s[d+1]);const u=[],c=Vw.empty();for(let d=a.length-1;d>=0;--d)if(!jT(u,a[d])){const e=a[d];let t=l[d];t=Qe(t);const n=o.da(e);if(t instanceof _T)u.push(e);else{const r=PT(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new uw(u);return new bT(c,h,o.fieldTransforms)}function NT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return PT(n,e.ya(r?4:3,t))}function PT(e,t){if(RT(e=Qe(e)))return LT("Unsupported field value:",t,e),DT(e,t);if(e instanceof gT)return function(e,t){if(!ET(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=PT(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Qe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Py.fromDate(e);return{timestampValue:ZE(t.serializer,n)}}if(e instanceof Py){const n=new Py(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ZE(t.serializer,n)}}if(e instanceof vT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pT)return{bytesValue:eS(t.serializer,e._byteString)};if(e instanceof iT){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:rS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${Zk(e)}`)}(e,t)}function DT(e,t){const n={};return rw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nw(e,(e,r)=>{const i=PT(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function RT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Py||e instanceof vT||e instanceof pT||e instanceof iT||e instanceof gT)}function LT(e,t,n){if(!RT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Zk(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function OT(e,t,n){if((t=Qe(t))instanceof mT)return t._internalPath;if("string"==typeof t)return VT(e,t);throw FT("Field path arguments must be of type string or ",e,!1,void 0,n)}const MT=new RegExp("[~\\*/\\[\\]]");function VT(e,t,n){if(t.search(MT)>=0)throw FT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new mT(...t.split("."))._internalPath}catch(r){throw FT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function FT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new vy(gy.INVALID_ARGUMENT,a+e+l)}function jT(e,t){return e.some(e=>e.isEqual(t))}class UT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new iT(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new BT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class BT extends UT{data(){return super.data()}}function zT(e,t){return"string"==typeof t?VT(e,t):t instanceof mT?t._internalPath:t._delegate._internalPath}function $T(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vy(gy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qT{}class HT extends qT{}class WT extends HT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new WT(e,t,n)}_apply(e){const t=this._parse(e);return YT(e._query,t),new sT(e.firestore,e.converter,Sb(e._query,t))}_parse(e){const t=kT(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new vy(gy.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){QT(o,s);const t=[];for(const n of o)t.push(GT(r,e,n));a={arrayValue:{values:t}}}else a=GT(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||QT(o,s),a=NT(n,"where",o,"in"===s||"not-in"===s);return Ww.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class KT extends qT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new KT(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Kw.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)YT(n,i),n=Sb(n,i)}(e._query,t),new sT(e.firestore,e.converter,Sb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function GT(e,t,n){if("string"==typeof(n=Qe(n))){if(""===n)throw new vy(gy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wb(t)&&-1!==n.indexOf("/"))throw new vy(gy.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ly.fromString(n));if(!Vy.isDocumentKey(r))throw new vy(gy.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Aw(e,new Vy(r))}if(n instanceof iT)return Aw(e,n._key);throw new vy(gy.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zk(n)}.`)}function QT(e,t){if(!Array.isArray(e)||0===e.length)throw new vy(gy.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function YT(e,t){if(t.isInequality()){const n=yb(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new vy(gy.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=vb(e);null!==i&&XT(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new vy(gy.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vy(gy.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function XT(e,t,n){if(!n.isEqual(t))throw new vy(gy.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class JT{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fy()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return nw(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new vT(pw(e.latitude),pw(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yw(e));default:return null}}convertTimestamp(e){const t=fw(e);return new Py(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ly.fromString(e);py(kS(n));const r=new bw(n.get(1),n.get(3)),i=new Vy(n.popFirst(5));return r.isEqual(t)||cy(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ZT(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class e_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t_ extends UT{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new n_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(zT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class n_ extends t_{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class r_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new e_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new n_(this._firestore,this._userDataWriter,n.key,n,new e_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vy(gy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new n_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new e_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new n_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new e_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:i_(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function i_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fy()}}class s_ extends JT{constructor(e){super(),this.firestore=e}convertBytes(e){return new pT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new iT(this.firestore,null,t)}}function o_(e,t){return function(e,t){const n=new yy;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Mk(e);try{const e=await function(e,t){const n=my(e),r=Py.now(),i=t.reduce((e,t)=>e.add(t.key),zb());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Rb(),l=zb();return n.Zi.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=pE(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new vE(e.key,t,Fw(t.value.mapValue),lE.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Mb(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new iw(Ay)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Dk(r,e.changes),await jx(r.remoteStore)}catch(e){const t=Zx(e,"Failed to persist write");n.reject(t)}}(await Wk(e),t,n)),n.promise}(dT(e),t)}function a_(e,t,n){const r=n.docs.get(t._key),i=new s_(e);return new t_(e,i,t._key,r,new e_(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){oy=e}(an),nn(new Ye("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new hT(new Sy(e.getProvider("auth-internal")),new _y(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vy(gy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bw(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),cn(iy,"3.13.0",e),cn(iy,"3.13.0","esm2017")}();let l_,u_;const c_=new WeakMap,h_=new WeakMap,d_=new WeakMap,f_=new WeakMap,p_=new WeakMap;let m_={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h_.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d_.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y_(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g_(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(w_(this),n),y_(c_.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y_(e.apply(w_(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(w_(this),t,...r);return d_.set(s,t.sort?t.sort():[t]),y_(s)}}function v_(e){return"function"===typeof e?g_(e):(e instanceof IDBTransaction&&function(e){if(h_.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});h_.set(e,t)}(e),t=e,(l_||(l_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,m_):e);var t}function y_(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(y_(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&c_.set(t,e)}).catch(()=>{}),p_.set(t,e),t}(e);if(f_.has(e))return f_.get(e);const t=v_(e);return t!==e&&(f_.set(e,t),p_.set(t,e)),t}const w_=e=>p_.get(e);const b_=["get","getKey","getAll","getAllKeys","count"],E_=["put","add","delete","clear"],S_=new Map;function x_(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(S_.get(t))return S_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=E_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b_.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return S_.set(t,s),s}!function(e){m_=e(m_)}(e=>({...e,get:(t,n,r)=>x_(t,n)||e.get(t,n,r),has:(t,n)=>!!x_(t,n)||e.has(t,n)}));const k_="@firebase/installations",T_="0.6.4",__=1e4,C_=`w:${T_}`,I_="FIS_v2",A_=36e5,N_=new Ue("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function P_(e){return e instanceof je&&e.code.includes("request-failed")}function D_(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function R_(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function L_(e,t){const n=(await t.json()).error;return N_.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function O_(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function M_(e,t){let{refreshToken:n}=t;const r=O_(e);return r.append("Authorization",function(e){return`${I_} ${e}`}(n)),r}async function V_(e){const t=await e();return t.status>=500&&t.status<600?e():t}function F_(e){return new Promise(t=>{setTimeout(t,e)})}const j_=/^[cdef][\w-]{21}$/;function U_(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return j_.test(t)?t:""}catch(qI){return""}}function B_(e){return`${e.appName}!${e.appId}`}const z_=new Map;function $_(e,t){const n=B_(e);q_(n,t),function(e,t){const n=W_();n&&n.postMessage({key:e,fid:t});K_()}(n,t)}function q_(e,t){const n=z_.get(e);if(n)for(const r of n)r(t)}let H_=null;function W_(){return!H_&&"BroadcastChannel"in self&&(H_=new BroadcastChannel("[Firebase] FID Change"),H_.onmessage=e=>{q_(e.data.key,e.data.fid)}),H_}function K_(){0===z_.size&&H_&&(H_.close(),H_=null)}const G_="firebase-installations-store";let Q_=null;function Y_(){return Q_||(Q_=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=y_(o);return r&&o.addEventListener("upgradeneeded",e=>{r(y_(o.result),e.oldVersion,e.newVersion,y_(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(G_)}})),Q_}async function X_(e,t){const n=B_(e),r=(await Y_()).transaction(G_,"readwrite"),i=r.objectStore(G_),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||$_(e,t.fid),t}async function J_(e){const t=B_(e),n=(await Y_()).transaction(G_,"readwrite");await n.objectStore(G_).delete(t),await n.done}async function Z_(e,t){const n=B_(e),r=(await Y_()).transaction(G_,"readwrite"),i=r.objectStore(G_),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||$_(e,o.fid),o}async function eC(e){let t;const n=await Z_(e.appConfig,n=>{const r=function(e){const t=e||{fid:U_(),registrationStatus:0};return rC(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(N_.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=D_(n),o=O_(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:I_,appId:n.appId,sdkVersion:C_},u={method:"POST",headers:o,body:JSON.stringify(l)},c=await V_(()=>fetch(s,u));if(c.ok){const e=await c.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:R_(e.authToken)}}throw await L_("Create Installation",c)}(e,t);return X_(e.appConfig,n)}catch($I){throw P_($I)&&409===$I.customData.serverCode?await J_(e.appConfig):await X_(e.appConfig,{fid:t.fid,registrationStatus:0}),$I}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:tC(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function tC(e){let t=await nC(e.appConfig);for(;1===t.registrationStatus;)await F_(100),t=await nC(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await eC(e);return n||t}return t}function nC(e){return Z_(e,e=>{if(!e)throw N_.create("installation-not-found");return rC(e)})}function rC(e){return 1===(t=e).registrationStatus&&t.registrationTime+__<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function iC(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${D_(e)}/${n}/authTokens:generate`}(n,t),s=M_(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:C_,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},u=await V_(()=>fetch(i,l));if(u.ok){return R_(await u.json())}throw await L_("Generate Auth Token",u)}async function sC(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Z_(e.appConfig,r=>{if(!aC(r))throw N_.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+A_}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await oC(e.appConfig);for(;1===n.authToken.requestStatus;)await F_(100),n=await oC(e.appConfig);const r=n.authToken;return 0===r.requestStatus?sC(e,t):r}(e,n),r;{if(!navigator.onLine)throw N_.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await iC(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await X_(e.appConfig,r),n}catch($I){if(!P_($I)||401!==$I.customData.serverCode&&404!==$I.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await X_(e.appConfig,n)}else await J_(e.appConfig);throw $I}}(e,n),n}});return t?await t:r.authToken}function oC(e){return Z_(e,e=>{if(!aC(e))throw N_.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+__<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function aC(e){return void 0!==e&&2===e.registrationStatus}async function lC(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await eC(e);t&&await t}(n);return(await sC(n,t)).token}function uC(e){return N_.create("missing-app-config-values",{valueName:e})}const cC="installations",hC=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw uC("App Configuration");if(!e.name)throw uC("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw uC(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:rn(t,"heartbeat"),_delete:()=>Promise.resolve()}},dC=e=>{const t=rn(e.getProvider("app").getImmediate(),cC).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await eC(t);return r?r.catch(console.error):sC(t).catch(console.error),n.fid}(t),getToken:e=>lC(t,e)}};nn(new Ye(cC,hC,"PUBLIC")),nn(new Ye("installations-internal",dC,"PRIVATE")),cn(k_,T_),cn(k_,T_,"esm2017");let fC,pC;const mC=new WeakMap,gC=new WeakMap,vC=new WeakMap,yC=new WeakMap,wC=new WeakMap;let bC={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return gC.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vC.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xC(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function EC(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pC||(pC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(kC(this),n),xC(mC.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xC(e.apply(kC(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(kC(this),t,...r);return vC.set(s,t.sort?t.sort():[t]),xC(s)}}function SC(e){return"function"===typeof e?EC(e):(e instanceof IDBTransaction&&function(e){if(gC.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});gC.set(e,t)}(e),t=e,(fC||(fC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,bC):e);var t}function xC(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(xC(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&mC.set(t,e)}).catch(()=>{}),wC.set(t,e),t}(e);if(yC.has(e))return yC.get(e);const t=SC(e);return t!==e&&(yC.set(e,t),wC.set(t,e)),t}const kC=e=>wC.get(e);function TC(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=xC(o);return r&&o.addEventListener("upgradeneeded",e=>{r(xC(o.result),e.oldVersion,e.newVersion,xC(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function _C(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),xC(n).then(()=>{})}const CC=["get","getKey","getAll","getAllKeys","count"],IC=["put","add","delete","clear"],AC=new Map;function NC(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(AC.get(t))return AC.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=IC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!CC.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return AC.set(t,s),s}!function(e){bC=e(bC)}(e=>({...e,get:(t,n,r)=>NC(t,n)||e.get(t,n,r),has:(t,n)=>!!NC(t,n)||e.has(t,n)}));const PC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",DC="google.c.a.c_id";var RC,LC;function OC(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function MC(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(RC||(RC={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(LC||(LC={}));const VC="fcm_token_details_db",FC="fcm_token_object_Store";const jC="firebase-messaging-store";let UC=null;function BC(){return UC||(UC=TC("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(jC)}})),UC}async function zC(e){const t=qC(e),n=await BC(),r=await n.transaction(jC).objectStore(jC).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(VC))return null}let t=null;const n=await TC(VC,5,{upgrade:async(n,r,i,s)=>{var o;if(r<2)return;if(!n.objectStoreNames.contains(FC))return;const a=s.objectStore(FC),l=await a.index("fcmSenderId").get(e);if(await a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(o=e.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:OC(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:OC(e.auth),p256dh:OC(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:OC(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:OC(e.auth),p256dh:OC(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:OC(e.vapidKey)}}}}});return n.close(),await _C(VC),await _C("fcm_vapid_details_db"),await _C("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await $C(e,t),t}}async function $C(e,t){const n=qC(e),r=(await BC()).transaction(jC,"readwrite");return await r.objectStore(jC).put(t,n),await r.done,t}function qC(e){let{appConfig:t}=e;return t.appId}const HC=new Ue("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function WC(e,t){const n={method:"DELETE",headers:await GC(e)};try{const r=await fetch(`${KC(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw HC.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw HC.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function KC(e){let{projectId:t}=e;return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}async function GC(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function QC(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const s={web:{endpoint:r,auth:n,p256dh:t}};return i!==PC&&(s.web.applicationPubKey=i),s}async function YC(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:MC(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:OC(t.getKey("auth")),p256dh:OC(t.getKey("p256dh"))},r=await zC(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await GC(e),r=QC(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch(`${KC(e.appConfig)}/${t.token}`,i);s=await n.json()}catch(o){throw HC.create("token-update-failed",{errorInfo:null===o||void 0===o?void 0:o.toString()})}if(s.error){const e=s.error.message;throw HC.create("token-update-failed",{errorInfo:e})}if(!s.token)throw HC.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await $C(e.firebaseDependencies,r),n}catch($I){throw await XC(e),$I}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await WC(e.firebaseDependencies,r.token)}catch($I){console.warn($I)}return JC(e.firebaseDependencies,n)}return JC(e.firebaseDependencies,n)}async function XC(e){const t=await zC(e.firebaseDependencies);t&&(await WC(e.firebaseDependencies,t.token),await async function(e){const t=qC(e),n=(await BC()).transaction(jC,"readwrite");await n.objectStore(jC).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function JC(e,t){const n=await async function(e,t){const n=await GC(e),r=QC(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=await fetch(KC(e.appConfig),i);s=await t.json()}catch(o){throw HC.create("token-subscribe-failed",{errorInfo:null===o||void 0===o?void 0:o.toString()})}if(s.error){const e=s.error.message;throw HC.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw HC.create("token-subscribe-no-token");return s.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await $C(e,r),r.token}function ZC(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=t.notification)||void 0===s?void 0:s.click_action;a&&(e.fcmOptions.link=a);const l=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function eI(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function tI(e){return HC.create("missing-app-config-values",{valueName:e})}eI("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),eI("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nI{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw tI("App Configuration Object");if(!e.name)throw tI("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw tI(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function rI(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{})}catch($I){throw HC.create("failed-service-worker-registration",{browserErrorMessage:null===$I||void 0===$I?void 0:$I.message})}}async function iI(e,t){if(!navigator)throw HC.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw HC.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=PC)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await rI(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw HC.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),YC(e)}async function sI(e,t,n){const r=function(e){switch(e){case LC.NOTIFICATION_CLICKED:return"notification_open";case LC.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[DC],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function oI(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===LC.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(ZC(n)):e.onMessageHandler.next(ZC(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&DC in e})(r)&&"1"===r["google.c.a.e"]&&await sI(e,n.messageType,r)}const aI="@firebase/messaging",lI="0.12.4",uI=e=>{const t=new nI(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>oI(t,e)),t},cI=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>iI(t,e)}};async function hI(){try{await Fe()}catch($I){return!1}return"undefined"!==typeof window&&Ve()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function dI(e,t){return function(e,t){if(!navigator)throw HC.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=Qe(e),t)}nn(new Ye("messaging",uI,"PUBLIC")),nn(new Ye("messaging-internal",cI,"PRIVATE")),cn(aI,lI),cn(aI,lI,"esm2017");const fI=ln({apiKey:"AIzaSyCS9fF81NIw-w6KecO6jefZUMOZQBFNFxU",authDomain:"agenda-f1799.firebaseapp.com",projectId:"agenda-f1799",storageBucket:"agenda-f1799.firebasestorage.app",messagingSenderId:"210697546824",appId:"1:210697546824:web:6b41e48f381c949790bc7d"}),pI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();const t=rn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=rn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ze(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Cn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ms,persistence:[Ii,hi,fi]}),r=Le("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ws)return;const r=null===t||void 0===t?void 0:t.token;bs!==r&&(bs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Qe(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Qe(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const s=De("auth");return s&&Or(n,`http://${s}`),n}(fI),mI=function(e,t){const n="string"==typeof e?e:t||"(default)",r=rn("object"==typeof e?e:un(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=De(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&rT(r,...e)}return r}(fI);let gI=null;(async()=>{try{await hI()?(gI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return hI().then(e=>{if(!e)throw HC.create("unsupported-browser")},e=>{throw HC.create("indexed-db-unsupported")}),rn(Qe(e),"messaging").getImmediate()}(fI),console.log("Firebase Messaging initialized successfully")):console.log("Firebase Messaging not supported in this environment")}catch(e){console.log("Error initializing Firebase Messaging:",e)}})();var vI=n(414);const yI=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),{register:s,handleSubmit:o,formState:{errors:a}}=$o();return(0,vI.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background to-accent/20 flex items-center justify-center p-4",children:(0,vI.jsxs)(Vf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[(0,vI.jsxs)("div",{className:"text-center mb-8",children:[(0,vI.jsx)("div",{className:"mx-auto mb-4 flex justify-center",children:(0,vI.jsx)("img",{src:"/agenda/mistatas-logo.png",alt:"MisTatas",className:"h-12 w-auto"})}),(0,vI.jsx)("p",{className:"text-lg text-gray-600",children:"Agenda Empresarial"}),(0,vI.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Gestiona tus reuniones corporativas"}),n&&(0,vI.jsx)("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:n})]}),(0,vI.jsxs)("form",{onSubmit:o(async e=>{t(!0),r(null);try{await function(e,t,n){return ai(Qe(e),Kr.credential(t,n))}(pI,e.email,e.password)}catch(n){console.error("Login error:",n);let t="Error al iniciar sesi\xf3n. Verifica tus credenciales.";"auth/user-not-found"===n.code?t="No existe una cuenta con este email.":"auth/wrong-password"===n.code?t="Contrase\xf1a incorrecta.":"auth/invalid-email"===n.code?t="Email inv\xe1lido.":"auth/user-disabled"===n.code?t="Esta cuenta ha sido deshabilitada.":"auth/too-many-requests"===n.code?t="Demasiados intentos fallidos. Intenta m\xe1s tarde.":"auth/invalid-credential"===n.code&&(t="Credenciales inv\xe1lidas. Verifica tu email y contrase\xf1a."),r(t)}finally{t(!1)}}),className:"space-y-6",children:[(0,vI.jsxs)("div",{children:[(0,vI.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo Electr\xf3nico"}),(0,vI.jsx)("input",{type:"email",id:"email",...s("email",{required:"El email es requerido",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email inv\xe1lido"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"tu@empresa.com"}),a.email&&(0,vI.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.email.message})]}),(0,vI.jsxs)("div",{children:[(0,vI.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrase\xf1a"}),(0,vI.jsx)("input",{type:"password",id:"password",...s("password",{required:"La contrase\xf1a es requerida",minLength:{value:6,message:"La contrase\xf1a debe tener al menos 6 caracteres"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),a.password&&(0,vI.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.password.message})]}),(0,vI.jsx)(Vf.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:e,className:"w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-primary/90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:e?(0,vI.jsxs)("div",{className:"flex items-center justify-center",children:[(0,vI.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesi\xf3n..."]}):"Iniciar Sesi\xf3n"})]}),(0,vI.jsx)("div",{className:"mt-8 text-center",children:(0,vI.jsx)("p",{className:"text-xs text-gray-500",children:"Acceso exclusivo para personal autorizado"})})]})})};function wI(){const e=(0,i.useRef)(!1);return Go(()=>(e.current=!0,()=>{e.current=!1}),[]),e}class bI extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function EI(e){let{children:t,isPresent:n}=e;const r=(0,i.useId)(),s=(0,i.useRef)(null),o=(0,i.useRef)({width:0,height:0,top:0,left:0});return(0,i.useInsertionEffect)(()=>{const{width:e,height:t,top:i,left:a}=o.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${i}px !important;\n            left: ${a}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}},[n]),i.createElement(bI,{isPresent:n,childRef:s,sizeRef:o},i.cloneElement(t,{ref:s}))}const SI=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:l}=e;const u=ml(xI),c=(0,i.useId)(),h=(0,i.useMemo)(()=>({id:c,initial:n,isPresent:r,custom:o,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;s&&s()},register:e=>(u.set(e,!1),()=>u.delete(e))}),a?void 0:[r]);return(0,i.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[r]),i.useEffect(()=>{!r&&!u.size&&s&&s()},[r]),"popLayout"===l&&(t=i.createElement(EI,{isPresent:r},t)),i.createElement(Wo.Provider,{value:h},t)};function xI(){return new Map}const kI=e=>e.key||"";const TI=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,exitBeforeEnter:o,presenceAffectsLayout:a=!0,mode:l="sync"}=e;tu(!o,"Replace exitBeforeEnter with mode='wait'");const u=(0,i.useContext)(ua).forceRender||function(){const e=wI(),[t,n]=(0,i.useState)(0),r=(0,i.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,i.useCallback)(()=>kl.postRender(r),[r]),t]}()[0],c=wI(),h=function(e){const t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}(t);let d=h;const f=(0,i.useRef)(new Map).current,p=(0,i.useRef)(d),m=(0,i.useRef)(new Map).current,g=(0,i.useRef)(!0);if(Go(()=>{g.current=!1,function(e,t){e.forEach(e=>{const n=kI(e);t.set(n,e)})}(h,m),p.current=d}),function(e){(0,i.useEffect)(()=>()=>e(),[])}(()=>{g.current=!0,m.clear(),f.clear()}),g.current)return i.createElement(i.Fragment,null,d.map(e=>i.createElement(SI,{key:kI(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:a,mode:l},e)));d=[...d];const v=p.current.map(kI),y=h.map(kI),w=v.length;for(let i=0;i<w;i++){const e=v[i];-1!==y.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(d=[]),f.forEach((e,t)=>{if(-1!==y.indexOf(t))return;const r=m.get(t);if(!r)return;const o=v.indexOf(t);let g=e;if(!g){const e=()=>{f.delete(t);const e=Array.from(m.keys()).filter(e=>!y.includes(e));if(e.forEach(e=>m.delete(e)),p.current=h.filter(n=>{const r=kI(n);return r===t||e.includes(r)}),!f.size){if(!1===c.current)return;u(),s&&s()}};g=i.createElement(SI,{key:kI(r),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:a,mode:l},r),f.set(t,g)}d.splice(o,0,g)}),d=d.map(e=>{const t=e.key;return f.has(t)?e:i.createElement(SI,{key:kI(e),isPresent:!0,presenceAffectsLayout:a,mode:l},e)}),i.createElement(i.Fragment,null,f.size?d:d.map(e=>(0,i.cloneElement)(e)))},_I=()=>(0,vI.jsx)("header",{className:"bg-primary text-white shadow-lg",children:(0,vI.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,vI.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,vI.jsxs)("div",{className:"flex items-center",children:[(0,vI.jsx)("img",{src:"/agenda/mistatas-logo.png",alt:"MisTatas",className:"h-8 w-auto mr-3"}),(0,vI.jsx)("h1",{className:"text-xl font-bold",children:"Agenda Empresarial"})]}),(0,vI.jsx)("div",{className:"flex items-center space-x-4",children:(0,vI.jsx)("button",{onClick:async()=>{try{await function(e){return Qe(e).signOut()}(pI)}catch(e){console.error("Error signing out:",e)}},className:"bg-primary-dark hover:bg-accent hover:text-primary transition-colors px-3 py-2 rounded-md text-sm font-medium",children:"Cerrar Sesi\xf3n"})})]})})}),CI=e=>{let{event:t,onClick:n,onEdit:r,onDelete:s}=e;const[o,a]=(0,i.useState)(!1),l=new Date(`${t.date}T${t.time}`),u=["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"][l.getDay()],c=l.getDate(),h=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][l.getMonth()];return(0,vI.jsxs)(Vf.div,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 p-4 cursor-pointer border-l-4 border-accent relative",onClick:n,children:[(0,vI.jsxs)("div",{className:"flex gap-4",children:[(0,vI.jsx)("div",{className:"flex-shrink-0 text-center",children:(0,vI.jsxs)("div",{className:"bg-primary text-white rounded-lg p-3 min-w-[60px]",children:[(0,vI.jsx)("div",{className:"text-xs font-medium text-accent",children:u}),(0,vI.jsx)("div",{className:"text-lg font-bold",children:c}),(0,vI.jsx)("div",{className:"text-xs",children:h})]})}),(0,vI.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,vI.jsx)("h3",{className:"text-lg font-semibold text-primary truncate",children:t.title}),(0,vI.jsx)("p",{className:"text-accent font-medium text-sm",children:t.client}),(0,vI.jsx)("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",children:t.notes}),(0,vI.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,vI.jsxs)("span",{className:"flex items-center gap-1",children:[(0,vI.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.time]}),t.alertMinutesBefore>0&&(0,vI.jsxs)("span",{className:"flex items-center gap-1",children:[(0,vI.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5z"})}),t.alertMinutesBefore," min antes"]})]})]}),(0,vI.jsxs)("div",{className:"relative",children:[(0,vI.jsx)("button",{onClick:e=>{e.stopPropagation(),a(!o)},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:(0,vI.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),(0,vI.jsx)(TI,{children:o&&(0,vI.jsxs)(Vf.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border py-1 z-10 min-w-[120px]",children:[(0,vI.jsxs)("button",{onClick:e=>{e.stopPropagation(),r&&r(t),a(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[(0,vI.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),(0,vI.jsxs)("button",{onClick:e=>{if(e.stopPropagation(),s&&t.id){window.confirm(`\xbfEst\xe1s seguro de que quieres eliminar la reuni\xf3n:\n\n"${t.title}" con ${t.client}?\n\nEsta acci\xf3n no se puede deshacer.`)&&s(t.id)}a(!1)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[(0,vI.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})})]})]}),o&&(0,vI.jsx)("div",{className:"fixed inset-0 z-0",onClick:()=>a(!1)})]})},II=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{const e=function(e,t,n,r){return Qe(e).onAuthStateChanged(t,n,r)}(pI,e=>{t(e),r(!1)});return e},[]),{user:e,loading:n}},AI=()=>({deleteEvent:async e=>{try{console.log("Deleting event:",e),await(t=lT(mI,"events",e),o_(eT(t.firestore,hT),[new EE(t._key,lE.none())])),console.log("\u2705 Event deleted successfully")}catch(n){throw console.error("\u274c Error deleting event:",n),n}var t},updateEvent:async(e,t)=>{try{console.log("Updating event:",e,t);const n=lT(mI,"events",e);await function(e,t,n){e=eT(e,iT);const r=eT(e.firestore,hT),i=kT(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Qe(t))||t instanceof mT?AT(i,"updateDoc",e._key,t,n,a):IT(i,"updateDoc",e._key,t),o_(r,[s.toMutation(e._key,lE.exists(!0))])}(n,t),console.log("\u2705 Event updated successfully")}catch(n){throw console.error("\u274c Error updating event:",n),n}}}),NI=e=>{let{onClose:t,onSuccess:n,editEvent:r=null}=e;const{user:s}=II(),{updateEvent:o}=AI(),{register:a,handleSubmit:l,reset:u,formState:{errors:c,isSubmitting:h}}=$o(),d=!!r;(0,i.useEffect)(()=>{r&&u({title:r.title,client:r.client,date:r.date,time:r.time,notes:r.notes||"",alertMinutesBefore:r.alertMinutesBefore||15})},[r,u]);return(0,vI.jsx)(Vf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:(0,vI.jsxs)(Vf.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,vI.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,vI.jsx)("h2",{className:"text-xl font-bold text-primary",children:d?"Editar Evento":"Nuevo Evento"}),(0,vI.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,vI.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,vI.jsxs)("form",{onSubmit:l(async e=>{if(!s)return console.error("No user found"),void alert("Error: Usuario no autenticado");console.log("Submitting event data:",e),console.log("User UID:",s.uid),console.log("Is editing:",d);try{if(d&&null!==r&&void 0!==r&&r.id)await o(r.id,{...e,userId:s.uid}),console.log("Event updated successfully"),alert("Evento actualizado exitosamente");else{const t={...e,userId:s.uid,createdAt:new Date};console.log("Event data to save:",t);const n=await function(e,t){const n=eT(e.firestore,hT),r=lT(e),i=ZT(e.converter,t);return o_(n,[TT(kT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,lE.exists(!1))]).then(()=>r)}(aT(mI,"events"),{...t,createdAt:new CT("serverTimestamp")});console.log("Document written with ID: ",n.id),alert("Evento creado exitosamente")}n()}catch(t){console.error("Error saving event:",t),console.error("Error code:",t.code),console.error("Error message:",t.message);let e=d?"Error al actualizar el evento. ":"Error al crear el evento. ";"permission-denied"===t.code?e+="No tienes permisos para realizar esta acci\xf3n. Verifica las reglas de Firestore.":"unauthenticated"===t.code?e+="No est\xe1s autenticado. Intenta cerrar sesi\xf3n e iniciar sesi\xf3n nuevamente.":e+=`Detalles: ${t.message}`,alert(e)}}),className:"space-y-4",children:[(0,vI.jsxs)("div",{children:[(0,vI.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente / Empresa *"}),(0,vI.jsx)("input",{type:"text",...a("client",{required:"El cliente es requerido"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"Nombre del cliente o empresa"}),c.client&&(0,vI.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.client.message})]}),(0,vI.jsxs)("div",{children:[(0,vI.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo de la reuni\xf3n *"}),(0,vI.jsx)("input",{type:"text",...a("title",{required:"El motivo es requerido"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"Ej: Presentaci\xf3n de propuesta"}),c.title&&(0,vI.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.title.message})]}),(0,vI.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,vI.jsxs)("div",{children:[(0,vI.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha *"}),(0,vI.jsx)("input",{type:"date",...a("date",{required:"La fecha es requerida"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent"}),c.date&&(0,vI.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.date.message})]}),(0,vI.jsxs)("div",{children:[(0,vI.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora *"}),(0,vI.jsx)("input",{type:"time",...a("time",{required:"La hora es requerida"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent"}),c.time&&(0,vI.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.time.message})]})]}),(0,vI.jsxs)("div",{children:[(0,vI.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n / Notas"}),(0,vI.jsx)("textarea",{...a("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"Notas adicionales sobre la reuni\xf3n..."})]}),(0,vI.jsxs)("div",{children:[(0,vI.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recordatorio (minutos antes)"}),(0,vI.jsxs)("select",{...a("alertMinutesBefore",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",children:[(0,vI.jsx)("option",{value:0,children:"Sin recordatorio"}),(0,vI.jsx)("option",{value:5,children:"5 minutos"}),(0,vI.jsx)("option",{value:15,children:"15 minutos"}),(0,vI.jsx)("option",{value:30,children:"30 minutos"}),(0,vI.jsx)("option",{value:60,children:"1 hora"}),(0,vI.jsx)("option",{value:120,children:"2 horas"}),(0,vI.jsx)("option",{value:1440,children:"1 d\xeda"})]})]}),(0,vI.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,vI.jsx)("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,vI.jsx)("button",{type:"submit",disabled:h,className:"flex-1 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50",children:h?d?"Actualizando...":"Guardando...":d?"Actualizar":"Guardar"})]})]})]})})},PI=e=>{let{onClick:t}=e;return(0,vI.jsx)(Vf.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"fixed bottom-6 right-6 bg-accent hover:bg-accent/90 text-primary rounded-full w-14 h-14 flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 z-40",children:(0,vI.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})};class DI{constructor(){}static getInstance(){return DI.instance||(DI.instance=new DI),DI.instance}isSupported(){return"Notification"in window}getPermission(){return this.isSupported()?Notification.permission:"denied"}async requestPermission(){if(!this.isSupported())return console.log("Notifications not supported"),"denied";const e=await Notification.requestPermission();return console.log("Notification permission:",e),e}showNotification(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log("\ud83d\udd14 Attempting to show notification:",{title:e,options:t}),"granted"===this.getPermission())try{const n={icon:"/logo192.png",badge:"/logo192.png",requireInteraction:!0,...t},r=new Notification(e,n);console.log("\u2705 Notification created successfully"),setTimeout(()=>{r.close(),console.log("\ud83d\udd15 Notification auto-closed")},1e4),r.onclick=()=>{console.log("\ud83d\udc46 Notification clicked"),window.focus(),r.close()},r.onerror=e=>{console.error("\u274c Notification error:",e)},r.onshow=()=>{console.log("\ud83d\udc41\ufe0f Notification shown successfully")},r.onclose=()=>{console.log("\ud83d\udd15 Notification closed")}}catch(n){console.error("\u274c Error creating notification:",n)}else console.log("\u274c Notification permission not granted:",this.getPermission())}scheduleEventNotification(e){const t=new Date(`${e.date}T${e.time}`),n=new Date(t.getTime()-60*e.alertMinutesBefore*1e3),r=new Date;if(n>r){const t=n.getTime()-r.getTime();console.log(`\ud83d\udcc5 Notification scheduled for ${n.toLocaleString()}`),setTimeout(()=>{this.showNotification("\ud83d\udd14 Recordatorio de Reuni\xf3n",{body:`${e.title} con ${e.client} en ${e.alertMinutesBefore} minutos`,tag:`event-${e.id}`,requireInteraction:!0})},t)}}scheduleAllEvents(e){e.forEach(e=>{e.alertMinutesBefore>0&&this.scheduleEventNotification(e)})}showTestNotification(){const e=new Date,t=e.toLocaleTimeString("es-ES"),n=e.toLocaleDateString("es-ES");console.log("\ud83e\uddea Starting test notification sequence..."),console.log("\ud83d\udcca Browser info:",{userAgent:navigator.userAgent,platform:navigator.platform,isLocalhost:"localhost"===window.location.hostname,protocol:window.location.protocol,permission:this.getPermission()}),this.showNotification("\ud83e\uddea Prueba de Notificaci\xf3n - Mistatas",{body:`Fecha: ${n}\nHora: ${t}\n\n\u2705 Sistema funcionando correctamente`,tag:"test-notification",requireInteraction:!0})}}DI.instance=void 0;const RI=DI.getInstance(),LI=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)("default");(0,i.useEffect)(()=>{r(RI.getPermission());(async()=>{try{const e=await new Promise(e=>{gI?dI(gI,t=>{console.log("Message received in foreground:",t),e(t)}):e(null)});if(e&&e.notification){const n={title:e.notification.title||"Mistatas",body:e.notification.body||"Nueva notificaci\xf3n",icon:e.notification.icon,data:e.data};t(n),"granted"===RI.getPermission()&&RI.showNotification(n.title,{body:n.body,icon:n.icon,tag:"firebase-message"})}}catch(e){console.log("Error setting up notification listener:",e)}})()},[]);return{notification:e,permission:n,clearNotification:()=>{t(null)},requestPermission:async()=>{const e=await RI.requestPermission();return r(e),"granted"===e&&(RI.showTestNotification(),!0)},showNotification:(e,r)=>{t({title:e,body:r}),"granted"===n&&RI.showNotification(e,{body:r})}}},OI=e=>{let{show:t,onClose:n}=e;const{permission:r,requestPermission:i}=LI(),s=async()=>{await i()&&setTimeout(n,2e3)},o=(()=>{switch(r){case"granted":return{icon:"\u2705",text:"Notificaciones Activas",description:"Recibir\xe1s recordatorios de tus reuniones",buttonText:"Probar Notificaci\xf3n",action:()=>{new Notification("\ud83c\udf89 Prueba Exitosa",{body:"Las notificaciones est\xe1n funcionando correctamente",icon:"/logo192.png"})}};case"denied":return{icon:"\u274c",text:"Notificaciones Bloqueadas",description:"Habilita las notificaciones en la configuraci\xf3n del navegador",buttonText:"Instrucciones",action:()=>{alert("Para habilitar notificaciones:\n            \nChrome/Edge: Click en el \xedcono \ud83d\udd12 o \u24d8 junto a la URL \u2192 Notificaciones \u2192 Permitir\nFirefox: Click en el \xedcono \ud83d\udee1\ufe0f \u2192 Permisos \u2192 Notificaciones \u2192 Permitir\nSafari: Safari \u2192 Preferencias \u2192 Sitios Web \u2192 Notificaciones \u2192 Permitir\n\nLuego recarga la p\xe1gina.")}};default:return{icon:"\ud83d\udd14",text:"Activar Notificaciones",description:"Recibe recordatorios autom\xe1ticos de tus reuniones en cualquier dispositivo",buttonText:"Activar Ahora",action:s}}})();return t?(0,vI.jsx)(Vf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:n,children:(0,vI.jsx)(Vf.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:(0,vI.jsxs)("div",{className:"text-center",children:[(0,vI.jsx)("div",{className:"text-4xl mb-4",children:o.icon}),(0,vI.jsx)("h2",{className:"text-xl font-bold text-primary mb-2",children:o.text}),(0,vI.jsx)("p",{className:"text-gray-600 mb-6",children:o.description}),(0,vI.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,vI.jsx)("h3",{className:"font-semibold text-primary mb-2",children:"Compatibilidad"}),(0,vI.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,vI.jsxs)("div",{className:"text-center",children:[(0,vI.jsx)("div",{className:"text-lg mb-1",children:"\ud83d\udcbb"}),(0,vI.jsx)("div",{className:"text-gray-600",children:"Windows"}),(0,vI.jsx)("div",{className:"text-green-500 text-xs",children:"\u2713 Compatible"})]}),(0,vI.jsxs)("div",{className:"text-center",children:[(0,vI.jsx)("div",{className:"text-lg mb-1",children:"\ud83d\udcf1"}),(0,vI.jsx)("div",{className:"text-gray-600",children:"Android"}),(0,vI.jsx)("div",{className:"text-green-500 text-xs",children:"\u2713 Compatible"})]}),(0,vI.jsxs)("div",{className:"text-center",children:[(0,vI.jsx)("div",{className:"text-lg mb-1",children:"\ud83c\udf4e"}),(0,vI.jsx)("div",{className:"text-gray-600",children:"iOS"}),(0,vI.jsx)("div",{className:"text-orange-500 text-xs",children:"\u26a0 Safari 16.4+"})]})]})]}),(0,vI.jsxs)("div",{className:"flex gap-3",children:[(0,vI.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"M\xe1s Tarde"}),(0,vI.jsx)("button",{onClick:o.action,className:"flex-1 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors",children:o.buttonText})]}),(0,vI.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"\ud83d\udca1 Las notificaciones funcionan incluso cuando la app est\xe1 cerrada"})]})})}):null},MI=e=>{let{className:t=""}=e;return(0,vI.jsxs)(Vf.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const e=new Date,t=e.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),n=e.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if("Notification"in window&&"granted"===Notification.permission){console.log("\ud83e\uddea Testing simple notification...");const r=new Notification("\ud83e\uddea Prueba de Notificaci\xf3n - Mistatas",{body:`Fecha: ${n}\nHora: ${t}\n\n\u2705 Las notificaciones est\xe1n funcionando correctamente`,icon:"/logo192.png",badge:"/logo192.png",tag:"test-notification",requireInteraction:!0,timestamp:e.getTime(),vibrate:[200,100,200]});r.onclick=()=>{console.log("Test notification clicked"),window.focus(),r.close()},setTimeout(()=>{r.close()},1e4),console.log("\u2705 Test notification sent successfully")}else"denied"===Notification.permission?alert("\u274c Notificaciones bloqueadas\n\nPara habilitar:\n1. Haz clic en el \xedcono \ud83d\udd12 junto a la URL\n2. Permite las notificaciones\n3. Recarga la p\xe1gina"):alert('\u26a0\ufe0f Permisos de notificaci\xf3n no otorgados\n\nPrimero activa las notificaciones usando el bot\xf3n "Activar Notificaciones"')},className:`bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${t}`,children:[(0,vI.jsx)("span",{className:"text-lg",children:"\ud83e\uddea"}),(0,vI.jsx)("span",{children:"Probar Notificaci\xf3n"})]})},VI=e=>{let{className:t=""}=e;return(0,vI.jsxs)(Vf.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{if(console.log("\ud83e\uddea Testing Service Worker notification..."),"serviceWorker"in navigator)if("granted"===Notification.permission)try{const e=await navigator.serviceWorker.ready;console.log("\u2705 Service Worker ready:",e);const t=new Date,n=t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),r=t.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});await e.showNotification("\ud83d\ude80 Prueba Service Worker - Mistatas",{body:`Fecha: ${r}\nHora: ${n}\n\n\u2705 Notificaci\xf3n persistente con acciones`,icon:"/logo192.png",badge:"/logo192.png",tag:"sw-test-notification",requireInteraction:!0,vibrate:[200,100,200],actions:[{action:"view",title:"\ud83d\udcc5 Ver Agenda",icon:"/logo192.png"},{action:"dismiss",title:"\u274c Cerrar"}],data:{url:"/",testNotification:!0}}),console.log("\u2705 Service Worker notification sent successfully")}catch(e){console.error("\u274c Error with Service Worker notification:",e),alert("\u274c Error al mostrar notificaci\xf3n del Service Worker\n\nRevisa la consola para m\xe1s detalles")}else alert("\u26a0\ufe0f Permisos de notificaci\xf3n no otorgados\n\nPrimero activa las notificaciones");else alert("\u274c Service Worker no soportado en este navegador")},className:`bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${t}`,children:[(0,vI.jsx)("span",{className:"text-lg",children:"\ud83d\ude80"}),(0,vI.jsx)("span",{children:"SW Test"})]})},FI=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,o]=(0,i.useState)(null),{user:a}=II();return(0,i.useEffect)(()=>{if(!a)return t([]),void r(!1);console.log(`[${(new Date).toLocaleTimeString()}] Setting up events listener for user:`,a.uid);const e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=Qe(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||cT(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges};if(cT(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,d;if(e instanceof iT)h=eT(e.firestore,hT),d=mb(e._key.path),c={next:t=>{n[l]&&n[l](a_(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=eT(e,sT);h=eT(t.firestore,hT),d=t._query;const r=new s_(h);c={next:e=>{n[l]&&n[l](new r_(h,r,t,e))},error:n[l+1],complete:n[l+2]},$T(e._query)}return function(e,t,n,r){const i=new jk(r),s=new ck(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>sk(await Kk(e),s)),()=>{i.Dc(),e.asyncQueue.enqueueAndForget(async()=>ok(await Kk(e),s))}}(dT(h),d,u,c)}(function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof qT&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof KT).length,n=e.filter(e=>e instanceof WT).length;if(t>1||t>0&&n>0)throw new vy(gy.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}(aT(mI,"events"),function(e,t,n){const r=t,i=zT("where",e);return WT._create(i,r,n)}("userId","==",a.uid)),e=>{console.log(`[${(new Date).toLocaleTimeString()}] Firestore snapshot received, docs count:`,e.size);const n=[];e.forEach(e=>{const t=e.data();console.log(`[${(new Date).toLocaleTimeString()}] Event data:`,{id:e.id,...t}),n.push({id:e.id,...t})}),n.sort((e,t)=>e.date===t.date?e.time.localeCompare(t.time):e.date.localeCompare(t.date)),t(n),r(!1),o(null),"granted"===RI.getPermission()&&(RI.scheduleAllEvents(n),console.log(`\ud83d\udcc5 Scheduled notifications for ${n.length} events`))},e=>{console.error("Error fetching events:",e),o(e.message),r(!1)});return e},[a]),{events:e,loading:n,error:s}},jI=()=>{const{events:e,loading:t,error:n}=FI(),{permission:r}=LI(),{deleteEvent:s}=AI(),[o,a]=(0,i.useState)(!1),[l,u]=(0,i.useState)(!1),[c,h]=(0,i.useState)(null),d=()=>{h(null),a(!0)},f=e=>{h(e),a(!0)},p=async e=>{try{await s(e)}catch(n){console.error("Error deleting event:",n),alert("Error al eliminar el evento. Int\xe9ntalo de nuevo.")}},m=(new Date).toISOString().split("T")[0],g=e.filter(e=>e.date>=m),v=e.filter(e=>e.date<m);return t?(0,vI.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,vI.jsx)(_I,{}),(0,vI.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,vI.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}):(0,vI.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,vI.jsx)(_I,{}),(0,vI.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,vI.jsxs)("div",{className:"mb-8",children:[(0,vI.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,vI.jsxs)("div",{children:[(0,vI.jsx)("h2",{className:"text-2xl font-bold text-primary mb-2",children:"Panel de Control"}),(0,vI.jsx)("p",{className:"text-gray-600",children:"Gestiona tus reuniones y eventos empresariales"})]}),(0,vI.jsxs)("div",{className:"flex gap-2",children:[(0,vI.jsx)(MI,{}),(0,vI.jsx)(VI,{}),(0,vI.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors "+("granted"===r?"bg-green-100 text-green-700 hover:bg-green-200":"bg-orange-100 text-orange-700 hover:bg-orange-200"),children:[(0,vI.jsx)("span",{className:"text-lg",children:"granted"===r?"\ud83d\udd14":"\ud83d\udd15"}),(0,vI.jsx)("span",{children:"granted"===r?"Notificaciones ON":"Activar Notificaciones"})]})]})]}),n&&(0,vI.jsxs)("div",{className:"mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md",children:[(0,vI.jsx)("h4",{className:"font-medium",children:"Error al cargar eventos:"}),(0,vI.jsx)("p",{className:"text-sm mt-1",children:n})]})]}),(0,vI.jsxs)("section",{className:"mb-8",children:[(0,vI.jsxs)("h3",{className:"text-xl font-semibold text-primary mb-4 flex items-center",children:[(0,vI.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a4 4 0 118 0v4M5 7h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2z"})}),"Pr\xf3ximas Reuniones (",g.length,")"]}),0===g.length?(0,vI.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,vI.jsx)("div",{className:"text-gray-400 mb-4",children:(0,vI.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a4 4 0 118 0v4M5 7h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2z"})})}),(0,vI.jsx)("h4",{className:"text-lg font-medium text-gray-600 mb-2",children:"No hay reuniones programadas"}),(0,vI.jsx)("p",{className:"text-gray-500 mb-4",children:"Agrega tu primera reuni\xf3n para comenzar"}),(0,vI.jsx)("button",{onClick:d,className:"bg-primary text-white px-6 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Agregar Reuni\xf3n"})]}):(0,vI.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,vI.jsx)(CI,{event:e,onEdit:f,onDelete:p},e.id))})]}),v.length>0&&(0,vI.jsxs)("section",{children:[(0,vI.jsxs)("h3",{className:"text-xl font-semibold text-primary mb-4 flex items-center",children:[(0,vI.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Historial de Reuniones (",v.length,")"]}),(0,vI.jsxs)("div",{className:"space-y-4",children:[v.slice(0,5).map(e=>(0,vI.jsx)(CI,{event:e,onEdit:f,onDelete:p},e.id)),v.length>5&&(0,vI.jsx)("div",{className:"text-center",children:(0,vI.jsx)("button",{className:"text-primary hover:text-primary/80 text-sm font-medium",children:"Ver m\xe1s reuniones anteriores"})})]})]})]}),(0,vI.jsx)(PI,{onClick:d}),(0,vI.jsx)(TI,{children:o&&(0,vI.jsx)(NI,{onClose:()=>{a(!1),h(null)},onSuccess:()=>{a(!1),h(null)},editEvent:c})}),(0,vI.jsx)(TI,{children:l&&(0,vI.jsx)(OI,{show:l,onClose:()=>u(!1)})})]})},UI=e=>{let{notification:t,onClose:n}=e;return i.useEffect(()=>{if(t){const e=setTimeout(()=>{n()},5e3);return()=>clearTimeout(e)}},[t,n]),(0,vI.jsx)(TI,{children:t&&(0,vI.jsx)(Vf.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-4 right-4 z-50 max-w-sm",children:(0,vI.jsx)("div",{className:"bg-glass-bg backdrop-blur-lg border border-glass-border rounded-lg shadow-2xl p-4 text-primary",children:(0,vI.jsxs)("div",{className:"flex items-start gap-3",children:[(0,vI.jsx)("div",{className:"flex-shrink-0",children:(0,vI.jsx)("span",{className:"text-2xl",children:"\ud83d\udd14"})}),(0,vI.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,vI.jsx)("h4",{className:"text-sm font-semibold text-primary truncate",children:t.title}),(0,vI.jsx)("p",{className:"text-sm text-primary/80 mt-1",children:t.body})]}),(0,vI.jsx)("button",{onClick:n,className:"flex-shrink-0 text-primary/60 hover:text-primary transition-colors",children:(0,vI.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vI.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})})};const BI=function(){const{user:e,loading:t}=II(),{notification:n,clearNotification:r}=LI();return t?(0,vI.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,vI.jsxs)("div",{className:"text-center",children:[(0,vI.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,vI.jsx)("p",{className:"text-primary font-medium",children:"Cargando Mistatas..."})]})}):(0,vI.jsx)(Se,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,vI.jsxs)("div",{className:"App",children:[(0,vI.jsxs)(we,{children:[(0,vI.jsx)(ve,{path:"/login",element:e?(0,vI.jsx)(ge,{to:"/",replace:!0}):(0,vI.jsx)(yI,{})}),(0,vI.jsx)(ve,{path:"/",element:e?(0,vI.jsx)(jI,{}):(0,vI.jsx)(ge,{to:"/login",replace:!0})}),(0,vI.jsx)(ve,{path:"*",element:(0,vI.jsx)(ge,{to:"/",replace:!0})})]}),(0,vI.jsx)(UI,{notification:n,onClose:r})]})})},zI=o.createRoot(document.getElementById("root"));(async()=>{if(console.log("Requesting notification permission..."),!("Notification"in window))return console.log("This browser does not support notifications"),null;if(!gI)return console.log("Firebase Messaging not available"),null;try{const t=await Notification.requestPermission();if(console.log("Notification permission:",t),"granted"!==t)return"denied"===t?(console.log("\u274c Notification permission denied by user"),null):(console.log("\u23f3 Notification permission not granted yet"),null);try{const e=await async function(e,t){return iI(e=Qe(e),t)}(gI,{vapidKey:"BLuosnrH3h1VkefWciI-sp_c7TqxSgzFQzjOJTfpHP2HTkoG9gnD6NqhtKs_lBwg9-hf3HLfPmPxcGA8YwTUw"});return console.log("FCM Registration token:",e),e?(console.log("\u2705 Push notifications enabled successfully"),e):(console.log("\u274c Failed to get FCM token"),null)}catch(e){return console.error("Error getting FCM token:",e),"messaging/invalid-vapid-key"===(null===e||void 0===e?void 0:e.code)&&console.error("\u274c Invalid VAPID key. Please check your Firebase Console."),null}}catch(t){return console.error("Error requesting notification permission:",t),null}})(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/agenda/sw.js").then(e=>{console.log("PWA Service Worker registered successfully")}).catch(e=>{console.log("PWA Service Worker registration failed:",e)})}),zI.render((0,vI.jsx)(i.StrictMode,{children:(0,vI.jsx)(BI,{})}))})();