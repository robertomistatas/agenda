/*! For license information please see main.3b6a643f.js.LICENSE.txt */
(()=>{"use strict";var e={49:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,x(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),N(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},340:(e,t,n)=>{e.exports=n(761)},345:(e,t,n)=>{var r=n(950),i=n(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,j=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Qf){var r=Qf}Reflect.construct(e,[],t)}else{try{t.call()}catch(Qf){r=Qf}e.call(t.prototype)}else{try{throw Error()}catch(Qf){r=Qf}e()}}catch(Qf){if(Qf&&r&&"string"===typeof Qf.stack){for(var i=Qf.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(dv){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Se=null;function Te(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),ke(e.stateNode,e.type,t))}}function Ce(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function _e(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Ne(),_e())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Re=!1}function Me(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,je=null,Fe=!1,Ve=null,Ue={onError:function(e){Oe=!0,je=e}};function Be(e,t,n,r,i,s,o,a,l){Oe=!1,je=null,Me.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,Et,St,Tt,Ct=!1,_t=[],It=null,Nt=null,At=null,Pt=new Map,Dt=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Tt(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Ct=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Vt),Dt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var $t=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Ht(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Ot(It,e,t,n,r,i),!0;case"dragenter":return Nt=Ot(Nt,e,t,n,r,i),!0;case"mouseover":return At=Ot(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Ot(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Ot(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=vi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=j({},cn,{view:0,detail:0}),hn=sn(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},dn,{relatedTarget:0})),yn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(j({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Sn}var Cn=j({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=sn(Cn),In=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Pn),Rn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var On=u&&"TextEvent"in window&&!Mn,jn=u&&(!Ln||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){Fr(e,0)}function Qn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,xe(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},Sr={};function Tr(e){if(Er[e])return Er[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Tr("animationend"),_r=Tr("animationiteration"),Ir=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Lr=Pr[Rr];Dr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Dr(Cr,"onAnimationEnd"),Dr(_r,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Be.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var u=je;Oe=!1,je=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach(function(t){"selectionchange"!==t&&(Or.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe(function(){var r=s,i=xe(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Cr:case _r:case Ir:l=yn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(o,a,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(qn(a))if(Xn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=De(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=De(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var ki=[],Ei=-1;function Si(e){return{current:e}}function Ti(e){0>Ei||(e.current=ki[Ei],ki[Ei]=null,Ei--)}function Ci(e,t){Ei++,ki[Ei]=e.current,e.current=t}var _i={},Ii=Si(_i),Ni=Si(!1),Ai=_i;function Pi(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ni),Ti(Ii)}function Li(e,t,n){if(Ii.current!==_i)throw Error(s(168));Ci(Ii,t),Ci(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return j({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ai=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(Ii),Ci(Ii,e)):Ti(Ni),Ci(Ni,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var $i=[],qi=0,Wi=null,Hi=0,Ki=[],Gi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){$i[qi++]=Hi,$i[qi++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=$i[--qi],$i[qi]=null,Hi=$i[--qi],$i[qi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&Ji(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return is&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&vs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case k:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return a(r);case D:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(M(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=jc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),ks=Si(null),Es=null,Ss=null,Ts=null;function Cs(){Ts=Ss=Es=null}function _s(e){var t=ks.current;Ti(ks),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Es=e,Ts=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===Es)throw Error(s(308));Ss=e,Es.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ps=null;function Ds(e){null===Ps?Ps=[e]:Ps.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ds(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ls(e,n)}return null===(i=r.interleaved)?(t.next=t,Ds(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ls(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:Ms=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=d}}function $s(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Ws=Si(qs),Hs=Si(qs),Ks=Si(qs);function Gs(e){if(e===qs)throw Error(s(174));return e}function Qs(e,t){switch(Ci(Ks,t),Ci(Hs,e),Ci(Ws,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ws),Ci(Ws,t)}function Ys(){Ti(Ws),Ti(Hs),Ti(Ks)}function Xs(e){Gs(Ks.current);var t=Gs(Ws.current),n=le(t,e.type);t!==n&&(Ci(Hs,e),Ci(Ws,n))}function Js(e){Hs.current===e&&(Ti(Ws),Ti(Hs))}var Zs=Si(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((so&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,oo.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ol|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Eo(){}function So(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Oo(_o.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,Co.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&so)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&No(e)}function _o(e,t,n){return n(function(){Io(t)&&No(e)})}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Ls(e,1);null!==t&&nc(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return bo().memoizedState}function Ro(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Po(t,n,s,r))}oo.flags|=e,i.memoizedState=Po(1|t,n,s,r)}function Mo(e,t){return Ro(8390656,8,e,t)}function Oo(e,t){return Lo(2048,8,e,t)}function jo(e,t){return Lo(4,2,e,t)}function Fo(e,t){return Lo(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Vo.bind(null,t,e),n)}function Bo(){}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Ol|=n,e.baseState=!0),t)}function Wo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Ho(){return bo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Yo(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function Go(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Yo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ds(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Qf){}null!==(n=Rs(e,t,i,r))&&(nc(n,e,r,i=ec()),Xo(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:As,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:As,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:Bo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&so)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(_o.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,Co.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Nl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:As,useCallback:zo,useContext:As,useEffect:Oo,useImperativeHandle:Uo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:$o,useReducer:xo,useRef:Do,useState:function(){return xo(wo)},useDebugValue:Bo,useDeferredValue:function(e){return qo(bo(),ao.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:So,useId:Ho,unstable_isNewReconciler:!1},ta={readContext:As,useCallback:zo,useContext:As,useEffect:Oo,useImperativeHandle:Uo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:$o,useReducer:ko,useRef:Do,useState:function(){return ko(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[ko(wo)[0],bo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:So,useId:Ho,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=_i,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Di(t)?Ai:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):_i),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Di(t)?Ai:Ii.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),da(0,t)},n}function pa(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=go(e,t,n,r,s,i),n=yo(),null===e||ba?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function ka(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ea(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Rl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Rl,Dl),Dl|=r;return wa(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Di(n)?Ai:Ii.current;return s=Pi(t,s),Ns(t,i),n=go(e,t,n,r,s,i),r=yo(),null===e||ba?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function _a(e,t,n,r,i){if(Di(n)){var s=!0;Oi(t)}else s=!1;if(Ns(t,i),null===t.stateNode)$a(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Pi(t,c=Di(n)?Ai:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Ms=!1;var h=t.memoizedState;o.state=h,zs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ni.current||Ms?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Ms||sa(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,js(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Pi(t,l=Di(n)?Ai:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,o,r,l),Ms=!1,h=t.memoizedState,o.state=h,zs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Ni.current||Ms?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Ms||sa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),qa(e,t,s);r=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Qs(e,t.containerInfo)}function Aa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wa(e,t,n,r),t.child}var Pa,Da,Ra,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Oc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=Ma,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ls(e,i),nc(r,e,i,-1))}return mc(),Va(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Rc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Oa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Rc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ha(t),null;case 3:return r=t.stateNode,Ys(),Ti(Ni),Ti(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Da(e,t),Ha(t),null;case 5:Js(t);var i=Gs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=Gs(Ws.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs(Ws.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return Ys(),Da(e,t),null===e&&zr(t.stateNode.containerInfo),Ha(t),null;case 10:return _s(t.type._context),Ha(t),null;case 19:if(Ti(Zs),null===(o=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wa(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zl&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ha(t),null}else 2*Xe()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Ci(Zs,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ga(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Ti(Ni),Ti(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Ys(),null;case 10:return _s(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(Ws.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Ya=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hl(e,t,n),Ya=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach(function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Qf){Sc(i,t,Qf)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,ml(t,e),Ya=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Ja=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(Wf){Sc(e,e.return,Wf)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Qa;var c=Ya;if(Qa=o,(Ya=l)&&!c)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?kl(i):null!==l?(l.return=o,Ja=l):kl(i);for(;null!==s;)Ja=s,bl(s,t,n),s=s.sibling;Ja=i,Qa=a,Ya=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&$s(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$s(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&il(t)}catch(ip){Sc(t,t.return,ip)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function kl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(Wf){Sc(t,n,Wf)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Wf){Sc(t,i,Wf)}}var s=t.return;try{il(t)}catch(Wf){Sc(t,s,Wf)}break;case 5:var o=t.return;try{il(t)}catch(Wf){Sc(t,o,Wf)}}}catch(Wf){Sc(t,t.return,Wf)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var El,Sl=Math.ceil,Tl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,_l=w.ReactCurrentBatchConfig,Il=0,Nl=null,Al=null,Pl=0,Dl=0,Rl=Si(0),Ll=0,Ml=null,Ol=0,jl=0,Fl=0,Vl=null,Ul=null,Bl=0,zl=1/0,$l=null,ql=!1,Wl=null,Hl=null,Kl=!1,Gl=null,Ql=0,Yl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Il)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Il)&&e===Nl||(e===Nl&&(0===(2&Il)&&(jl|=n),4===Ll&&ac(e,Pl)),rc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(zl=Xe()+500,Vi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Nl?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),oi(function(){0===(6&Il)&&zi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Il;Il|=2;var o=pc();for(Nl===e&&Pl===t||($l=null,zl=Xe()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Cs(),Tl.current=o,Il=i,null!==Al?t=0:(Nl=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ml,hc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ml,hc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Ul,$l);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Ul,$l),t);break}xc(e,Ul,$l);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Ul,$l),r);break}xc(e,Ul,$l);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~Fl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Il))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ml,hc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,$l),rc(e,Xe()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(zl=Xe()+500,Vi&&zi())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Il)&&kc();var t=Il;Il|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Il=t))&&zi()}}function dc(){Dl=Rl.current,Ti(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ys(),Ti(Ni),Ti(Ii),no();break;case 5:Js(r);break;case 4:Ys();break;case 13:case 19:Ti(Zs);break;case 10:_s(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Al=e=Rc(e.current,null),Pl=Dl=t,Ll=0,Ml=null,Fl=jl=Ol=0,Ul=Vl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ps=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Cs(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Cl.current=null,null===n||null===n.return){Ll=1,Ml=t,Al=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Ll&&(Ll=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,fa(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(lp){t=lp,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Jo,null===e?Jo:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Nl||0===(268435455&Ol)&&0===(268435455&jl)||ac(Nl,Pl)}function gc(e,t){var n=Il;Il|=2;var r=pc();for(Nl===e&&Pl===t||($l=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Cs(),Il=n,Tl.current=r,null!==Al)throw Error(s(261));return Nl=null,Pl=0,Ll}function yc(){for(;null!==Al;)bc(Al)}function vc(){for(;null!==Al&&!Qe();)bc(Al)}function bc(e){var t=El(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Dl)))return void(Al=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ll=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ll&&(Ll=5)}function xc(e,t,n){var r=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Gl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(Al=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Nc(tt,function(){return kc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var a=bt;bt=1;var l=Il;Il|=4,Cl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Pm){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Pm){Sc(t,t.return,Pm)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Il=l,bt=a,_l.transition=o}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Ql=i),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Ql)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,zi()}(e,t,n,r)}finally{_l.transition=i,bt=r}return null}function kc(){if(null!==Gl){var e=wt(Ql),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(sl(d),d===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ja=v;break e}Ja=o.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(lp){Sc(l,l.return,lp)}if(l===a){Ja=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break e}Ja=l.return}}if(Il=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(lp){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function Ec(e,t,n){e=Vs(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Vs(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Xe()-Bl?hc(e,0):Fl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ls(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case S:a=8,i|=8;break;case T:return(e=Pc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Oc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case _:a=9;break e;case I:a=11;break e;case P:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Bc(e){if(!e)return _i;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,s,o,a,l){return(e=Uc(n,r,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,s=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,o))&&(nc(e,i,o,s),Us(e,i,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:Xs(t);break;case 1:Di(t.type)&&Oi(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ci(Zs,1&Zs.current),null!==(e=qa(e,t,n))?e.sibling:null);Ci(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return qa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ns(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=_a(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,js(e,t),zs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Aa(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Aa(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return ja(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ci(ks,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=As(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),ka(e,t,r,i=na(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),$a(e,t),t.tag=1,Di(r)?(e=!0,Oi(t)):e=!1,Ns(t,n),oa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Sa(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=qc(o);a.call(e)}}$c(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(o);s.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){$c(t,l,n,r)}),l}(n,t,e,i,r);return qc(o)}Qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$c(e,t,null,null)},Qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){$c(null,e,null,null)}),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&Il)&&(zl=Xe()+500,zi()))}break;case 13:uc(function(){var t=Ls(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Hc(e,1)}},kt=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Ls(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ce,_e,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},414:(e,t,n)=>{e.exports=n(654)},654:(e,t,n)=>{var r=n(950),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.jsx=c,t.jsxs=c},761:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(k);else{var t=r(u);null!==t&&L(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(C),C=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,T=null,C=-1,_=5,I=-1;function N(){return!(t.unstable_now()-I<_)}function A(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?E():(S=!1,T=null)}}else S=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,E=function(){D.postMessage(null)}}else E=function(){y(A,0)};function R(e){T=e,S||(S=!0,E())}function L(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(C),C=-1):g=!0,L(x,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,R(k))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{e.exports=n(49)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/agenda/";var r,i=n(950),s=n.t(i,2),o=n(352),a=n(119),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,l=r.Pop,h=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-g;g=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let w={get action(){return l},get location(){return e(s,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(u,v),h=e,()=>{s.removeEventListener(u,v),h=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),g=y()+1;let c=f(i,g),u=w.createHref(i);try{a.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}o&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),g=y();let s=f(i,g),c=w.createHref(i);a.replaceState(s,"",c),o&&h&&h({action:l,location:w.location,delta:0})},go:e=>a.go(e)};return w}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=L(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=R(i);o=P(s[a],e,r)}return o}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=V([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))i(e,t,r);else i(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=k(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const E=/^:[\w-]+$/,S=3,T=2,C=1,_=10,I=-2,N=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=I),t&&(r+=T),n.filter(e=>!N(e)).reduce((e,t)=>e+(E.test(t)?S:""===t?C:_),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:V([s,u.pathname]),pathnameBase:U(V([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=V([s,u.pathnameBase]))}return o}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function j(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),M("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),M("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),M("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:z(i)}}(i,s),u=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const V=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],W=(new Set(q),["get",...q]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||d(!1),i.useContext(Y).location}function te(e){i.useContext(Q).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||d(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(Q),{matches:s}=i.useContext(X),{pathname:o}=ee(),a=JSON.stringify(j(s,n.v7_relativeSplatPath)),l=i.useRef(!1);te(()=>{l.current=!0});let c=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:V([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,a,o,e]);return c}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Q),{matches:s}=i.useContext(X),{pathname:o}=ee(),a=JSON.stringify(j(s,r.v7_relativeSplatPath));return i.useMemo(()=>F(e,JSON.parse(a),o,"path"===n),[e,a,o,n])}function ie(e,t,n,s){Z()||d(!1);let{navigator:o}=i.useContext(Q),{matches:a}=i.useContext(X),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let m=h.pathname||"/",y=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=b(e,{pathname:y});let w=ce(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:V([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:V([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,s);return t&&w?i.createElement(Y.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},w):w}function se(){let e=function(){var e;let t=i.useContext(J),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const oe=i.createElement(se,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,r,s)=>{let o,d=!1,h=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,c&&(u<0&&0===s?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===s&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext(K);return t||d(!1),t}function fe(e){let t=i.useContext(G);return t||d(!1),t}function pe(e){let t=function(){let e=i.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||d(!1);let{future:o,static:a}=i.useContext(Q),{matches:l}=i.useContext(X),{pathname:c}=ee(),u=ne(),h=F(t,j(l,o.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(h);return i.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function ve(e){d(!1)}function be(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:u,navigator:a,static:l,future:H({v7_relativeSplatPath:!1},c)}),[u,c,a,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:v="default"}=s,b=i.useMemo(()=>{let e=L(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:y,key:v},navigationType:o}},[u,f,p,m,y,v,o]);return null==b?null:i.createElement(Q.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return ie(xe(t),n)}new Promise(()=>{});i.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,xe(e.props.children,s));e.type!==ve&&d(!1),e.props.index&&e.props.children&&d(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=xe(e.props.children,s)),n.push(o)}),n}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(iN){}new Map;const Te=s.startTransition;l.flushSync,s.useId;function Ce(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),y(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,a)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback(e=>{d&&Te?Te(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(h),[l,h]),i.useEffect(()=>ge(r),[r]),i.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Ee(e,Se),{basename:g}=i.useContext(Q),y=!1;if("string"===typeof u&&Ie.test(u)&&(n=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=L(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(iN){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:s}=i.useContext(Q),{hash:o,pathname:a,search:l}=re(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:V([r,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=re(e,{relative:a});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});return i.createElement("a",ke({},p,{href:n||v,onClick:y||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Ae,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));const De=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(De(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Le;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(e){return function(e){const t=De(e);return Re.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Oe=function(e){try{return Re.decodeString(e,!0)}catch(iN){console.error("base64Decode failed: ",iN)}return null};const je=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Fe=()=>{try{return je()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/agenda",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PWA_ENABLED:"true",REACT_APP_VERSION:"1.0.0"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(iN){return}const t=e&&Oe(e[1]);return t&&JSON.parse(t)})()}catch(iN){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${iN}`)}},Ve=e=>{var t,n;return null===(n=null===(t=Fe())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ue=()=>{var e;return null===(e=Fe())||void 0===e?void 0:e.config},Be=e=>{var t;return null===(t=Fe())||void 0===t?void 0:t[`_${e}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function $e(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function qe(){try{return"object"===typeof indexedDB}catch(iN){return!1}}function We(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class He extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Ge,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new He(n,s,t)}}const Ge=/\{\$([^}]+)}/g;function Qe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ye(n)&&Ye(s)){if(!Qe(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ye(e){return null!==e&&"object"===typeof e}function Xe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Je(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Ze(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class et{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=tt),void 0===r.error&&(r.error=tt),void 0===r.complete&&(r.complete=tt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(iN){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(iN){"undefined"!==typeof console&&console.error&&console.error(iN)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tt(){}function nt(e){return e&&e._delegate?e._delegate:e}class rt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const it="[DEFAULT]";class st{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ze;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(iN){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(iN){if(r)return null;throw iN}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:it})}catch(iN){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(iN){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===it?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;return this.component?this.component.multipleInstances?e:it:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ot{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new st(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const at=[];var lt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(lt||(lt={}));const ct={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},ut=lt.INFO,dt={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},ht=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=dt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class ft{constructor(e){this.name=e,this._logLevel=ut,this._logHandler=ht,this._userLogHandler=null,at.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ct[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...t),this._logHandler(this,lt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...t),this._logHandler(this,lt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lt.INFO,...t),this._logHandler(this,lt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lt.WARN,...t),this._logHandler(this,lt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...t),this._logHandler(this,lt.ERROR,...t)}}let pt,mt;const gt=new WeakMap,yt=new WeakMap,vt=new WeakMap,bt=new WeakMap,wt=new WeakMap;let xt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return St(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function kt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mt||(mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Tt(this),n),St(gt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return St(e.apply(Tt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Tt(this),t,...r);return vt.set(s,t.sort?t.sort():[t]),St(s)}}function Et(e){return"function"===typeof e?kt(e):(e instanceof IDBTransaction&&function(e){if(yt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});yt.set(e,t)}(e),t=e,(pt||(pt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,xt):e);var t}function St(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(St(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&gt.set(t,e)}).catch(()=>{}),wt.set(t,e),t}(e);if(bt.has(e))return bt.get(e);const t=Et(e);return t!==e&&(bt.set(e,t),wt.set(t,e)),t}const Tt=e=>wt.get(e);const Ct=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],It=new Map;function Nt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(It.get(t))return It.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_t.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ct.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return It.set(t,s),s}xt=(e=>({...e,get:(t,n,r)=>Nt(t,n)||e.get(t,n,r),has:(t,n)=>!!Nt(t,n)||e.has(t,n)}))(xt);class At{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Pt="@firebase/app",Dt="0.9.13",Rt=new ft("@firebase/app"),Lt="@firebase/app-compat",Mt="@firebase/analytics-compat",Ot="@firebase/analytics",jt="@firebase/app-check-compat",Ft="@firebase/app-check",Vt="@firebase/auth",Ut="@firebase/auth-compat",Bt="@firebase/database",zt="@firebase/database-compat",$t="@firebase/functions",qt="@firebase/functions-compat",Wt="@firebase/installations",Ht="@firebase/installations-compat",Kt="@firebase/messaging",Gt="@firebase/messaging-compat",Qt="@firebase/performance",Yt="@firebase/performance-compat",Xt="@firebase/remote-config",Jt="@firebase/remote-config-compat",Zt="@firebase/storage",en="@firebase/storage-compat",tn="@firebase/firestore",nn="@firebase/firestore-compat",rn="firebase",sn="[DEFAULT]",on={[Pt]:"fire-core",[Lt]:"fire-core-compat",[Ot]:"fire-analytics",[Mt]:"fire-analytics-compat",[Ft]:"fire-app-check",[jt]:"fire-app-check-compat",[Vt]:"fire-auth",[Ut]:"fire-auth-compat",[Bt]:"fire-rtdb",[zt]:"fire-rtdb-compat",[$t]:"fire-fn",[qt]:"fire-fn-compat",[Wt]:"fire-iid",[Ht]:"fire-iid-compat",[Kt]:"fire-fcm",[Gt]:"fire-fcm-compat",[Qt]:"fire-perf",[Yt]:"fire-perf-compat",[Xt]:"fire-rc",[Jt]:"fire-rc-compat",[Zt]:"fire-gcs",[en]:"fire-gcs-compat",[tn]:"fire-fst",[nn]:"fire-fst-compat","fire-js":"fire-js",[rn]:"fire-js-all"},an=new Map,ln=new Map;function cn(e,t){try{e.container.addComponent(t)}catch(iN){Rt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,iN)}}function un(e){const t=e.name;if(ln.has(t))return Rt.debug(`There were multiple attempts to register component ${t}.`),!1;ln.set(t,e);for(const n of an.values())cn(n,e);return!0}function dn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const hn=new Ke("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const pn="9.23.0";function mn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:sn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw hn.create("bad-app-name",{appName:String(i)});if(n||(n=Ue()),!n)throw hn.create("no-options");const s=an.get(i);if(s){if(Qe(n,s.options)&&Qe(r,s.config))return s;throw hn.create("duplicate-app",{appName:i})}const o=new ot(i);for(const l of ln.values())o.addComponent(l);const a=new fn(n,r,o);return an.set(i,a),a}function gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn;const t=an.get(e);if(!t&&e===sn&&Ue())return mn();if(!t)throw hn.create("no-app",{appName:e});return t}function yn(e,t,n){var r;let i=null!==(r=on[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Rt.warn(e.join(" "))}un(new rt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const vn="firebase-heartbeat-store";let bn=null;function wn(){return bn||(bn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=St(o);return r&&o.addEventListener("upgradeneeded",e=>{r(St(o.result),e.oldVersion,e.newVersion,St(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(vn)}}).catch(e=>{throw hn.create("idb-open",{originalErrorMessage:e.message})})),bn}async function xn(e,t){try{const n=(await wn()).transaction(vn,"readwrite"),r=n.objectStore(vn);await r.put(t,kn(e)),await n.done}catch(iN){if(iN instanceof He)Rt.warn(iN.message);else{const t=hn.create("idb-set",{originalErrorMessage:null===iN||void 0===iN?void 0:iN.message});Rt.warn(t.message)}}}function kn(e){return`${e.name}!${e.options.appId}`}class En{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Tn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Sn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Sn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Cn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Me(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Sn(){return(new Date).toISOString().substring(0,10)}class Tn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!qe()&&We().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await wn();return await t.transaction(vn).objectStore(vn).get(kn(e))}catch(iN){if(iN instanceof He)Rt.warn(iN.message);else{const t=hn.create("idb-get",{originalErrorMessage:null===iN||void 0===iN?void 0:iN.message});Rt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return xn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return xn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Cn(e){return Me(JSON.stringify({version:2,heartbeats:e})).length}var _n;_n="",un(new rt("platform-logger",e=>new At(e),"PRIVATE")),un(new rt("heartbeat",e=>new En(e),"PRIVATE")),yn(Pt,Dt,_n),yn(Pt,Dt,"esm2017"),yn("fire-js","");function In(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Nn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const An=Nn,Pn=new Ke("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dn=new ft("@firebase/auth");function Rn(e){if(Dn.logLevel<=lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dn.error(`Auth (${pn}): ${e}`,...n)}}function Ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw jn(e,...n)}function Mn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jn(e,...n)}function On(e,t,n){const r=Object.assign(Object.assign({},An()),{[t]:n});return new Ke("auth","Firebase",r).create(t,{appName:e.name})}function jn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Pn.create(e,...n)}function Fn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw jn(t,...r)}}function Vn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Rn(t),new Error(t)}function Un(e,t){e||Vn(t)}function Bn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function zn(){return"http:"===$n()||"https:"===$n()}function $n(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function qn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(zn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Wn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Un(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return qn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hn(e,t){Un(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Kn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qn=new Wn(3e4,6e4);function Yn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Xn(e,t,n,r){return Jn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Xe(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Kn.fetch()(er(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))})}async function Jn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Gn),t);try{const t=new tr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw nr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw nr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw nr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw nr(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw On(e,a,o);Ln(e,a)}}catch(iN){if(iN instanceof He)throw iN;Ln(e,"network-request-failed",{message:String(iN)})}}async function Zn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Xn(e,t,n,r,i);return"mfaPendingCredential"in s&&Ln(e,"multi-factor-auth-required",{_serverResponse:s}),s}function er(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Hn(e.config,i):`${e.config.apiScheme}://${i}`}class tr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Mn(this.auth,"network-request-failed")),Qn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mn(e,t,r);return i.customData._tokenResponse=n,i}function rr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(iN){}}function ir(e){return 1e3*Number(e)}function sr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Rn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Oe(n);return e?JSON.parse(e):(Rn("Failed to decode base64 JWT payload"),null)}catch(iN){return Rn("Caught error parsing JWT payload as JSON",null===iN||void 0===iN?void 0:iN.toString()),null}}async function or(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(iN){throw iN instanceof He&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(iN)&&e.auth.currentUser===e&&await e.auth.signOut(),iN}}class ar{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(iN){return void("auth/network-request-failed"===(null===iN||void 0===iN?void 0:iN.code)&&this.schedule(!0))}this.schedule()}}class lr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rr(this.lastLoginAt),this.creationTime=rr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await or(e,async function(e,t){return Xn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Fn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=In(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lr(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class ur{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fn(e.idToken,"internal-error"),Fn("undefined"!==typeof e.idToken,"internal-error"),Fn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=sr(e);return Fn(t,"internal-error"),Fn("undefined"!==typeof t.exp,"internal-error"),Fn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Fn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Jn(e,{},async()=>{const n=Xe({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=er(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Kn.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ur;return n&&(Fn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Fn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Fn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ur,this.toJSON())}_performRefresh(){return Vn("not implemented")}}function dr(e,t){Fn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class hr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=In(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new lr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await or(this,this.stsTokenManager.getToken(this.auth,e));return Fn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=nt(e),r=await n.getIdToken(t),i=sr(r);Fn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rr(ir(i.auth_time)),issuedAtTime:rr(ir(i.iat)),expirationTime:rr(ir(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=nt(e);await cr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Fn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await or(this,async function(e,t){return Xn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:k}=t;Fn(v&&k,e,"internal-error");const E=ur.fromJSON(this.name,k);Fn("string"===typeof v,e,"internal-error"),dr(u,e.name),dr(d,e.name),Fn("boolean"===typeof b,e,"internal-error"),Fn("boolean"===typeof w,e,"internal-error"),dr(h,e.name),dr(f,e.name),dr(p,e.name),dr(m,e.name),dr(g,e.name),dr(y,e.name);const S=new hr({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ur;r.updateFromServerResponse(t);const i=new hr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cr(i),i}}const fr=new Map;function pr(e){Un(e instanceof Function,"Expected a class definition");let t=fr.get(e);return t?(Un(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fr.set(e,t),t)}class mr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mr.type="NONE";const gr=mr;function yr(e,t,n){return`firebase:${e}:${t}:${n}`}class vr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yr(this.userKey,r.apiKey,i),this.fullPersistenceKey=yr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new vr(pr(gr),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||pr(gr);const s=yr(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=hr._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new vr(i,e,n)):new vr(i,e,n)}}function br(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Er(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Tr(t))return"Blackberry";if(Cr(t))return"Webos";if(xr(t))return"Safari";if((t.includes("chrome/")||kr(t))&&!t.includes("edge/"))return"Chrome";if(Sr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/firefox\//i.test(e)}function xr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/crios\//i.test(e)}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/iemobile/i.test(e)}function Sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/android/i.test(e)}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/blackberry/i.test(e)}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/webos/i.test(e)}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ir(){return function(){const e=$e();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return _r(e)||Sr(e)||Cr(e)||Tr(e)||/windows phone/i.test(e)||Er(e)}function Ar(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=br($e());break;case"Worker":t=`${br($e())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${pn}/${r}`}async function Pr(e,t){return Xn(e,"GET","/v2/recaptchaConfig",Yn(e,t))}function Dr(e){return void 0!==e&&void 0!==e.enterprise}class Rr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Lr(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Mn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Mr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Or{constructor(e){this.type="recaptcha-enterprise",this.auth=Ur(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Dr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Pr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Rr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Dr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Lr("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function jr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Or(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Fr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(iN){r(iN)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(iN){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===iN||void 0===iN?void 0:iN.message})}}}class Vr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Br(this),this.idTokenSubscription=new Br(this),this.beforeStateQueue=new Fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pr(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await vr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(iN){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(iN){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(iN))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(iN){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cr(e)}catch(iN){if("auth/network-request-failed"!==(null===iN||void 0===iN?void 0:iN.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?nt(e):null;return t&&Fn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Fn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}async initializeRecaptchaConfig(){const e=await Pr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Rr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Or(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ke("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pr(e)||this._popupRedirectResolver;Fn(t,this,"argument-error"),this.redirectPersistenceManager=await vr.create(this,[pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Fn(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Dn.logLevel<=lt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dn.warn(`Auth (${pn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ur(e){return nt(e)}class Br{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new et(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Fn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zr(e,t,n){const r=Ur(e);Fn(r._canInitEmulator,r,"emulator-config-failed"),Fn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=$r(t),{host:o,port:a}=function(e){const t=$r(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:qr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:qr(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function $r(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Wr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,t){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}}async function Hr(e,t){return Xn(e,"POST","/v1/accounts:update",t)}async function Kr(e,t){return Zn(e,"POST","/v1/accounts:signInWithPassword",Yn(e,t))}class Gr extends Wr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Gr(e,t,"password")}static _fromEmailAndCode(e,t){return new Gr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await jr(e,n,"signInWithPassword");return Kr(e,t)}return Kr(e,n).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await jr(e,n,"signInWithPassword");return Kr(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithEmailLink",Yn(e,t))}(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Hr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithEmailLink",Yn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qr(e,t){return Zn(e,"POST","/v1/accounts:signInWithIdp",Yn(e,t))}class Yr extends Wr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ln("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=In(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Yr(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Qr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xe(t)}return e}}const Xr={USER_NOT_FOUND:"user-not-found"};class Jr extends Wr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Jr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Jr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Yn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Yn(e,t));if(n.temporaryProof)throw nr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Yn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Xr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Jr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Zr{constructor(e){var t,n,r,i,s,o;const a=Je(Ze(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Fn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Je(Ze(e)).link,n=t?Je(Ze(t)).deep_link_id:null,r=Je(Ze(e)).deep_link_id;return(r?Je(Ze(r)).link:null)||r||n||t||e}(e);try{return new Zr(t)}catch(n){return null}}}class ei{constructor(){this.providerId=ei.PROVIDER_ID}static credential(e,t){return Gr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Zr.parseLink(t);return Fn(n,"argument-error"),Gr._fromEmailAndCode(e,n.code,n.tenantId)}}ei.PROVIDER_ID="password",ei.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ei.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ti{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ni extends ti{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ri extends ni{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ri.credential(t.oauthAccessToken)}catch(n){return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com",ri.PROVIDER_ID="facebook.com";class ii extends ni{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yr._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ii.credential(n,r)}catch(i){return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com",ii.PROVIDER_ID="google.com";class si extends ni{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return si.credential(t.oauthAccessToken)}catch(n){return null}}}si.GITHUB_SIGN_IN_METHOD="github.com",si.PROVIDER_ID="github.com";class oi extends ni{constructor(){super("twitter.com")}static credential(e,t){return Yr._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return oi.credential(n,r)}catch(i){return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com",oi.PROVIDER_ID="twitter.com";class ai{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await hr._fromIdTokenResponse(e,n,r),s=li(n);return new ai({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=li(n);return new ai({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function li(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ci extends He{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ci.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ci(e,t,n,r)}}function ui(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw ci._fromErrorAndOperation(e,n,t,r);throw n})}async function di(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await or(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ai._forOperation(e,"link",r)}async function hi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await or(e,ui(r,i,t,e),n);Fn(s.idToken,r,"internal-error");const o=sr(s.idToken);Fn(o,r,"internal-error");const{sub:a}=o;return Fn(e.uid===a,r,"user-mismatch"),ai._forOperation(e,i,s)}catch(iN){throw"auth/user-not-found"===(null===iN||void 0===iN?void 0:iN.code)&&Ln(r,"user-mismatch"),iN}}async function fi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await ui(e,r,t),s=await ai._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function pi(e,t){return fi(Ur(e),t)}new WeakMap;const mi="__sak";class gi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mi,"1"),this.storage.removeItem(mi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class yi extends gi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=$e();return xr(e)||_r(e)}()&&function(){try{return!(!window||window===window.top)}catch(iN){return!1}}(),this.fallbackToPolling=Nr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ir()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yi.type="LOCAL";const vi=yi;class bi extends gi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bi.type="SESSION";const wi=bi;class xi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new xi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xi.receivers=[];class Ei{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=ki("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Si(){return window}function Ti(){return"undefined"!==typeof Si().WorkerGlobalScope&&"function"===typeof Si().importScripts}const Ci="firebaseLocalStorageDb",_i="firebaseLocalStorage",Ii="fbase_key";class Ni{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ai(e,t){return e.transaction([_i],t?"readwrite":"readonly").objectStore(_i)}function Pi(){const e=indexedDB.open(Ci,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(_i,{keyPath:Ii})}catch(iN){n(iN)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(_i)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ci);return new Ni(e).toPromise()}(),t(await Pi()))})})}async function Di(e,t,n){const r=Ai(e,!0).put({[Ii]:t,value:n});return new Ni(r).toPromise()}function Ri(e,t){const n=Ai(e,!0).delete(t);return new Ni(n).toPromise()}class Li{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Pi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(iN){if(t++>3)throw iN;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ti()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xi._getInstance(Ti()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ei(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pi();return await Di(e,mi,"1"),await Ri(e,mi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Di(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ai(e,!1).get(t),r=await new Ni(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ri(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ai(e,!1).getAll();return new Ni(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Li.type="LOCAL";const Mi=Li;Mr("rcb"),new Wn(3e4,6e4);const Oi="recaptcha";async function ji(e,t,n){var r;const i=await n.verify();try{let s;if(Fn("string"===typeof i,e,"argument-error"),Fn(n.type===Oi,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Fn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Xn(e,"POST","/v2/accounts/mfaEnrollment:start",Yn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Fn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Fn(n,e,"missing-multi-factor-info");const o=await function(e,t){return Xn(e,"POST","/v2/accounts/mfaSignIn:start",Yn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Xn(e,"POST","/v1/accounts:sendVerificationCode",Yn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Fi{constructor(e){this.providerId=Fi.PROVIDER_ID,this.auth=Ur(e)}verifyPhoneNumber(e,t){return ji(this.auth,e,nt(t))}static credential(e,t){return Jr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Fi.credentialFromTaggedObject(t)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Jr._fromTokenResponse(n,r):null}}function Vi(e,t){return t?pr(t):(Fn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Fi.PROVIDER_ID="phone",Fi.PHONE_SIGN_IN_METHOD="phone";class Ui extends Wr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bi(e){return fi(e.auth,new Ui(e),e.bypassAuthState)}function zi(e){const{auth:t,user:n}=e;return Fn(n,t,"internal-error"),hi(n,new Ui(e),e.bypassAuthState)}async function $i(e){const{auth:t,user:n}=e;return Fn(n,t,"internal-error"),di(n,new Ui(e),e.bypassAuthState)}class qi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(iN){this.reject(iN)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(iN){this.reject(iN)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bi;case"linkViaPopup":case"linkViaRedirect":return $i;case"reauthViaPopup":case"reauthViaRedirect":return zi;default:Ln(this.auth,"internal-error")}}resolve(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wi=new Wn(2e3,1e4);class Hi extends qi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fn(e,this.auth,"internal-error"),e}async onExecution(){Un(1===this.filter.length,"Popup operations only handle one event");const e=ki();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Wi.get())};e()}}Hi.currentPopupAction=null;const Ki=new Map;class Gi extends qi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ki.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Xi(t),r=Yi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(iN){e=()=>Promise.reject(iN)}Ki.set(this.auth._key(),e)}return this.bypassAuthState||Ki.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Qi(e,t){Ki.set(e._key(),t)}function Yi(e){return pr(e._redirectPersistence)}function Xi(e){return yr("pendingRedirect",e.config.apiKey,e.name)}async function Ji(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Ur(e),i=Vi(r,t),s=new Gi(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Zi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ts(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ts(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Mn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(es(e))}saveEventToCache(e){this.cachedEventUids.add(es(e)),this.lastProcessedEventTime=Date.now()}}function es(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ts(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const ns=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rs=/^https?/;async function is(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Xn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ss(r))return}catch(n){}Ln(e,"unauthorized-domain")}function ss(e){const t=Bn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!rs.test(n))return!1;if(ns.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const os=new Wn(3e4,6e4);function as(){const e=Si().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ls=null;function cs(e){return ls=ls||function(e){return new Promise((t,n)=>{var r,i,s;function o(){as(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{as(),n(Mn(e,"network-request-failed"))},timeout:os.get()})}if(null===(i=null===(r=Si().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Si().gapi)||void 0===s?void 0:s.load)){const t=Mr("iframefcb");return Si()[t]=()=>{gapi.load?o():n(Mn(e,"network-request-failed"))},Lr(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw ls=null,e})}(e),ls}const us=new Wn(5e3,15e3),ds={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fs(e){const t=e.config;Fn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Hn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:pn},i=hs.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xe(r).slice(1)}`}const ps={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ms{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(iN){}}}function gs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ps),{width:r.toString(),height:i.toString(),top:s,left:o}),c=$e().toLowerCase();n&&(a=kr(c)?"_blank":n),wr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return _r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ms(null);const d=window.open(t||"",a,u);Fn(d,e,"popup-blocked");try{d.focus()}catch(iN){}return new ms(d)}const ys="__/auth/handler",vs="emulator/auth/handler",bs=encodeURIComponent("fac");async function ws(e,t,n,r,i,s){Fn(e.config.authDomain,e,"auth-domain-config-required"),Fn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pn,eventId:i};if(t instanceof ti){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ni){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${bs}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ys}`;return Hn(t,vs)}(e)}?${Xe(a).slice(1)}${c}`}const xs="webStorageSupport";const ks=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wi,this._completeRedirectFn=Ji,this._overrideRedirectResult=Qi}async _openPopup(e,t,n,r){var i;Un(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return gs(e,await ws(e,t,n,Bn(),r),ki())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Si().location.href=e}(await ws(e,t,n,Bn(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Un(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await cs(e),n=Si().gapi;return Fn(n,e,"internal-error"),t.open({where:document.body,url:fs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ds,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Mn(e,"network-request-failed"),s=Si().setTimeout(()=>{r(i)},us.get());function o(){Si().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new Zi(e);return t.register("authEvent",t=>{Fn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xs,{type:xs},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xs];void 0!==i&&t(!!i),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=is(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nr()||xr()||_r()}};var Es="@firebase/auth",Ss="0.23.2";class Ts{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Cs=Be("authIdTokenMaxAge")||300;let _s=null;var Is;Is="Browser",un(new rt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Fn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Is,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ar(Is)},c=new Vr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),un(new rt("auth-internal",e=>(e=>new Ts(e))(Ur(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),yn(Es,Ss,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Is)),yn(Es,Ss,"esm2017");var Ns=e=>"checkbox"===e.type,As=e=>e instanceof Date,Ps=e=>null==e;const Ds=e=>"object"===typeof e;var Rs=e=>!Ps(e)&&!Array.isArray(e)&&Ds(e)&&!As(e),Ls=e=>Rs(e)&&e.target?Ns(e.target)?e.target.checked:e.target.value:e,Ms=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Os="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function js(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Os&&(e instanceof Blob||r)||!n&&!Rs(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return Rs(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=js(e[n]));else t=e}return t}var Fs=e=>/^\w*$/.test(e),Vs=e=>void 0===e,Us=e=>Array.isArray(e)?e.filter(Boolean):[],Bs=e=>Us(e.replace(/["|']|\]/g,"").split(/\.|\[/)),zs=(e,t,n)=>{if(!t||!Rs(e))return n;const r=(Fs(t)?[t]:Bs(t)).reduce((e,t)=>Ps(e)?e:e[t],e);return Vs(r)||r===e?Vs(e[t])?n:e[t]:r},$s=e=>"boolean"===typeof e,qs=(e,t,n)=>{let r=-1;const i=Fs(t)?[t]:Bs(t),s=i.length,o=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==o){const n=e[t];s=Rs(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const Ws="blur",Hs="focusout",Ks="onBlur",Gs="onChange",Qs="onSubmit",Ys="onTouched",Xs="all",Js="max",Zs="min",eo="maxLength",to="minLength",no="pattern",ro="required",io="validate",so=i.createContext(null);so.displayName="HookFormContext";var oo=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==Xs&&(t._proxyFormState[i]=!r||Xs),n&&(n[i]=!0),e[i]}});return i};const ao="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var lo=e=>"string"===typeof e,co=(e,t,n,r,i)=>lo(e)?(r&&t.watch.add(e),zs(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),zs(n,e))):(r&&(t.watchAll=!0),n),uo=e=>Ps(e)||!Ds(e);function ho(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(uo(e)||uo(t))return e===t;if(As(e)&&As(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const r=e[s];if(!i.includes(s))return!1;if("ref"!==s){const e=t[s];if(As(r)&&As(e)||Rs(r)&&Rs(e)||Array.isArray(r)&&Array.isArray(e)?!ho(r,e,n):r!==e)return!1}}return!0}var fo=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},po=e=>Array.isArray(e)?e:[e],mo=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},go=e=>Rs(e)&&!Object.keys(e).length,yo=e=>"file"===e.type,vo=e=>"function"===typeof e,bo=e=>{if(!Os)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},wo=e=>"select-multiple"===e.type,xo=e=>"radio"===e.type,ko=e=>bo(e)&&e.isConnected;function Eo(e,t){const n=Array.isArray(t)?t:Fs(t)?[t]:Bs(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Vs(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(Rs(r)&&go(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vs(e[t]))return!1;return!0}(r))&&Eo(e,n.slice(0,-1)),e}var So=e=>{for(const t in e)if(vo(e[t]))return!0;return!1};function To(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(Rs(e)||n)for(const r in e)Array.isArray(e[r])||Rs(e[r])&&!So(e[r])?(t[r]=Array.isArray(e[r])?[]:{},To(e[r],t[r])):Ps(e[r])||(t[r]=!0);return t}function Co(e,t,n){const r=Array.isArray(e);if(Rs(e)||r)for(const i in e)Array.isArray(e[i])||Rs(e[i])&&!So(e[i])?Vs(t)||uo(n[i])?n[i]=Array.isArray(e[i])?To(e[i],[]):{...To(e[i])}:Co(e[i],Ps(t)?{}:t[i],n[i]):n[i]=!ho(e[i],t[i]);return n}var _o=(e,t)=>Co(e,t,To(t));const Io={value:!1,isValid:!1},No={value:!0,isValid:!0};var Ao=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vs(e[0].attributes.value)?Vs(e[0].value)||""===e[0].value?No:{value:e[0].value,isValid:!0}:No:Io}return Io},Po=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return Vs(e)?e:n?""===e?NaN:e?+e:e:r&&lo(e)?new Date(e):i?i(e):e};const Do={isValid:!1,value:null};var Ro=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Do):Do;function Lo(e){const t=e.ref;return yo(t)?t.files:xo(t)?Ro(e.refs).value:wo(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):Ns(t)?Ao(e.refs).value:Po(Vs(t.value)?e.ref.value:t.value,e)}var Mo=e=>e instanceof RegExp,Oo=e=>Vs(e)?e:Mo(e)?e.source:Rs(e)?Mo(e.value)?e.value.source:e.value:e,jo=e=>({isOnSubmit:!e||e===Qs,isOnBlur:e===Ks,isOnChange:e===Gs,isOnAll:e===Xs,isOnTouch:e===Ys});const Fo="AsyncFunction";var Vo=e=>!!e&&!!e.validate&&!!(vo(e.validate)&&e.validate.constructor.name===Fo||Rs(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Fo)),Uo=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Bo=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=zs(e,i);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Bo(s,t))break}else if(Rs(s)&&Bo(s,t))break}}};function zo(e,t,n){const r=zs(e,n);if(r||Fs(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=zs(t,r),o=zs(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:`${r}.root`,error:o.root};i.pop()}return{name:n}}var $o=(e,t,n)=>{const r=po(zs(e,n));return qs(r,"root",t[n]),qs(e,n,r),e},qo=e=>lo(e);function Wo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(qo(e)||Array.isArray(e)&&e.every(qo)||$s(e)&&!e)return{type:n,message:qo(e)?e:"",ref:t}}var Ho=e=>Rs(e)&&!Mo(e)?e:{value:e,message:""},Ko=async(e,t,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:m,valueAsNumber:g,mount:y}=e._f,v=zs(n,m);if(!y||t.has(m))return{};const b=a?a[0]:o,w=e=>{i&&b.reportValidity&&(b.setCustomValidity($s(e)?"":e||""),b.reportValidity())},x={},k=xo(o),E=Ns(o),S=k||E,T=(g||yo(o))&&Vs(o.value)&&Vs(v)||bo(o)&&""===o.value||""===v||Array.isArray(v)&&!v.length,C=fo.bind(null,m,r,x),_=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:eo,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:to;const s=e?t:n;x[m]={type:e?r:i,message:s,ref:o,...C(e?r:i,s)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(T||Ps(v))||$s(v)&&!v||E&&!Ao(a).isValid||k&&!Ro(a).isValid)){const{value:e,message:t}=qo(l)?{value:!!l,message:l}:Ho(l);if(e&&(x[m]={type:ro,message:t,ref:b,...C(ro,t)},!r))return w(t),x}if(!T&&(!Ps(d)||!Ps(h))){let e,t;const n=Ho(h),i=Ho(d);if(Ps(v)||isNaN(v)){const r=o.valueAsDate||new Date(v),s=e=>new Date((new Date).toDateString()+" "+e),a="time"==o.type,l="week"==o.type;lo(n.value)&&v&&(e=a?s(v)>s(n.value):l?v>n.value:r>new Date(n.value)),lo(i.value)&&v&&(t=a?s(v)<s(i.value):l?v<i.value:r<new Date(i.value))}else{const r=o.valueAsNumber||(v?+v:v);Ps(n.value)||(e=r>n.value),Ps(i.value)||(t=r<i.value)}if((e||t)&&(_(!!e,n.message,i.message,Js,Zs),!r))return w(x[m].message),x}if((c||u)&&!T&&(lo(v)||s&&Array.isArray(v))){const e=Ho(c),t=Ho(u),n=!Ps(e.value)&&v.length>+e.value,i=!Ps(t.value)&&v.length<+t.value;if((n||i)&&(_(n,e.message,t.message),!r))return w(x[m].message),x}if(f&&!T&&lo(v)){const{value:e,message:t}=Ho(f);if(Mo(e)&&!v.match(e)&&(x[m]={type:no,message:t,ref:o,...C(no,t)},!r))return w(t),x}if(p)if(vo(p)){const e=Wo(await p(v,n),b);if(e&&(x[m]={...e,...C(io,e.message)},!r))return w(e.message),x}else if(Rs(p)){let e={};for(const t in p){if(!go(e)&&!r)break;const i=Wo(await p[t](v,n),b,t);i&&(e={...i,...C(t,i.message)},w(i.message),r&&(x[m]=e))}if(!go(e)&&(x[m]={ref:b,...e},!r))return x}return w(!0),x};const Go={mode:Qs,reValidateMode:Gs,shouldFocusError:!0};function Qo(){let e,t={...Go,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:vo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=(Rs(t.defaultValues)||Rs(t.values))&&js(t.defaultValues||t.values)||{},s=t.shouldUnregister?{}:js(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...c};const d={array:mo(),state:mo()},h=t.criteriaMode===Xs,f=async e=>{if(!t.disabled&&(c.isValid||u.isValid||e)){const e=t.resolver?go((await v()).errors):await b(r,!0);e!==n.isValid&&d.state.next({isValid:e})}},p=(e,r)=>{!t.disabled&&(c.isValidating||c.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(a.mount)).forEach(e=>{e&&(r?qs(n.validatingFields,e,r):Eo(n.validatingFields,e))}),d.state.next({validatingFields:n.validatingFields,isValidating:!go(n.validatingFields)}))},m=(e,t,n,a)=>{const l=zs(r,e);if(l){const r=zs(s,e,Vs(n)?zs(i,e):n);Vs(r)||a&&a.defaultChecked||t?qs(s,e,t?r:Lo(l._f)):k(e,r),o.mount&&f()}},g=(e,r,s,o,a)=>{let l=!1,h=!1;const f={name:e};if(!t.disabled){if(!s||o){(c.isDirty||u.isDirty)&&(h=n.isDirty,n.isDirty=f.isDirty=w(),l=h!==f.isDirty);const t=ho(zs(i,e),r);h=!!zs(n.dirtyFields,e),t?Eo(n.dirtyFields,e):qs(n.dirtyFields,e,!0),f.dirtyFields=n.dirtyFields,l=l||(c.dirtyFields||u.dirtyFields)&&h!==!t}if(s){const t=zs(n.touchedFields,e);t||(qs(n.touchedFields,e,s),f.touchedFields=n.touchedFields,l=l||(c.touchedFields||u.touchedFields)&&t!==s)}l&&a&&d.state.next(f)}return l?f:{}},y=(r,i,s,o)=>{const a=zs(n.errors,r),h=(c.isValid||u.isValid)&&$s(i)&&n.isValid!==i;if(t.delayError&&s?(e=(e=>t=>{clearTimeout(l),l=setTimeout(e,t)})(()=>((e,t)=>{qs(n.errors,e,t),d.state.next({errors:n.errors})})(r,s)),e(t.delayError)):(clearTimeout(l),e=null,s?qs(n.errors,r,s):Eo(n.errors,r)),(s?!ho(a,s):a)||!go(o)||h){const e={...o,...h&&$s(i)?{isValid:i}:{},errors:n.errors,name:r};n={...n,...e},d.state.next(e)}},v=async e=>{p(e,!0);const n=await t.resolver(s,t.context,((e,t,n,r)=>{const i={};for(const s of e){const e=zs(t,s);e&&qs(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return p(e),n},b=async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const o in e){const l=e[o];if(l){const{_f:e,...u}=l;if(e){const u=a.array.has(e.name),d=l._f&&Vo(l._f);d&&c.validatingFields&&p([o],!0);const f=await Ko(l,a.disabled,s,h,t.shouldUseNativeValidation&&!r,u);if(d&&c.validatingFields&&p([o]),f[e.name]&&(i.valid=!1,r))break;!r&&(zs(f,e.name)?u?$o(n.errors,f,e.name):qs(n.errors,e.name,f[e.name]):Eo(n.errors,e.name))}!go(u)&&await b(u,r,i)}}return i.valid},w=(e,n)=>!t.disabled&&(e&&n&&qs(s,e,n),!ho(I(),i)),x=(e,t,n)=>co(e,a,{...o.mount?s:Vs(t)?i:lo(e)?{[e]:t}:t},n,t),k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=zs(r,e);let o=t;if(i){const n=i._f;n&&(!n.disabled&&qs(s,e,Po(t,n)),o=bo(n.ref)&&Ps(t)?"":t,wo(n.ref)?[...n.ref.options].forEach(e=>e.selected=o.includes(e.value)):n.refs?Ns(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):n.refs.forEach(e=>e.checked=e.value===o):yo(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||d.state.next({name:e,values:js(s)})))}(n.shouldDirty||n.shouldTouch)&&g(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&_(e)},E=(e,t,n)=>{for(const i in t){if(!t.hasOwnProperty(i))return;const s=t[i],o=e+"."+i,l=zs(r,o);(a.array.has(e)||Rs(s)||l&&!l._f)&&!As(s)?E(o,s,n):k(o,s,n)}},S=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const h=zs(r,e),f=a.array.has(e),p=js(t);qs(s,e,p),f?(d.array.next({name:e,values:js(s)}),(c.isDirty||c.dirtyFields||u.isDirty||u.dirtyFields)&&l.shouldDirty&&d.state.next({name:e,dirtyFields:_o(i,s),isDirty:w(e,p)})):!h||h._f||Ps(p)?k(e,p,l):E(e,p,l),Uo(e,a)&&d.state.next({...n,name:e}),d.state.next({name:o.mount?e:void 0,values:js(s)})},T=async i=>{o.mount=!0;const l=i.target;let m=l.name,w=!0;const x=zs(r,m),k=e=>{w=Number.isNaN(e)||As(e)&&isNaN(e.getTime())||ho(e,zs(s,m,e))},E=jo(t.mode),S=jo(t.reValidateMode);if(x){let o,C;const I=l.type?Lo(x._f):Ls(i),N=i.type===Ws||i.type===Hs,A=!((T=x._f).mount&&(T.required||T.min||T.max||T.maxLength||T.minLength||T.pattern||T.validate))&&!t.resolver&&!zs(n.errors,m)&&!x._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(N,zs(n.touchedFields,m),n.isSubmitted,S,E),P=Uo(m,a,N);qs(s,m,I),N?l&&l.readOnly||(x._f.onBlur&&x._f.onBlur(i),e&&e(0)):x._f.onChange&&x._f.onChange(i);const D=g(m,I,N),R=!go(D)||P;if(!N&&d.state.next({name:m,type:i.type,values:js(s)}),A)return(c.isValid||u.isValid)&&("onBlur"===t.mode?N&&f():N||f()),R&&d.state.next({name:m,...P?{}:D});if(!N&&P&&d.state.next({...n}),t.resolver){const{errors:e}=await v([m]);if(k(I),w){const t=zo(n.errors,r,m),i=zo(e,r,t.name||m);o=i.error,m=i.name,C=go(e)}}else p([m],!0),o=(await Ko(x,a.disabled,s,h,t.shouldUseNativeValidation))[m],p([m]),k(I),w&&(o?C=!1:(c.isValid||u.isValid)&&(C=await b(r,!0)));w&&(x._f.deps&&_(x._f.deps),y(m,C,o,D))}var T},C=(e,t)=>{if(zs(n.errors,t)&&e.focus)return e.focus(),1},_=async function(e){let i,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=po(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await v(e);if(e)for(const r of e){const e=zs(t,r);e?qs(n.errors,r,e):Eo(n.errors,r)}else n.errors=t;return t})(Vs(e)?e:l);i=go(t),s=e?!l.some(e=>zs(t,e)):i}else e?(s=(await Promise.all(l.map(async e=>{const t=zs(r,e);return await b(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||n.isValid)&&f()):s=i=await b(r);return d.state.next({...!lo(e)||(c.isValid||u.isValid)&&i!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:i}:{},errors:n.errors}),o.shouldFocus&&!s&&Bo(r,C,e?l:a.mount),s},I=e=>{const t={...o.mount?s:i};return Vs(e)?t:lo(e)?zs(t,e):e.map(e=>zs(t,e))},N=(e,t)=>({invalid:!!zs((t||n).errors,e),isDirty:!!zs((t||n).dirtyFields,e),error:zs((t||n).errors,e),isValidating:!!zs(n.validatingFields,e),isTouched:!!zs((t||n).touchedFields,e)}),A=(e,t,i)=>{const s=(zs(r,e,{_f:{}})._f||{}).ref,o=zs(n.errors,e)||{},{ref:a,message:l,type:c,...u}=o;qs(n.errors,e,{...u,...t,ref:s}),d.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&s&&s.focus&&s.focus()},P=e=>d.state.subscribe({next:t=>{var r,o,a;r=e.name,o=t.name,a=e.exact,r&&o&&r!==o&&!po(r).some(e=>e&&(a?e===o:e.startsWith(o)||o.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i,...s}=e;return go(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!r||Xs))})(t,e.formState||c,V,e.reRenderRoot)||e.callback({values:{...s},...n,...t,defaultValues:i})}}).unsubscribe,D=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?po(e):a.mount)a.mount.delete(l),a.array.delete(l),o.keepValue||(Eo(r,l),Eo(s,l)),!o.keepError&&Eo(n.errors,l),!o.keepDirty&&Eo(n.dirtyFields,l),!o.keepTouched&&Eo(n.touchedFields,l),!o.keepIsValidating&&Eo(n.validatingFields,l),!t.shouldUnregister&&!o.keepDefaultValue&&Eo(i,l);d.state.next({values:js(s)}),d.state.next({...n,...o.keepDirty?{isDirty:w()}:{}}),!o.keepIsValid&&f()},R=e=>{let{disabled:t,name:n}=e;($s(t)&&o.mount||t||a.disabled.has(n))&&(t?a.disabled.add(n):a.disabled.delete(n))},L=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=zs(r,e);const l=$s(n.disabled)||$s(t.disabled);return qs(r,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...n}}),a.mount.add(e),s?R({disabled:$s(n.disabled)?n.disabled:t.disabled,name:e}):m(e,!0,n.value),{...l?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:Oo(n.min),max:Oo(n.max),minLength:Oo(n.minLength),maxLength:Oo(n.maxLength),pattern:Oo(n.pattern)}:{},name:e,onChange:T,onBlur:T,ref:l=>{if(l){L(e,n),s=zs(r,e);const t=Vs(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,o=(e=>xo(e)||Ns(e))(t),a=s._f.refs||[];if(o?a.find(e=>e===t):t===s._f.ref)return;qs(r,e,{_f:{...s._f,...o?{refs:[...a.filter(ko),t,...Array.isArray(zs(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),m(e,!1,void 0,t)}else s=zs(r,e,{}),s._f&&(s._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!Ms(a.array,e)||!o.action)&&a.unMount.add(e)}}},M=()=>t.shouldFocusError&&Bo(r,C,a.mount),O=(e,i)=>async o=>{let l;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let c=js(s);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await v();n.errors=e,c=js(t)}else await b(r);if(a.disabled.size)for(const e of a.disabled)Eo(c,e);if(Eo(n.errors,"root"),go(n.errors)){d.state.next({errors:{}});try{await e(c,o)}catch(u){l=u}}else i&&await i({...n.errors},o),M(),setTimeout(M);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:go(n.errors)&&!l,submitCount:n.submitCount+1,errors:n.errors}),l)throw l},j=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=e?js(e):i,h=js(u),f=go(e),p=f?i:h;if(l.keepDefaultValues||(i=u),!l.keepValues){if(l.keepDirtyValues){const e=new Set([...a.mount,...Object.keys(_o(i,s))]);for(const t of Array.from(e))zs(n.dirtyFields,t)?qs(p,t,zs(s,t)):S(t,zs(p,t))}else{if(Os&&Vs(e))for(const e of a.mount){const t=zs(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(bo(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(l.keepFieldsRef)for(const e of a.mount)S(e,zs(p,e));else r={}}s=t.shouldUnregister?l.keepDefaultValues?js(i):{}:js(p),d.array.next({values:{...p}}),d.state.next({values:{...p}})}a={mount:l.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!l.keepIsValid||!!l.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:l.keepSubmitCount?n.submitCount:0,isDirty:!f&&(l.keepDirty?n.isDirty:!(!l.keepDefaultValues||ho(e,i))),isSubmitted:!!l.keepIsSubmitted&&n.isSubmitted,dirtyFields:f?{}:l.keepDirtyValues?l.keepDefaultValues&&s?_o(i,s):n.dirtyFields:l.keepDefaultValues&&e?_o(i,e):l.keepDirty?n.dirtyFields:{},touchedFields:l.keepTouched?n.touchedFields:{},errors:l.keepErrors?n.errors:{},isSubmitSuccessful:!!l.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1,defaultValues:i})},F=(e,t)=>j(vo(e)?e(s):e,t),V=e=>{n={...n,...e}},U={control:{register:L,unregister:D,getFieldState:N,handleSubmit:O,setError:A,_subscribe:P,_runSchema:v,_focusError:M,_getWatch:x,_getDirty:w,_setValid:f,_setFieldArray:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,h=arguments.length>3?arguments[3]:void 0,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(h&&l&&!t.disabled){if(o.action=!0,p&&Array.isArray(zs(r,e))){const t=l(zs(r,e),h.argA,h.argB);f&&qs(r,e,t)}if(p&&Array.isArray(zs(n.errors,e))){const t=l(zs(n.errors,e),h.argA,h.argB);f&&qs(n.errors,e,t),((e,t)=>{!Us(zs(e,t)).length&&Eo(e,t)})(n.errors,e)}if((c.touchedFields||u.touchedFields)&&p&&Array.isArray(zs(n.touchedFields,e))){const t=l(zs(n.touchedFields,e),h.argA,h.argB);f&&qs(n.touchedFields,e,t)}(c.dirtyFields||u.dirtyFields)&&(n.dirtyFields=_o(i,s)),d.state.next({name:e,isDirty:w(e,a),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else qs(s,e,a)},_setDisabledField:R,_setErrors:e=>{n.errors=e,d.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>Us(zs(o.mount?s:i,e,t.shouldUnregister?zs(i,e,[]):[])),_reset:j,_resetDefaultValues:()=>vo(t.defaultValues)&&t.defaultValues().then(e=>{F(e,t.resetOptions),d.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of a.unMount){const t=zs(r,e);t&&(t._f.refs?t._f.refs.every(e=>!ko(e)):!ko(t._f.ref))&&D(e)}a.unMount=new Set},_disableForm:e=>{$s(e)&&(d.state.next({disabled:e}),Bo(r,(t,n)=>{const i=zs(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},_subjects:d,_proxyFormState:c,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(e){o=e},get _defaultValues(){return i},get _names(){return a},set _names(e){a=e},get _formState(){return n},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:e=>(o.mount=!0,u={...u,...e.formState},P({...e,formState:u})),trigger:_,register:L,handleSubmit:O,watch:(e,t)=>vo(e)?d.state.subscribe({next:n=>"values"in n&&e(x(void 0,t),n)}):x(e,t,!0),setValue:S,getValues:I,reset:F,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zs(r,e)&&(Vs(t.defaultValue)?S(e,js(zs(i,e))):(S(e,t.defaultValue),qs(i,e,js(t.defaultValue))),t.keepTouched||Eo(n.touchedFields,e),t.keepDirty||(Eo(n.dirtyFields,e),n.isDirty=t.defaultValue?w(e,js(zs(i,e))):w()),t.keepError||(Eo(n.errors,e),c.isValid&&f()),d.state.next({...n}))},clearErrors:e=>{e&&po(e).forEach(e=>Eo(n.errors,e)),d.state.next({errors:e?n.errors:{}})},unregister:D,setError:A,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=zs(r,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&vo(e.select)&&e.select())}},getFieldState:N};return{...U,formControl:U}}function Yo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=i.useRef(void 0),n=i.useRef(void 0),[r,s]=i.useState({isDirty:!1,isValidating:!1,isLoading:vo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:vo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!vo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:n,...i}=Qo(e);t.current={...i,formState:r}}const o=t.current.control;return o._options=e,ao(()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),i.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),i.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),i.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),i.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),i.useEffect(()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==r.isDirty&&o._subjects.state.next({isDirty:e})}},[o,r.isDirty]),i.useEffect(()=>{e.values&&!ho(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=e.values,s(e=>({...e}))):o._resetDefaultValues()},[o,e.values]),i.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=oo(r,o),t.current}const Xo=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Jo=(0,i.createContext)({}),Zo=(0,i.createContext)(null),ea="undefined"!==typeof document,ta=ea?i.useLayoutEffect:i.useEffect,na=(0,i.createContext)({strict:!1}),ra=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ia="data-"+ra("framerAppearId");function sa(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function oa(e){return"string"===typeof e||Array.isArray(e)}function aa(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const la=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ca=["initial",...la];function ua(e){return aa(e.animate)||ca.some(t=>oa(e[t]))}function da(e){return Boolean(ua(e)||e.variants)}function ha(e){const{initial:t,animate:n}=function(e,t){if(ua(e)){const{initial:t,animate:n}=e;return{initial:!1===t||oa(t)?t:void 0,animate:oa(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Jo));return(0,i.useMemo)(()=>({initial:t,animate:n}),[fa(t),fa(n)])}function fa(e){return Array.isArray(e)?e.join(" "):e}const pa={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ma={};for(const oN in pa)ma[oN]={isEnabled:e=>pa[oN].some(t=>!!e[t])};const ga=(0,i.createContext)({}),ya=(0,i.createContext)({}),va=Symbol.for("motionComponentSymbol");function ba(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:o}=e;t&&function(e){for(const t in e)ma[t]={...ma[t],...e[t]}}(t);const a=(0,i.forwardRef)(function(e,a){let l;const c={...(0,i.useContext)(Xo),...e,layoutId:wa(e)},{isStatic:u}=c,d=ha(e),h=s(e,u);if(!u&&ea){d.visualElement=function(e,t,n,r){const{visualElement:s}=(0,i.useContext)(Jo),o=(0,i.useContext)(na),a=(0,i.useContext)(Zo),l=(0,i.useContext)(Xo).reducedMotion,c=(0,i.useRef)();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const u=c.current;(0,i.useInsertionEffect)(()=>{u&&u.update(n,a)});const d=(0,i.useRef)(Boolean(n[ia]&&!window.HandoffComplete));return ta(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,i.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(o,h,c,n);const e=(0,i.useContext)(ya),r=(0,i.useContext)(na).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,r,t,e))}return i.createElement(Jo.Provider,{value:d},l&&d.visualElement?i.createElement(l,{visualElement:d.visualElement,...c}):null,r(o,e,function(e,t,n){return(0,i.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):sa(n)&&(n.current=r))},[t])}(h,d.visualElement,a),h,u,d.visualElement))});return a[va]=o,a}function wa(e){let{layoutId:t}=e;const n=(0,i.useContext)(ga).id;return n&&void 0!==t?n+"-"+t:t}function xa(e){function t(t){return ba(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const ka=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ea(e){return"string"===typeof e&&!e.includes("-")&&!!(ka.indexOf(e)>-1||/[A-Z]/.test(e))}const Sa={};const Ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ca=new Set(Ta);function _a(e,t){let{layout:n,layoutId:r}=t;return Ca.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Sa[e]||"opacity"===e)}const Ia=e=>Boolean(e&&e.getVelocity),Na={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Aa=Ta.length;const Pa=e=>t=>"string"===typeof t&&t.startsWith(e),Da=Pa("--"),Ra=Pa("var(--"),La=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Ma=(e,t,n)=>Math.min(Math.max(n,e),t),Oa={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},ja={...Oa,transform:e=>Ma(0,1,e)},Fa={...Oa,default:1},Va=e=>Math.round(1e5*e)/1e5,Ua=/(-)?([\d]*\.?[\d])+/g,Ba=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,za=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $a(e){return"string"===typeof e}const qa=e=>({test:t=>$a(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Wa=qa("deg"),Ha=qa("%"),Ka=qa("px"),Ga=qa("vh"),Qa=qa("vw"),Ya={...Ha,parse:e=>Ha.parse(e)/100,transform:e=>Ha.transform(100*e)},Xa={...Oa,transform:Math.round},Ja={borderWidth:Ka,borderTopWidth:Ka,borderRightWidth:Ka,borderBottomWidth:Ka,borderLeftWidth:Ka,borderRadius:Ka,radius:Ka,borderTopLeftRadius:Ka,borderTopRightRadius:Ka,borderBottomRightRadius:Ka,borderBottomLeftRadius:Ka,width:Ka,maxWidth:Ka,height:Ka,maxHeight:Ka,size:Ka,top:Ka,right:Ka,bottom:Ka,left:Ka,padding:Ka,paddingTop:Ka,paddingRight:Ka,paddingBottom:Ka,paddingLeft:Ka,margin:Ka,marginTop:Ka,marginRight:Ka,marginBottom:Ka,marginLeft:Ka,rotate:Wa,rotateX:Wa,rotateY:Wa,rotateZ:Wa,scale:Fa,scaleX:Fa,scaleY:Fa,scaleZ:Fa,skew:Wa,skewX:Wa,skewY:Wa,distance:Ka,translateX:Ka,translateY:Ka,translateZ:Ka,x:Ka,y:Ka,z:Ka,perspective:Ka,transformPerspective:Ka,opacity:ja,originX:Ya,originY:Ya,originZ:Ka,zIndex:Xa,fillOpacity:ja,strokeOpacity:ja,numOctaves:Xa};function Za(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(Da(d)){s[d]=e;continue}const n=Ja[d],r=La(e,n);if(Ca.has(d)){if(l=!0,o[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,o="";for(let a=0;a<Aa;a++){const t=Ta[a];void 0!==e[t]&&(o+=`${Na[t]||t}(${e[t]}) `)}return i&&!e.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(e,n?"":o):s&&n&&(o="none"),o}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin=`${e} ${t} ${n}`}}const el=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tl(e,t,n){for(const r in t)Ia(t[r])||_a(r,n)||(e[r]=t[r])}function nl(e,t,n){const r={};return tl(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Za(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function rl(e,t,n){const r={},i=nl(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const il=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sl(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||il.has(e)}let ol=e=>!sl(e);try{(al=require("@emotion/is-prop-valid").default)&&(ol=e=>e.startsWith("on")?!sl(e):al(e))}catch(sN){}var al;function ll(e,t,n){return"string"===typeof e?e:Ka.transform(t+n*e)}const cl={offset:"stroke-dashoffset",array:"stroke-dasharray"},ul={offset:"strokeDashoffset",array:"strokeDasharray"};function dl(e,t,n,r,i){let{attrX:s,attrY:o,attrScale:a,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...f}=t;if(Za(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){return`${ll(t,e.x,e.width)} ${ll(n,e.y,e.height)}`}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(p.x=s),void 0!==o&&(p.y=o),void 0!==a&&(p.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?cl:ul;e[s.offset]=Ka.transform(-r);const o=Ka.transform(t),a=Ka.transform(n);e[s.array]=`${o} ${a}`}(p,u,d,h,!1)}const hl=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),fl=e=>"string"===typeof e&&"svg"===e.toLowerCase();function pl(e,t,n,r){const s=(0,i.useMemo)(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return dl(n,t,{enableHardwareAcceleration:!1},fl(r),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};tl(t,e.style,e),s.style={...t,...s.style}}return s}function ml(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,o)=>{let{latestValues:a}=s;const l=(Ea(t)?pl:rl)(n,a,o,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(ol(i)||!0===n&&sl(i)||!t&&!sl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u={...c,...l,ref:r},{children:d}=n,h=(0,i.useMemo)(()=>Ia(d)?d.get():d,[d]);return(0,i.createElement)(t,{...u,children:h})}}function gl(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const yl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vl(e,t,n,r){gl(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(yl.has(i)?i:ra(i),t.attrs[i])}function bl(e,t){const{style:n}=e,r={};for(const i in n)(Ia(n[i])||t.style&&Ia(t.style[i])||_a(i,e))&&(r[i]=n[i]);return r}function wl(e,t){const n=bl(e,t);for(const r in e)if(Ia(e[r])||Ia(t[r])){n[-1!==Ta.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function xl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function kl(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const El=e=>Array.isArray(e),Sl=e=>El(e)?e[e.length-1]||0:e;function Tl(e){const t=Ia(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Cl=e=>(t,n)=>{const r=(0,i.useContext)(Jo),s=(0,i.useContext)(Zo),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o}=e;const a={latestValues:_l(t,n,r,i),renderState:s()};return o&&(a.mount=e=>o(t,e,a)),a}(e,t,r,s);return n?o():kl(o)};function _l(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=Tl(s[h]);let{initial:o,animate:a}=e;const l=ua(e),c=da(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const d=u?a:o;if(d&&"boolean"!==typeof d&&!aa(d)){(Array.isArray(d)?d:[d]).forEach(t=>{const n=xl(e,t);if(!n)return;const{transitionEnd:r,transition:s,...o}=n;for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]})}return i}const Il=e=>e;class Nl{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Al=["prepare","read","update","preRender","render","postRender"];const{schedule:Pl,cancel:Dl,state:Rl,steps:Ll}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Al.reduce((e,t)=>(e[t]=function(e){let t=new Nl,n=new Nl,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,a=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),a.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),o.has(r)&&(a.schedule(r),e())}i=!1,s&&(s=!1,a.process(l))}}};return a}(()=>n=!0),e),{}),o=e=>s[e].process(i),a=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,Al.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=Al.reduce((t,o)=>{const l=s[o];return t[o]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(a)),l.schedule(t,s,o)},t},{});return{schedule:l,cancel:e=>Al.forEach(t=>s[t].cancel(e)),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Il,!0),Ml={useVisualState:Cl({scrapeMotionValuesFromProps:wl,createRenderState:hl,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Pl.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(iN){r.dimensions={x:0,y:0,width:0,height:0}}}),Pl.render(()=>{dl(r,i,{enableHardwareAcceleration:!1},fl(t.tagName),e.transformTemplate),vl(t,r)})}})},Ol={useVisualState:Cl({scrapeMotionValuesFromProps:bl,createRenderState:el})};function jl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Fl=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Vl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Ul(e,t,n,r){return jl(e,t,(e=>t=>Fl(t)&&e(t,Vl(t)))(n),r)}const Bl=(e,t)=>n=>t(e(n)),zl=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Bl)};function $l(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const ql=$l("dragHorizontal"),Wl=$l("dragVertical");function Hl(e){let t=!1;if("y"===e)t=Wl();else if("x"===e)t=ql();else{const e=ql(),n=Wl();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Kl(){const e=Hl(!0);return!e||(e(),!1)}class Gl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ql(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Ul(e.current,n,(n,i)=>{if("touch"===n.pointerType||Kl())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Pl.update(()=>s[r](n,i))},{passive:!e.getProps()[r]})}const Yl=(e,t)=>!!t&&(e===t||Yl(e,t.parentElement));function Xl(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Vl(n))}const Jl=new WeakMap,Zl=new WeakMap,ec=e=>{const t=Jl.get(e.target);t&&t(e)},tc=e=>{e.forEach(ec)};function nc(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;Zl.has(r)||Zl.set(r,{});const i=Zl.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(tc,{root:t,...n})),i[s]}(t);return Jl.set(e,n),r.observe(e),()=>{Jl.delete(e),r.unobserve(e)}}const rc={some:0,all:1};const ic={inView:{Feature:class extends Gl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:rc[r]};return nc(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Gl{constructor(){super(...arguments),this.removeStartListeners=Il,this.removeEndListeners=Il,this.removeAccessibleListeners=Il,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Ul(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();Pl.update(()=>{i||Yl(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=Ul(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=zl(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=jl(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=jl(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&Xl("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&Pl.update(()=>n(e,t))})}),Xl("down",(e,t)=>{this.startPress(e,t)})}),t=jl(this.node.current,"blur",()=>{this.isPressing&&Xl("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=zl(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Pl.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Kl()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Pl.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=Ul(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=jl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zl(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Gl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(iN){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zl(jl(this.node.current,"focus",()=>this.onFocus()),jl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Gl{mount(){this.unmount=zl(Ql(this.node,!0),Ql(this.node,!1))}unmount(){}}}};function sc(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function oc(e,t,n){const r=e.getProps();return xl(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let ac=Il,lc=Il;const cc=e=>1e3*e,uc=e=>e/1e3,dc=!1,hc=e=>Array.isArray(e)&&"number"===typeof e[0];function fc(e){return Boolean(!e||"string"===typeof e&&mc[e]||hc(e)||Array.isArray(e)&&e.every(fc))}const pc=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},mc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pc([0,.65,.55,1]),circOut:pc([.55,0,1,.45]),backIn:pc([.31,.01,.66,-.59]),backOut:pc([.33,1.53,.69,.99])};function gc(e){if(e)return hc(e)?pc(e):Array.isArray(e)?e.map(gc):mc[e]}const yc=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function vc(e,t,n,r){if(e===t&&n===r)return Il;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=yc(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:yc(i(e),t,r)}const bc=vc(.42,0,1,1),wc=vc(0,0,.58,1),xc=vc(.42,0,.58,1),kc=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ec=e=>t=>1-e(1-t),Sc=e=>1-Math.sin(Math.acos(e)),Tc=Ec(Sc),Cc=kc(Sc),_c=vc(.33,1.53,.69,.99),Ic=Ec(_c),Nc=kc(Ic),Ac={linear:Il,easeIn:bc,easeInOut:xc,easeOut:wc,circIn:Sc,circInOut:Cc,circOut:Tc,backIn:Ic,backInOut:Nc,backOut:_c,anticipate:e=>(e*=2)<1?.5*Ic(e):.5*(2-Math.pow(2,-10*(e-1)))},Pc=e=>{if(Array.isArray(e)){lc(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return vc(t,n,r,i)}return"string"===typeof e?(lc(void 0!==Ac[e],`Invalid easing type '${e}'`),Ac[e]):e},Dc=(e,t)=>n=>Boolean($a(n)&&za.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Rc=(e,t,n)=>r=>{if(!$a(r))return r;const[i,s,o,a]=r.match(Ua);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Lc={...Oa,transform:e=>Math.round((e=>Ma(0,255,e))(e))},Mc={test:Dc("rgb","red"),parse:Rc("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Lc.transform(t)+", "+Lc.transform(n)+", "+Lc.transform(r)+", "+Va(ja.transform(i))+")"}};const Oc={test:Dc("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Mc.transform},jc={test:Dc("hsl","hue"),parse:Rc("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Ha.transform(Va(n))+", "+Ha.transform(Va(r))+", "+Va(ja.transform(i))+")"}},Fc={test:e=>Mc.test(e)||Oc.test(e)||jc.test(e),parse:e=>Mc.test(e)?Mc.parse(e):jc.test(e)?jc.parse(e):Oc.parse(e),transform:e=>$a(e)?e:e.hasOwnProperty("red")?Mc.transform(e):jc.transform(e)},Vc=(e,t,n)=>-n*e+n*t+e;function Uc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Bc=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},zc=[Oc,Mc,jc];function $c(e){const t=(e=>zc.find(t=>t.test(e)))(e);lc(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`);let n=t.parse(e);return t===jc&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=Uc(i,e,t+1/3),o=Uc(i,e,t),a=Uc(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(n)),n}const qc=(e,t)=>{const n=$c(e),r=$c(t),i={...n};return e=>(i.red=Bc(n.red,r.red,e),i.green=Bc(n.green,r.green,e),i.blue=Bc(n.blue,r.blue,e),i.alpha=Vc(n.alpha,r.alpha,e),Mc.transform(i))};const Wc={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Il},Hc={regex:Ba,countKey:"Colors",token:"${c}",parse:Fc.parse},Kc={regex:Ua,countKey:"Numbers",token:"${n}",parse:Oa.parse};function Gc(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const o=e.tokenised.match(n);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...o.map(s)))}function Qc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Gc(n,Wc),Gc(n,Hc),Gc(n,Kc),n}function Yc(e){return Qc(e).values}function Xc(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Qc(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(Wc.token,e[i]):i<r+n?t.replace(Hc.token,Fc.transform(e[i])):t.replace(Kc.token,Va(e[i]));return t}}const Jc=e=>"number"===typeof e?0:e;const Zc={test:function(e){var t,n;return isNaN(e)&&$a(e)&&((null===(t=e.match(Ua))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ba))||void 0===n?void 0:n.length)||0)>0},parse:Yc,createTransformer:Xc,getAnimatableNone:function(e){const t=Yc(e);return Xc(e)(t.map(Jc))}},eu=(e,t)=>n=>`${n>0?t:e}`;function tu(e,t){return"number"===typeof e?n=>Vc(e,t,n):Fc.test(e)?qc(e,t):e.startsWith("var(")?eu(e,t):iu(e,t)}const nu=(e,t)=>{const n=[...e],r=n.length,i=e.map((e,n)=>tu(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},ru=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=tu(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},iu=(e,t)=>{const n=Zc.createTransformer(t),r=Qc(e),i=Qc(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?zl(nu(r.values,i.values),n):(ac(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),eu(e,t))},su=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},ou=(e,t)=>n=>Vc(e,t,n);function au(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?ou:"string"===typeof e?Fc.test(e)?qc:iu:Array.isArray(e)?nu:"object"===typeof e?ru:ou}(e[0]),s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Il:t;n=zl(e,n)}r.push(n)}return r}function lu(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(lc(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=au(t,r,i),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=su(e[n],e[n+1],t);return o[n](r)};return n?t=>l(Ma(e[0],e[s-1],t)):l}function cu(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=su(0,t,r);e.push(Vc(n,1,i))}}(t,e.length-1),t}function uu(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(Pc):Pc(i),o={done:!1,value:n[0]},a=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:cu(n),t),l=lu(a,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||xc).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}function du(e,t){return t?e*(1e3/t):0}function hu(e,t,n){const r=Math.max(t-5,0);return du(n-e(r),t-r)}const fu=.001;function pu(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:o=1}=e;ac(r<=cc(10),"Spring duration must be 10 seconds or less");let a=1-i;a=Ma(.05,1,a),r=Ma(.01,10,uc(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=gu(e,a),l=Math.exp(-n);return fu-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=gu(Math.pow(e,2),a);return(-t(e)+fu>0?-1:1)*((i-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<mu;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=cc(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const mu=12;function gu(e,t){return e*Math.sqrt(1-t*t)}const yu=["duration","bounce"],vu=["stiffness","damping","mass"];function bu(e,t){return t.some(t=>void 0!==e[t])}function wu(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const s=t[0],o=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!bu(e,vu)&&bu(e,yu)){const n=pu(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-uc(i.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=o-s,y=uc(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=gu(y,m);b=t=>{const n=Math.exp(-m*y*t);return o-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>o-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return o-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)a.done=e>=d;else{let i=p;0!==e&&(i=m<1?hu(b,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(o-t)<=n;a.done=s&&l}return a.value=a.done?o:t,a}}}function xu(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===a?g:a(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let x,k;const E=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(x=e,k=wu({keyframes:[f.value,p(f.value)],velocity:hu(b,e,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==x||(t=!0,w(e),E(e)),void 0!==x&&e>x?k.next(e-x):(!t&&w(e),f)}}}const ku=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Pl.update(t,!0),stop:()=>Dl(t),now:()=>Rl.isProcessing?Rl.timestamp:performance.now()}};function Eu(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const Su={decay:xu,inertia:xu,tween:uu,keyframes:uu,spring:wu};function Tu(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=ku,keyframes:o,type:a="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p,...m}=e,g=1,y=!1;const v=()=>{n=new Promise(e=>{t=e})};let b;v();const w=Su[a]||uu;let x;w!==uu&&"number"!==typeof o[0]&&(x=lu([0,100],o,{clamp:!1}),o=[0,100]);const k=w({...m,keyframes:o});let E;"mirror"===u&&(E=w({...m,keyframes:[...o].reverse(),velocity:-(m.velocity||0)}));let S="idle",T=null,C=null,_=null;null===k.calculatedDuration&&l&&(k.calculatedDuration=Eu(k));const{calculatedDuration:I}=k;let N=1/0,A=1/0;null!==I&&(N=I+c,A=N*(l+1)-c);let P=0;const D=e=>{if(null===C)return;g>0&&(C=Math.min(C,e)),g<0&&(C=Math.min(e-A/g,C)),P=null!==T?T:Math.round(e-C)*g;const t=P-i*(g>=0?1:-1),n=g>=0?t<0:t>A;P=Math.max(t,0),"finished"===S&&null===T&&(P=A);let r=P,s=k;if(l){const e=Math.min(P,A)/N;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/N)):"mirror"===u&&(s=E)),r=Ma(0,1,n)*N}const a=n?{done:!1,value:o[0]}:s.next(r);x&&(a.value=x(a.value));let{done:d}=a;n||null===I||(d=g>=0?P>=A:P<=0);const h=null===T&&("finished"===S||"running"===S&&d);return p&&p(a.value),h&&M(),a},R=()=>{b&&b.stop(),b=void 0},L=()=>{S="idle",R(),t(),v(),C=_=null},M=()=>{S="finished",f&&f(),R(),t()},O=()=>{if(y)return;b||(b=s(D));const e=b.now();d&&d(),null!==T?C=e-T:C&&"finished"!==S||(C=e),"finished"===S&&v(),_=C,T=null,S="running",b.start()};r&&O();const j={then:(e,t)=>n.then(e,t),get time(){return uc(P)},set time(e){e=cc(e),P=e,null===T&&b&&0!==g?C=b.now()-e/g:T=e},get duration(){const e=null===k.calculatedDuration?Eu(k):k.calculatedDuration;return uc(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,j.time=uc(P))},get state(){return S},play:O,pause:()=>{S="paused",T=P},stop:()=>{y=!0,"idle"!==S&&(S="idle",h&&h(),L())},cancel:()=>{null!==_&&D(_),L()},complete:()=>{S="finished"},sample:e=>(C=0,D(e))};return j}const Cu=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_u=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Iu(e,t,n){let{onUpdate:r,onComplete:i,...s}=n;if(!(Cu()&&_u.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let o,a,l=!1,c=!1;const u=()=>{a=new Promise(e=>{o=e})};u();let{keyframes:d,duration:h=300,ease:f,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!fc(t.ease))(t,s)){const e=Tu({...s,repeat:0,delay:0});let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,d=n,h=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=gc(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(e.owner.current,t,d,{...s,duration:h,ease:f,times:p}),g=()=>{c=!1,m.cancel()},y=()=>{c=!0,Pl.update(g),o(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,s)),i&&i(),y())};return{then:(e,t)=>a.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,Il),get time(){return uc(m.currentTime||0)},set time(e){m.currentTime=cc(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return uc(h)},play:()=>{l||(m.play(),Dl(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=Tu({...s,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||m.finish()},cancel:y}}const Nu={type:"spring",stiffness:500,damping:25,restSpeed:10},Au={type:"keyframes",duration:.8},Pu={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Du=(e,t)=>{let{keyframes:n}=t;return n.length>2?Au:Ca.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Nu:Pu},Ru=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Zc.test(t)&&"0"!==t||t.startsWith("url("))),Lu=new Set(["brightness","contrast","saturate","opacity"]);function Mu(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ua)||[];if(!r)return e;const i=n.replace(r,"");let s=Lu.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Ou=/([a-z-]*)\(.*?\)/g,ju={...Zc,getAnimatableNone:e=>{const t=e.match(Ou);return t?t.map(Mu).join(" "):e}},Fu={...Ja,color:Fc,backgroundColor:Fc,outlineColor:Fc,fill:Fc,stroke:Fc,borderColor:Fc,borderTopColor:Fc,borderRightColor:Fc,borderBottomColor:Fc,borderLeftColor:Fc,filter:ju,WebkitFilter:ju},Vu=e=>Fu[e];function Uu(e,t){let n=Vu(e);return n!==ju&&(n=Zc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Bu=e=>/^0[^.\s]+$/.test(e);function zu(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Bu(e):void 0}function $u(e,t){return e[t]||e.default||e}const qu=!1,Wu=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=$u(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a-=cc(o);const l=function(e,t,n,r){const i=Ru(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const o=void 0!==r.from?r.from:e.get();let a;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?o:s[c-1]),zu(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++)s[l[c]]=Uu(t,a);return s}(t,e,n,s),c=l[0],u=l[l.length-1],d=Ru(e,c),h=Ru(e,u);ac(d===h,`You are trying to animate ${e} from "${c}" to "${u}". ${c} is not an animatable value - to enable this animation set ${c} to a value animatable to ${u} via the \`style\` property.`);let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length}(s)||(f={...f,...Du(e,f)}),f.duration&&(f.duration=cc(f.duration)),f.repeatDelay&&(f.repeatDelay=cc(f.repeatDelay)),!d||!h||dc||!1===s.type||qu)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Il,pause:Il,stop:Il,then:e=>(e(),Promise.resolve()),cancel:Il,complete:Il});return n?Tu({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(dc?{...f,delay:0}:f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Iu(t,e,f);if(n)return n}return Tu(f)}};function Hu(e){return Boolean(Ia(e)&&e.add)}const Ku=e=>/^\-?\d*\.?\d+$/.test(e);function Gu(e,t){-1===e.indexOf(t)&&e.push(t)}function Qu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Yu{constructor(){this.subscriptions=[]}add(e){return Gu(this.subscriptions,e),()=>Qu(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xu={current:void 0};class Ju{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Rl;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,Pl.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Pl.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Yu);const n=this.events[e].add(t);return"change"===e?()=>{n(),Pl.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Xu.current&&Xu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?du(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zu(e,t){return new Ju(e,t)}const ed=e=>t=>t.test(e),td=[Oa,Ka,Ha,Wa,Qa,Ga,{test:e=>"auto"===e,parse:e=>e}],nd=e=>td.find(ed(e)),rd=[...td,Fc,Zc],id=e=>rd.find(ed(e));function sd(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zu(n))}function od(e,t){const n=oc(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){sd(e,o,Sl(s[o]))}}function ad(e,t){if(!t)return;return(t[e]||t.default||t).from}function ld(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function cd(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function ud(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const t=e.getValue(d),r=a[d];if(!t||void 0===r||u&&ld(u,d))continue;const i={delay:n,elapsed:0,...$u(s||{},d)};if(window.HandoffAppearAnimations){const n=e.getProps()[ia];if(n){const e=window.HandoffAppearAnimations(n,d,t,Pl);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let o=!i.isHandoff&&!cd(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(Wu(d,t,r,e.shouldReduceMotion&&Ca.has(d)?{type:!1}:i));const h=t.animation;Hu(l)&&(l.add(d),h.then(()=>l.remove(d))),c.push(h)}return o&&Promise.all(c).then(()=>{o&&od(e,o)}),c}function dd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=oc(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(ud(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(hd).forEach((e,r)=>{e.notify("AnimationStart",t),o.push(dd(e,t,{...s,delay:n+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,s+r,o,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then(()=>t())}return Promise.all([s(),o(n.delay)])}function hd(e,t){return e.sortNodePosition(t)}const fd=[...la].reverse(),pd=la.length;function md(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>dd(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=dd(e,t,r);else{const i="function"===typeof t?oc(e,t,r.custom):t;n=Promise.all(ud(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function gd(e){let t=md(e);const n={animate:vd(!0),whileInView:vd(),whileHover:vd(),whileTap:vd(),whileDrag:vd(),whileFocus:vd(),exit:vd()};let r=!0;const i=(t,n)=>{const r=oc(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,o){const a=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<pd;t++){const f=fd[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=oa(m),y=f===o?p.isActive:null;!1===y&&(h=t);let v=m===l[f]&&m!==a[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys={...d},!p.isActive&&null===y||!m&&!p.prevProp||aa(m)||"boolean"===typeof m)continue;let b=yd(p.prevProp,m)||f===o&&p.isActive&&!v&&g||t>h&&g,w=!1;const x=Array.isArray(m)?m:[m];let k=x.reduce(i,{});!1===y&&(k={});const{prevResolvedValues:E={}}=p,S={...E,...k},T=e=>{b=!0,u.has(e)&&(w=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in S){const t=k[e],n=E[e];if(d.hasOwnProperty(e))continue;let r=!1;r=El(t)&&El(n)?!sc(t,n):t!==n,r?void 0!==t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=k,p.isActive&&(d={...d,...k}),r&&e.blockInitialAnimation&&(b=!1),!b||v&&!w||c.push(...x.map(e=>({animation:e,options:{type:f,...s}})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=s(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function yd(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!sc(t,e)}function vd(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let bd=0;const wd={animation:{Feature:class extends Gl{constructor(e){super(e),e.animationState||(e.animationState=gd(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),aa(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Gl{constructor(){super(...arguments),this.id=bd++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},xd=(e,t)=>Math.abs(e-t);class kd{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Td(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=xd(e.x,t.x),r=xd(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Rl;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Ed(t,this.transformPagePoint),Pl.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Td("pointercancel"===e.type?this.lastMoveEventInfo:Ed(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!Fl(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=Ed(Vl(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=Rl;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Td(s,this.history)),this.removeListeners=zl(Ul(this.contextWindow,"pointermove",this.handlePointerMove),Ul(this.contextWindow,"pointerup",this.handlePointerUp),Ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dl(this.updatePoint)}}function Ed(e,t){return t?{point:t(e.point)}:e}function Sd(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Td(e,t){let{point:n}=e;return{point:n,delta:Sd(n,_d(t)),offset:Sd(n,Cd(t)),velocity:Id(t,.1)}}function Cd(e){return e[0]}function _d(e){return e[e.length-1]}function Id(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=_d(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>cc(t)));)n--;if(!r)return{x:0,y:0};const s=uc(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Nd(e){return e.max-e.min}function Ad(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Pd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Vc(t.min,t.max,e.origin),e.scale=Nd(n)/Nd(t),(Ad(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Vc(n.min,n.max,e.origin)-e.originPoint,(Ad(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Dd(e,t,n,r){Pd(e.x,t.x,n.x,r?r.originX:void 0),Pd(e.y,t.y,n.y,r?r.originY:void 0)}function Rd(e,t,n){e.min=n.min+t.min,e.max=e.min+Nd(t)}function Ld(e,t,n){e.min=t.min-n.min,e.max=e.min+Nd(t)}function Md(e,t,n){Ld(e.x,t.x,n.x),Ld(e.y,t.y,n.y)}function Od(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function jd(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Fd=.35;function Vd(e,t,n){return{min:Ud(e,t),max:Ud(e,n)}}function Ud(e,t){return"number"===typeof e?e:e[t]||0}const Bd=()=>({x:{min:0,max:0},y:{min:0,max:0}});function zd(e){return[e("x"),e("y")]}function $d(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function qd(e){return void 0===e||1===e}function Wd(e){let{scale:t,scaleX:n,scaleY:r}=e;return!qd(t)||!qd(n)||!qd(r)}function Hd(e){return Wd(e)||Kd(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Kd(e){return Gd(e.x)||Gd(e.y)}function Gd(e){return e&&"0%"!==e}function Qd(e,t,n){return n+t*(e-n)}function Yd(e,t,n,r,i){return void 0!==i&&(e=Qd(e,i,r)),Qd(e,n,r)+t}function Xd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Yd(e.min,t,n,r,i),e.max=Yd(e.max,t,n,r,i)}function Jd(e,t){let{x:n,y:r}=t;Xd(e.x,n.translate,n.scale,n.originPoint),Xd(e.y,r.translate,r.scale,r.originPoint)}function Zd(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function eh(e,t){e.min=e.min+t,e.max=e.max+t}function th(e,t,n){let[r,i,s]=n;const o=void 0!==t[s]?t[s]:.5,a=Vc(e.min,e.max,o);Xd(e,t[r],t[i],a,t.scale)}const nh=["x","scaleX","originX"],rh=["y","scaleY","originY"];function ih(e,t){th(e.x,t,nh),th(e.y,t,rh)}function sh(e,t){return $d(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const oh=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},ah=new WeakMap;class lh{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new kd(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Vl(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Hl(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zd(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Ha.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Nd(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&Pl.update(()=>i(e,t),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>zd(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:oh(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Pl.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ch(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Vc(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Vc(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&sa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:Od(e.x,r,s),y:Od(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fd;return!1===e?e=0:!0===e&&(e=Fd),{x:Vd(e,"left","right"),y:Vd(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zd(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!sa(e))return!1;const n=e.current;lc(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=sh(e,n),{scroll:i}=t;return i&&(eh(r.x,i.offset.x),eh(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:jd(e.x,t.x),y:jd(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=$d(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=zd(o=>{if(!ch(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,d)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Wu(e,n,0,t))}stopAnimation(){zd(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zd(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){zd(t=>{const{drag:n}=this.getProps();if(!ch(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Vc(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!sa(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};zd(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Nd(e),i=Nd(t);return i>r?n=su(t.min,t.max-r,e.min):r>i&&(n=su(e.min,e.max-i,t.min)),Ma(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),zd(t=>{if(!ch(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Vc(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;ah.set(this.visualElement,this);const e=Ul(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();sa(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=jl(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(zd(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=Fd,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function ch(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const uh=e=>(t,n)=>{e&&Pl.update(()=>e(t,n))};const dh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fh={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Ka.test(e))return e;e=parseFloat(e)}return`${hh(e,t.target.x)}% ${hh(e,t.target.y)}%`}},ph={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=Zc.parse(e);if(s.length>5)return i;const o=Zc.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=c;const u=Vc(l,c,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}};class mh extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=yh,Object.assign(Sa,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),dh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Pl.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gh(e){const[t,n]=function(){const e=(0,i.useContext)(Zo);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,i.useId)();return(0,i.useEffect)(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),r=(0,i.useContext)(ga);return i.createElement(mh,{...e,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(ya),isPresent:t,safeToRemove:n})}const yh={borderRadius:{...fh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fh,borderTopRightRadius:fh,borderBottomLeftRadius:fh,borderBottomRightRadius:fh,boxShadow:ph},vh=["TopLeft","TopRight","BottomLeft","BottomRight"],bh=vh.length,wh=e=>"string"===typeof e?parseFloat(e):e,xh=e=>"number"===typeof e||Ka.test(e);function kh(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Eh=Th(0,.5,Tc),Sh=Th(.5,.95,Il);function Th(e,t,n){return r=>r<e?0:r>t?1:n(su(e,t,r))}function Ch(e,t){e.min=t.min,e.max=t.max}function _h(e,t){Ch(e.x,t.x),Ch(e.y,t.y)}function Ih(e,t,n,r,i){return e=Qd(e-=t,1/n,r),void 0!==i&&(e=Qd(e,1/i,r)),e}function Nh(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Ha.test(t)&&(t=parseFloat(t),t=Vc(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=Vc(s.min,s.max,r);e===s&&(a-=t),e.min=Ih(e.min,t,n,a,i),e.max=Ih(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const Ah=["x","scaleX","originX"],Ph=["y","scaleY","originY"];function Dh(e,t,n,r){Nh(e.x,t,Ah,n?n.x:void 0,r?r.x:void 0),Nh(e.y,t,Ph,n?n.y:void 0,r?r.y:void 0)}function Rh(e){return 0===e.translate&&1===e.scale}function Lh(e){return Rh(e.x)&&Rh(e.y)}function Mh(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Oh(e){return Nd(e.x)/Nd(e.y)}class jh{constructor(){this.members=[]}add(e){Gu(this.members,e),e.scheduleRender()}remove(e){if(Qu(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fh(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return 1===o&&1===a||(r+=`scale(${o}, ${a})`),r||"none"}const Vh=(e,t)=>e.depth-t.depth;class Uh{constructor(){this.children=[],this.isDirty=!1}add(e){Gu(this.children,e),this.isDirty=!0}remove(e){Qu(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Vh),this.isDirty=!1,this.children.forEach(e)}}const Bh=["","X","Y","Z"],zh={visibility:"hidden"};let $h=0;const qh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Wh(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=$h++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qh.totalNodes=qh.resolvedTargetDeltas=qh.recalculatedProjection=0,this.nodes.forEach(Gh),this.nodes.forEach(tf),this.nodes.forEach(nf),this.nodes.forEach(Qh),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(qh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uh)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Yu),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(Dl(r),e(o-t))};return Pl.read(r,!0),()=>Dl(r)}(r,250),dh.hasAnimatedSinceResize&&(dh.hasAnimatedSinceResize=!1,this.nodes.forEach(ef))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||cf,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!Mh(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...$u(s,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||ef(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rf),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Xh);this.isUpdating||this.nodes.forEach(Jh),this.isUpdating=!1,this.nodes.forEach(Zh),this.nodes.forEach(Hh),this.nodes.forEach(Kh),this.clearAllSnapshots();const e=performance.now();Rl.delta=Ma(0,1e3/60,e-Rl.timestamp),Rl.timestamp=e,Rl.isProcessing=!0,Ll.update.process(Rl),Ll.preRender.process(Rl),Ll.render.process(Rl),Rl.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Yh),this.sharedNodes.forEach(sf)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pl.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pl.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Lh(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Hd(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),hf((r=n).x),hf(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(eh(t.x,n.offset.x),eh(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};_h(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){_h(t,e);const{scroll:n}=this.root;n&&(eh(t.x,-n.offset.x),eh(t.y,-n.offset.y))}eh(t.x,i.offset.x),eh(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};_h(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&ih(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Hd(e.latestValues)&&ih(n,e.latestValues)}return Hd(this.latestValues)&&ih(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};_h(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Hd(e.latestValues))continue;Wd(e.latestValues)&&e.updateSnapshot();const r=Bd();_h(r,e.measurePageBox()),Dh(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Hd(this.latestValues)&&Dh(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rl.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=Rl.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Md(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),_h(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,Rd(o.x,a.x,l.x),Rd(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):_h(this.target,this.layout.layoutBox),Jd(this.target,this.targetDelta)):_h(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Md(this.relativeTargetOrigin,this.target,e.target),_h(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Wd(this.parent.latestValues)&&!Kd(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Rl.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;_h(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ih(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Jd(e,o)),r&&Hd(s.latestValues)&&ih(e,s.latestValues))}t.x=Zd(t.x),t.y=Zd(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;Dd(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Fh(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===o&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),qh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(lf));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;of(s.x,e.x,n),of(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Md(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){af(e.x,t.x,n.x,r),af(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),_h(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Vc(0,void 0!==n.opacity?n.opacity:1,Eh(r)),e.opacityExit=Vc(void 0!==t.opacity?t.opacity:1,0,Sh(r))):s&&(e.opacity=Vc(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<bh;o++){const i=`border${vh[o]}Radius`;let s=kh(t,i),a=kh(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||xh(s)===xh(a)?(e[i]=Math.max(Vc(wh(s),wh(a),r),0),(Ha.test(a)||Ha.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=Vc(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pl.update(()=>{dh.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Ia(e)?e:Zu(e);return r.start(Wu("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&ff(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Nd(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Nd(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}_h(t,n),ih(t,i),Dd(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new jh);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<Bh.length;i++){const t="rotate"+Bh[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zh;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Tl(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Tl(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Hd(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Fh(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in Sa){if(void 0===o[c])continue;const{correct:e,applyTo:t}=Sa[c],n="none"===r.transform?o[c]:e(o[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?Tl(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Xh),this.root.sharedNodes.clear()}}}function Hh(e){e.updateLayout()}function Kh(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?zd(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Nd(r);r.min=t[e].min,r.max=r.min+i}):ff(i,n.layoutBox,t)&&zd(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=Nd(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Dd(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Dd(a,e.applyTransform(r,!0),n.measuredBox):Dd(a,t,n.layoutBox);const l=!Lh(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};Md(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Md(a,t,s.layoutBox),Mh(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Gh(e){qh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Qh(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Yh(e){e.clearSnapshot()}function Xh(e){e.clearMeasurements()}function Jh(e){e.isLayoutDirty=!1}function Zh(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ef(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tf(e){e.resolveTargetDelta()}function nf(e){e.calcProjection()}function rf(e){e.resetRotation()}function sf(e){e.removeLeadSnapshot()}function of(e,t,n){e.translate=Vc(t.translate,0,n),e.scale=Vc(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function af(e,t,n,r){e.min=Vc(t.min,n.min,r),e.max=Vc(t.max,n.max,r)}function lf(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const cf={duration:.45,ease:[.4,0,.1,1]},uf=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),df=uf("applewebkit/")&&!uf("chrome/")?Math.round:Il;function hf(e){e.min=df(e.min),e.max=df(e.max)}function ff(e,t,n){return"position"===e||"preserve-aspect"===e&&!Ad(Oh(t),Oh(n),.2)}const pf=Wh({attachResizeListener:(e,t)=>jl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mf={current:void 0},gf=Wh({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mf.current){const e=new pf({});e.mount(window),e.setOptions({layoutScroll:!0}),mf.current=e}return mf.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),yf={pan:{Feature:class extends Gl{constructor(){super(...arguments),this.removePointerDownListener=Il}onPointerDown(e){this.session=new kd(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oh(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:uh(e),onStart:uh(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Pl.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=Ul(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Gl{constructor(e){super(e),this.removeGroupControls=Il,this.removeListeners=Il,this.controls=new lh(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Il}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:gf,MeasureLayout:gh}},vf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function bf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;lc(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=vf.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Ku(e)?parseFloat(e):e}return Ra(i)?bf(i,t,n+1):i}const wf=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),xf=e=>wf.has(e),kf=e=>e===Oa||e===Ka,Ef=(e,t)=>parseFloat(e.split(", ")[t]),Sf=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return Ef(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?Ef(t[1],e):0}},Tf=new Set(["x","y","z"]),Cf=Ta.filter(e=>!Tf.has(e));const _f={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Sf(4,13),y:Sf(5,14)};_f.translateX=_f.x,_f.translateY=_f.y;const If=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(xf);let s=[],o=!1;const a=[];if(i.forEach(i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=nd(c);const d=t[i];let h;if(El(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=nd(c);for(let n=t;n<e&&null!==d[n];n++)h?lc(nd(d[n])===h,"All keyframes must be of the same type"):(h=nd(d[n]),lc(h===u||kf(u)&&kf(h),"Keyframes must be of the same dimension as the current value"))}else h=nd(d);if(u!==h)if(kf(u)&&kf(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===Ka&&(t[i]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[i]=u.transform(d):(o||(s=function(e){const t=[];return Cf.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),o=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))}),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{a[e]=_f[e](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=_f[n](l,s)}),e})(t,e,a);return s.length&&s.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),ea&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Nf(e,t,n,r){return(e=>Object.keys(e).some(xf))(t)?If(e,t,n,r):{target:t,transitionEnd:r}}const Af=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach(e=>{const t=e.get();if(!Ra(t))return;const n=bf(t,i);n&&e.set(n)});for(const s in r){const e=r[s];if(!Ra(e))continue;const t=bf(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}(e,t,r);return Nf(e,t=i.target,n,r=i.transitionEnd)},Pf={current:null},Df={current:!1};const Rf=new WeakMap,Lf=Object.keys(ma),Mf=Lf.length,Of=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],jf=ca.length;class Ff{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Pl.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=ua(n),this.isVariantNode=da(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const e=u[d];void 0!==a[d]&&Ia(e)&&(e.set(a[d],!1),Hu(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Rf.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Df.current||function(){if(Df.current=!0,ea)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pf.current=e.matches;e.addListener(t),t()}else Pf.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Pf.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Rf.delete(this.current),this.projection&&this.projection.unmount(),Dl(this.notifyUpdate),Dl(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Ca.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Pl.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:o,...a}=e;for(let l=0;l<Mf;l++){const e=Lf[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:o}=ma[e];r&&(i=r),t(a)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),o&&(s=o))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:o,layoutRoot:l}=a;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&sa(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Of.length;n++){const t=Of[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Ia(s))e.addValue(i,s),Hu(r)&&r.add(i);else if(Ia(o))e.addValue(i,Zu(s,{owner:e})),Hu(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,Zu(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<jf;t++){const n=ca[t],r=this.props[n];(oa(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Zu(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=xl(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Ia(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Yu),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Vf extends Ff{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...s}=e,{transformValues:o}=t,a=function(e,t,n){const r={};for(const i in e){const e=ad(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(o&&(i&&(i=o(i)),s&&(s=o(s)),a&&(a=o(a))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter(t=>!e.hasValue(t)),o=s.length;if(o)for(let a=0;a<o;a++){const o=s[a],l=t[o];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[o])&&void 0!==r?r:e.readValue(o))&&void 0!==i?i:t[o]),void 0!==c&&null!==c&&("string"===typeof c&&(Ku(c)||Bu(c))?c=parseFloat(c):!id(c)&&Zc.test(l)&&(c=Uu(o,l)),e.addValue(o,Zu(c,{owner:e})),void 0===n[o]&&(n[o]=c),null!==c&&e.setBaseTarget(o,c))}}(this,s,a);const e=Af(this,s,a,i);i=e.transitionEnd,s=e.target}return{transition:r,transitionEnd:i,...s}}}class Uf extends Vf{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Ca.has(t)){const e=Vu(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Da(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return sh(e,n)}build(e,t,n,r){Za(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return bl(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ia(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}renderInstance(e,t,n,r){gl(e,t,n,r)}}class Bf extends Vf{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ca.has(t)){const e=Vu(t);return e&&e.default||0}return t=yl.has(t)?t:ra(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return wl(e,t)}build(e,t,n,r){dl(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){vl(e,t,0,r)}mount(e){this.isSVGTag=fl(e.tagName),super.mount(e)}}const zf=(e,t)=>Ea(e)?new Bf(t,{enableHardwareAcceleration:!1}):new Uf(t,{enableHardwareAcceleration:!0}),$f={...wd,...ic,...yf,...{layout:{ProjectionNode:gf,MeasureLayout:gh}}},qf=xa((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...Ea(e)?Ml:Ol,preloadedFeatures:n,useRender:ml(i),createVisualElement:r,Component:e}}(e,t,$f,zf));yn("firebase","9.23.0","app");var Wf,Hf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Kf={},Gf=Gf||{},Qf=Hf||self;function Yf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Xf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Jf="closure_uid_"+(1e9*Math.random()>>>0),Zf=0;function ep(e,t,n){return e.call.apply(e.bind,arguments)}function tp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function np(e,t,n){return(np=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ep:tp).apply(null,arguments)}function rp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ip(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function sp(){this.s=this.s,this.o=this.o}sp.prototype.s=!1,sp.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Jf)&&e[Jf]||(e[Jf]=++Zf))},sp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const op=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ap(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function lp(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Yf(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function cp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}cp.prototype.h=function(){this.defaultPrevented=!0};var up=function(){if(!Qf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Qf.addEventListener("test",()=>{},t),Qf.removeEventListener("test",()=>{},t)}catch(n){}return e}();function dp(e){return/^[\s\xa0]*$/.test(e)}function hp(){var e=Qf.navigator;return e&&(e=e.userAgent)?e:""}function fp(e){return-1!=hp().indexOf(e)}function pp(e){return pp[" "](e),e}pp[" "]=function(){};var mp,gp,yp=fp("Opera"),vp=fp("Trident")||fp("MSIE"),bp=fp("Edge"),wp=bp||vp,xp=fp("Gecko")&&!(-1!=hp().toLowerCase().indexOf("webkit")&&!fp("Edge"))&&!(fp("Trident")||fp("MSIE"))&&!fp("Edge"),kp=-1!=hp().toLowerCase().indexOf("webkit")&&!fp("Edge");function Ep(){var e=Qf.document;return e?e.documentMode:void 0}e:{var Sp="",Tp=function(){var e=hp();return xp?/rv:([^\);]+)(\)|;)/.exec(e):bp?/Edge\/([\d\.]+)/.exec(e):vp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):kp?/WebKit\/(\S+)/.exec(e):yp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Tp&&(Sp=Tp?Tp[1]:""),vp){var Cp=Ep();if(null!=Cp&&Cp>parseFloat(Sp)){mp=String(Cp);break e}}mp=Sp}if(Qf.document&&vp){var _p=Ep();gp=_p||(parseInt(mp,10)||void 0)}else gp=void 0;var Ip=gp;function Np(e,t){if(cp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xp){e:{try{pp(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ap[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Np.$.h.call(this)}}ip(Np,cp);var Ap={2:"touch",3:"pen",4:"mouse"};Np.prototype.h=function(){Np.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Pp="closure_listenable_"+(1e6*Math.random()|0),Dp=0;function Rp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Dp,this.fa=this.ia=!1}function Lp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Mp(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Op(e){const t={};for(const n in e)t[n]=e[n];return t}const jp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fp(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<jp.length;t++)n=jp[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Vp(e){this.src=e,this.g={},this.h=0}function Up(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=op(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Lp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Bp(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Vp.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Bp(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Rp(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var zp="closure_lm_"+(1e6*Math.random()|0),$p={};function qp(e,t,n,r,i){if(r&&r.once)return Hp(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)qp(e,t[s],n,r,i);return null}return n=Zp(n),e&&e[Pp]?e.O(t,n,Xf(r)?!!r.capture:!!r,i):Wp(e,t,n,!1,r,i)}function Wp(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Xf(i)?!!i.capture:!!i,a=Xp(e);if(a||(e[zp]=a=new Vp(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Yp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)up||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Hp(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Hp(e,t[s],n,r,i);return null}return n=Zp(n),e&&e[Pp]?e.P(t,n,Xf(r)?!!r.capture:!!r,i):Wp(e,t,n,!0,r,i)}function Kp(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Kp(e,t[s],n,r,i);else r=Xf(r)?!!r.capture:!!r,n=Zp(n),e&&e[Pp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Bp(s=e.g[t],n,r,i))&&(Lp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Xp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Bp(t,n,r,i)),(n=-1<e?t[e]:null)&&Gp(n))}function Gp(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Pp])Up(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Xp(t))?(Up(n,e),0==n.h&&(n.src=null,t[zp]=null)):Lp(e)}}}function Qp(e){return e in $p?$p[e]:$p[e]="on"+e}function Yp(e,t){if(e.fa)e=!0;else{t=new Np(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Gp(e),e=n.call(r,t)}return e}function Xp(e){return(e=e[zp])instanceof Vp?e:null}var Jp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zp(e){return"function"===typeof e?e:(e[Jp]||(e[Jp]=function(t){return e.handleEvent(t)}),e[Jp])}function em(){sp.call(this),this.i=new Vp(this),this.S=this,this.J=null}function tm(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new cp(t,e);else if(t instanceof cp)t.target=t.target||e;else{var i=t;Fp(t=new cp(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=nm(o,r,!0,t)&&i}if(i=nm(o=t.g=e,r,!0,t)&&i,i=nm(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=nm(o=t.g=n[s],r,!1,t)&&i}function nm(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Up(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}ip(em,sp),em.prototype[Pp]=!0,em.prototype.removeEventListener=function(e,t,n,r){Kp(this,e,t,n,r)},em.prototype.N=function(){if(em.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lp(n[r]);delete t.g[e],t.h--}}this.J=null},em.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},em.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var rm=Qf.JSON.stringify;function im(){var e=dm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var sm=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new om,e=>e.reset());class om{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function am(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function lm(e){Qf.setTimeout(()=>{throw e},0)}let cm,um=!1,dm=new class{constructor(){this.h=this.g=null}add(e,t){const n=sm.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},hm=()=>{const e=Qf.Promise.resolve(void 0);cm=()=>{e.then(fm)}};var fm=()=>{for(var e;e=im();){try{e.h.call(e.g)}catch(n){lm(n)}var t=sm;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}um=!1};function pm(e,t){em.call(this),this.h=e||1,this.g=t||Qf,this.j=np(this.qb,this),this.l=Date.now()}function mm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function gm(e,t,n){if("function"===typeof e)n&&(e=np(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=np(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qf.setTimeout(e,t||0)}function ym(e){e.g=gm(()=>{e.g=null,e.i&&(e.i=!1,ym(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ip(pm,em),(Wf=pm.prototype).ga=!1,Wf.T=null,Wf.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),tm(this,"tick"),this.ga&&(mm(this),this.start()))}},Wf.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wf.N=function(){pm.$.N.call(this),mm(this),delete this.g};class vm extends sp{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ym(this)}N(){super.N(),this.g&&(Qf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bm(e){sp.call(this),this.h=e,this.g={}}ip(bm,sp);var wm=[];function xm(e,t,n,r){Array.isArray(n)||(n&&(wm[0]=n.toString()),n=wm);for(var i=0;i<n.length;i++){var s=qp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function km(e){Mp(e.g,function(e,t){this.g.hasOwnProperty(t)&&Gp(e)},e),e.g={}}function Em(){this.g=!0}function Sm(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return rm(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}bm.prototype.N=function(){bm.$.N.call(this),km(this)},bm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Em.prototype.Ea=function(){this.g=!1},Em.prototype.info=function(){};var Tm={},Cm=null;function _m(){return Cm=Cm||new em}function Im(e){cp.call(this,Tm.Ta,e)}function Nm(e){const t=_m();tm(t,new Im(t))}function Am(e,t){cp.call(this,Tm.STAT_EVENT,e),this.stat=t}function Pm(e){const t=_m();tm(t,new Am(t,e))}function Dm(e,t){cp.call(this,Tm.Ua,e),this.size=t}function Rm(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qf.setTimeout(function(){e()},t)}Tm.Ta="serverreachability",ip(Im,cp),Tm.STAT_EVENT="statevent",ip(Am,cp),Tm.Ua="timingevent",ip(Dm,cp);var Lm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Mm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Om(){}function jm(e){return e.h||(e.h=e.i())}function Fm(){}Om.prototype.h=null;var Vm,Um={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bm(){cp.call(this,"d")}function zm(){cp.call(this,"c")}function $m(){}function qm(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new bm(this),this.P=Hm,e=wp?125:void 0,this.V=new pm(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Wm}function Wm(){this.i=null,this.g="",this.h=!1}ip(Bm,cp),ip(zm,cp),ip($m,Om),$m.prototype.g=function(){return new XMLHttpRequest},$m.prototype.i=function(){return{}},Vm=new $m;var Hm=45e3,Km={},Gm={};function Qm(e,t,n){e.L=1,e.v=pg(cg(t)),e.s=n,e.S=!0,Ym(e,null)}function Ym(e,t){e.G=Date.now(),eg(e),e.A=cg(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),_g(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Wm,e.g=Iy(e.l,n?t:null,!e.s),0<e.O&&(e.M=new vm(np(e.Pa,e,e.g),e.O)),xm(e.U,e.g,"readystatechange",e.nb),t=e.I?Op(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Nm(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.W,e.s)}function Xm(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Jm(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Zm(e,n),r==Gm){4==t&&(e.o=4,Pm(14),i=!1),Sm(e.j,e.m,null,"[Incomplete Response]");break}if(r==Km){e.o=4,Pm(15),Sm(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Sm(e.j,e.m,r,null),sg(e,r)}Xm(e)&&r!=Gm&&r!=Km&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Pm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),wy(t),t.M=!0,Pm(11))):(Sm(e.j,e.m,n,"[Invalid Chunked Response]"),ig(e),rg(e))}function Zm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Gm:(n=Number(t.substring(n,r)),isNaN(n)?Km:(r+=1)+n>t.length?Gm:(t=t.slice(r,r+n),e.C=r+n,t))}function eg(e){e.Y=Date.now()+e.P,tg(e,e.P)}function tg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Rm(np(e.lb,e),t)}function ng(e){e.B&&(Qf.clearTimeout(e.B),e.B=null)}function rg(e){0==e.l.H||e.J||Ey(e.l,e)}function ig(e){ng(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,mm(e.V),km(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function sg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Lg(n.i,e)))if(!e.K&&Lg(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ky(n),hy(n)}by(n),Pm(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Rm(np(n.ib,n),6e3));if(1>=Rg(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Ty(n,11)}else if((e.K||n.g==e)&&ky(n),!dp(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Mg(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,fg(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=_y(r,r.J?r.pa:null,r.Y),o.K){Og(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(ng(a),eg(a)),r.g=o}else vy(r);0<n.j.length&&py(n)}else"stop"!=c[0]&&"close"!=c[0]||Ty(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ty(n,7):dy(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Nm()}catch(c){}}function og(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Yf(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Yf(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Yf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Wf=qm.prototype).setTimeout=function(e){this.P=e},Wf.nb=function(e){e=e.target;const t=this.M;t&&3==sy(e)?t.l():this.Pa(e)},Wf.Pa=function(e){try{if(e==this.g)e:{const u=sy(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||wp||this.g&&(this.h.h||this.g.ja()||oy(this.g)))){this.J||4!=u||7==t||Nm(),ng(this);var n=this.g.da();this.ca=n;t:if(Xm(this)){var r=oy(this.g);e="";var i=r.length,s=4==sy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ig(this),rg(this);var o="";break t}this.h.i=new Qf.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Pm(12),ig(this),rg(this);break e}Sm(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sg(this,n)}this.S?(Jm(this,u,o),wp&&this.i&&3==u&&(xm(this.U,this.V,"tick",this.mb),this.V.start())):(Sm(this.j,this.m,o,null),sg(this,o)),4==u&&ig(this),this.i&&!this.J&&(4==u?Ey(this.l,this):(this.i=!1,eg(this)))}else(function(e){const t={};e=(e.g&&2<=sy(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(dp(e[r]))continue;var n=am(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Pm(12)):(this.o=0,Pm(13)),ig(this),rg(this)}}}catch(u){}},Wf.mb=function(){if(this.g){var e=sy(this.g),t=this.g.ja();this.C<t.length&&(ng(this),Jm(this,e,t),this.i&&4!=e&&eg(this))}},Wf.cancel=function(){this.J=!0,ig(this)},Wf.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Nm(),Pm(17)),ig(this),this.o=2,rg(this)):tg(this,this.Y-e)};var ag=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof lg){this.h=e.h,ug(this,e.j),this.s=e.s,this.g=e.g,dg(this,e.m),this.l=e.l;var t=e.i,n=new Eg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),hg(this,n),this.o=e.o}else e&&(t=String(e).match(ag))?(this.h=!1,ug(this,t[1]||"",!0),this.s=mg(t[2]||""),this.g=mg(t[3]||"",!0),dg(this,t[4]),this.l=mg(t[5]||"",!0),hg(this,t[6]||"",!0),this.o=mg(t[7]||"")):(this.h=!1,this.i=new Eg(null,this.h))}function cg(e){return new lg(e)}function ug(e,t,n){e.j=n?mg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function dg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hg(e,t,n){t instanceof Eg?(e.i=t,function(e,t){t&&!e.j&&(Sg(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Tg(this,t),_g(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=gg(t,xg)),e.i=new Eg(t,e.h))}function fg(e,t,n){e.i.set(t,n)}function pg(e){return fg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}lg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gg(t,vg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(gg(t,vg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(gg(n,"/"==n.charAt(0)?wg:bg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",gg(n,kg)),e.join("")};var vg=/[#\/\?@]/g,bg=/[#\?:]/g,wg=/[#\?]/g,xg=/[#\?@]/g,kg=/#/g;function Eg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Tg(e,t){Sg(e),t=Ig(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Cg(e,t){return Sg(e),t=Ig(e,t),e.g.has(t)}function _g(e,t,n){Tg(e,t),0<n.length&&(e.i=null,e.g.set(Ig(e,t),ap(n)),e.h+=n.length)}function Ig(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Wf=Eg.prototype).add=function(e,t){Sg(this),this.i=null,e=Ig(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Wf.forEach=function(e,t){Sg(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Wf.ta=function(){Sg(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Wf.Z=function(e){Sg(this);let t=[];if("string"===typeof e)Cg(this,e)&&(t=t.concat(this.g.get(Ig(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Wf.set=function(e,t){return Sg(this),this.i=null,Cg(this,e=Ig(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Wf.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Wf.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Ng=class{constructor(e,t){this.g=e,this.map=t}};function Ag(e){this.l=e||Pg,Qf.PerformanceNavigationTiming?e=0<(e=Qf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qf.g&&Qf.g.Ka&&Qf.g.Ka()&&Qf.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pg=10;function Dg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Rg(e){return e.h?1:e.g?e.g.size:0}function Lg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Mg(e,t){e.g?e.g.add(t):e.h=t}function Og(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function jg(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ap(e.i)}Ag.prototype.cancel=function(){if(this.i=jg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Fg,Vg=class{stringify(e){return Qf.JSON.stringify(e,void 0)}parse(e){return Qf.JSON.parse(e,void 0)}};function Ug(){this.g=new Vg}function Bg(e,t,n){const r=n||"";try{og(e,function(e,n){let i=e;Xf(e)&&(i=rm(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(iN){throw t.push(r+"type="+encodeURIComponent("_badmap")),iN}}function zg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function $g(e){this.l=e.fc||null,this.j=e.ob||!1}function qg(e,t){em.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Wg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ip($g,Om),$g.prototype.g=function(){return new qg(this.l,this.j)},$g.prototype.i=(Fg={},function(){return Fg}),ip(qg,em);var Wg=0;function Hg(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Kg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gg(e)}function Gg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Wf=qg.prototype).open=function(e,t){if(this.readyState!=Wg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gg(this)},Wf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Qf).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Wf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kg(this)),this.readyState=Wg},Wf.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gg(this)),this.g&&(this.readyState=3,Gg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Qf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hg(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Wf.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Kg(this):Gg(this),3==this.readyState&&Hg(this)}},Wf.Za=function(e){this.g&&(this.response=this.responseText=e,Kg(this))},Wf.Ya=function(e){this.g&&(this.response=e,Kg(this))},Wf.ka=function(){this.g&&Kg(this)},Wf.setRequestHeader=function(e,t){this.v.append(e,t)},Wf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Wf.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(qg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Qg=Qf.JSON.parse;function Yg(e){em.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xg,this.L=this.M=!1}ip(Yg,em);var Xg="",Jg=/^https?$/i,Zg=["POST","PUT"];function ey(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ty(e),ry(e)}function ty(e){e.F||(e.F=!0,tm(e,"complete"),tm(e,"error"))}function ny(e){if(e.h&&"undefined"!=typeof Gf&&(!e.C[1]||4!=sy(e)||2!=e.da()))if(e.v&&4==sy(e))gm(e.La,0,e);else if(tm(e,"readystatechange"),4==sy(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(ag)[1]||null;!i&&Qf.self&&Qf.self.location&&(i=Qf.self.location.protocol.slice(0,-1)),r=!Jg.test(i?i.toLowerCase():"")}n=r}if(n)tm(e,"complete"),tm(e,"success");else{e.m=6;try{var s=2<sy(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",ty(e)}}finally{ry(e)}}}function ry(e,t){if(e.g){iy(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||tm(e,"ready");try{n.onreadystatechange=r}catch(iN){}}}function iy(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Qf.clearTimeout(e.A),e.A=null)}function sy(e){return e.g?e.g.readyState:0}function oy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Xg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(dv){return null}}function ay(e){let t="";return Mp(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function ly(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ay(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):fg(e,t,n))}function cy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function uy(e){this.Ga=0,this.j=[],this.l=new Em,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cy("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cy("baseRetryDelayMs",5e3,e),this.hb=cy("retryDelaySeedMs",1e4,e),this.eb=cy("forwardChannelMaxRetries",2,e),this.xa=cy("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ag(e&&e.concurrentRequestLimit),this.Ja=new Ug,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function dy(e){if(fy(e),3==e.H){var t=e.W++,n=cg(e.I);if(fg(n,"SID",e.K),fg(n,"RID",t),fg(n,"TYPE","terminate"),gy(e,n),(t=new qm(e,e.l,t)).L=2,t.v=pg(cg(n)),n=!1,Qf.navigator&&Qf.navigator.sendBeacon)try{n=Qf.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Qf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Iy(t.l,null),t.g.ha(t.v)),t.G=Date.now(),eg(t)}Cy(e)}function hy(e){e.g&&(wy(e),e.g.cancel(),e.g=null)}function fy(e){hy(e),e.u&&(Qf.clearTimeout(e.u),e.u=null),ky(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qf.clearTimeout(e.m),e.m=null)}function py(e){if(!Dg(e.i)&&!e.m){e.m=!0;var t=e.Na;cm||hm(),um||(cm(),um=!0),dm.add(t,e),e.C=0}}function my(e,t){var n;n=t?t.m:e.W++;const r=cg(e.I);fg(r,"SID",e.K),fg(r,"RID",n),fg(r,"AID",e.V),gy(e,r),e.o&&e.s&&ly(r,e.o,e.s),n=new qm(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=yy(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Mg(e.i,n),Qm(n,r,t)}function gy(e,t){e.na&&Mp(e.na,function(e,n){fg(t,n,e)}),e.h&&og({},function(e,n){fg(t,n,e)})}function yy(e,t,n){n=Math.min(e.j.length,n);var r=e.h?np(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Bg(a,e,"req"+n+"_")}catch(kv){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function vy(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;cm||hm(),um||(cm(),um=!0),dm.add(t,e),e.A=0}}function by(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Rm(np(e.Ma,e),Sy(e,e.A)),e.A++,!0)}function wy(e){null!=e.B&&(Qf.clearTimeout(e.B),e.B=null)}function xy(e){e.g=new qm(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=cg(e.wa);fg(t,"RID","rpc"),fg(t,"SID",e.K),fg(t,"AID",e.V),fg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&fg(t,"TO",e.qa),fg(t,"TYPE","xmlhttp"),gy(e,t),e.o&&e.s&&ly(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=pg(cg(t)),n.s=null,n.S=!0,Ym(n,e)}function ky(e){null!=e.v&&(Qf.clearTimeout(e.v),e.v=null)}function Ey(e,t){var n=null;if(e.g==t){ky(e),wy(e),e.g=null;var r=2}else{if(!Lg(e.i,t))return;n=t.F,Og(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;tm(r=_m(),new Dm(r,n)),py(e)}else vy(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Rg(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Rm(np(e.Na,e,t),Sy(e,e.C)),e.C++,!0))}(e,t)||2==r&&by(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ty(e,5);break;case 4:Ty(e,10);break;case 3:Ty(e,6);break;default:Ty(e,2)}}function Sy(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ty(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=np(e.pb,e);n||(n=new lg("//www.google.com/images/cleardot.gif"),Qf.location&&"http"==Qf.location.protocol||ug(n,"https"),pg(n)),function(e,t){const n=new Em;if(Qf.Image){const r=new Image;r.onload=rp(zg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rp(zg,n,r,"TestLoadImage: error",!1,t),r.onabort=rp(zg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rp(zg,n,r,"TestLoadImage: timeout",!1,t),Qf.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Pm(2);e.H=0,e.h&&e.h.za(t),Cy(e),fy(e)}function Cy(e){if(e.H=0,e.ma=[],e.h){const t=jg(e.i);0==t.length&&0==e.j.length||(lp(e.ma,t),lp(e.ma,e.j),e.i.i.length=0,ap(e.j),e.j.length=0),e.h.ya()}}function _y(e,t,n){var r=n instanceof lg?cg(n):new lg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),dg(r,r.m);else{var i=Qf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new lg(null);r&&ug(s,r),t&&(s.g=t),i&&dg(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&fg(r,n,t),fg(r,"VER",e.ra),gy(e,r),r}function Iy(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Yg(new $g({ob:!0})):new Yg(e.va)).Oa(e.J),t}function Ny(){}function Ay(){if(vp&&!(10<=Number(Ip)))throw Error("Environmental error: no available transport.")}function Py(e,t){em.call(this),this.g=new uy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!dp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!dp(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ly(this)}function Dy(e){Bm.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ry(){zm.call(this),this.status=1}function Ly(e){this.g=e}function My(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Oy(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function jy(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Wf=Yg.prototype).Oa=function(e){this.M=e},Wf.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vm.g(),this.C=this.u?jm(this.u):jm(Vm),this.g.onreadystatechange=np(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ey(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=Qf.FormData&&e instanceof Qf.FormData,!(0<=op(Zg,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iy(this),0<this.B&&((this.L=function(e){return vp&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=np(this.ua,this)):this.A=gm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ey(this,s)}},Wf.ua=function(){"undefined"!=typeof Gf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tm(this,"timeout"),this.abort(8))},Wf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tm(this,"complete"),tm(this,"abort"),ry(this))},Wf.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ry(this,!0)),Yg.$.N.call(this)},Wf.La=function(){this.s||(this.G||this.v||this.l?ny(this):this.kb())},Wf.kb=function(){ny(this)},Wf.isActive=function(){return!!this.g},Wf.da=function(){try{return 2<sy(this)?this.g.status:-1}catch(Fg){return-1}},Wf.ja=function(){try{return this.g?this.g.responseText:""}catch(Fg){return""}},Wf.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Qg(t)}},Wf.Ia=function(){return this.m},Wf.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Wf=uy.prototype).ra=8,Wf.H=1,Wf.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new qm(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Op(s),Fp(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=yy(this,i,t),fg(n=cg(this.I),"RID",e),fg(n,"CVER",22),this.F&&fg(n,"X-HTTP-Session-Id",this.F),gy(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(ay(s)))+"&"+t:this.o&&ly(n,this.o,s)),Mg(this.i,i),this.bb&&fg(n,"TYPE","init"),this.P?(fg(n,"$req",t),fg(n,"SID","null"),i.aa=!0,Qm(i,n,null)):Qm(i,n,t),this.H=2}}else 3==this.H&&(e?my(this,e):0==this.j.length||Dg(this.i)||my(this))},Wf.Ma=function(){if(this.u=null,xy(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Rm(np(this.jb,this),e)}},Wf.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pm(10),hy(this),xy(this))},Wf.ib=function(){null!=this.v&&(this.v=null,hy(this),by(this),Pm(19))},Wf.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Pm(2)):(this.l.info("Failed to ping google.com"),Pm(1))},Wf.isActive=function(){return!!this.h&&this.h.isActive(this)},(Wf=Ny.prototype).Ba=function(){},Wf.Aa=function(){},Wf.za=function(){},Wf.ya=function(){},Wf.isActive=function(){return!0},Wf.Va=function(){},Ay.prototype.g=function(e,t){return new Py(e,t)},ip(Py,em),Py.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Pm(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=_y(e,null,e.Y),py(e)},Py.prototype.close=function(){dy(this.g)},Py.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=rm(e),e=n);t.j.push(new Ng(t.fb++,e)),3==t.H&&py(t)},Py.prototype.N=function(){this.g.h=null,delete this.j,dy(this.g),delete this.g,Py.$.N.call(this)},ip(Dy,Bm),ip(Ry,zm),ip(Ly,Ny),Ly.prototype.Ba=function(){tm(this.g,"a")},Ly.prototype.Aa=function(e){tm(this.g,new Dy(e))},Ly.prototype.za=function(e){tm(this.g,new Ry)},Ly.prototype.ya=function(){tm(this.g,"b")},ip(My,function(){this.blockSize=-1}),My.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},My.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Oy(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Oy(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Oy(this,r),i=0;break}}this.h=i,this.i+=t},My.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Fy={};function Vy(e){return-128<=e&&128>e?function(e,t){var n=Fy;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new jy([0|e],0>e?-1:0)}):new jy([0|e],0>e?-1:0)}function Uy(e){if(isNaN(e)||!isFinite(e))return zy;if(0>e)return Ky(Uy(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=By;return new jy(t,0)}var By=4294967296,zy=Vy(0),$y=Vy(1),qy=Vy(16777216);function Wy(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Hy(e){return-1==e.h}function Ky(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new jy(n,~e.h).add($y)}function Gy(e,t){return e.add(Ky(t))}function Qy(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Yy(e,t){this.g=e,this.h=t}function Xy(e,t){if(Wy(t))throw Error("division by zero");if(Wy(e))return new Yy(zy,zy);if(Hy(e))return t=Xy(Ky(e),t),new Yy(Ky(t.g),Ky(t.h));if(Hy(t))return t=Xy(e,Ky(t)),new Yy(Ky(t.g),t.h);if(30<e.g.length){if(Hy(e)||Hy(t))throw Error("slowDivide_ only works with positive integers.");for(var n=$y,r=t;0>=r.X(e);)n=Jy(n),r=Jy(r);var i=Zy(n,1),s=Zy(r,1);for(r=Zy(r,2),n=Zy(n,2);!Wy(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Zy(r,1),n=Zy(n,1)}return t=Gy(e,i.R(t)),new Yy(i,t)}for(i=zy;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Uy(n)).R(t);Hy(o)||0<o.X(e);)o=(s=Uy(n-=r)).R(t);Wy(s)&&(s=$y),i=i.add(s),e=Gy(e,o)}return new Yy(i,e)}function Jy(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new jy(n,e.h)}function Zy(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new jy(i,e.h)}(Wf=jy.prototype).ea=function(){if(Hy(this))return-Ky(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:By+r)*t,t*=By}return e},Wf.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Wy(this))return"0";if(Hy(this))return"-"+Ky(this).toString(e);for(var t=Uy(Math.pow(e,6)),n=this,r="";;){var i=Xy(n,t).g,s=((0<(n=Gy(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Wy(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Wf.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Wf.X=function(e){return Hy(e=Gy(this,e))?-1:Wy(e)?0:1},Wf.abs=function(){return Hy(this)?Ky(this):this},Wf.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new jy(n,-2147483648&n[n.length-1]?-1:0)},Wf.R=function(e){if(Wy(this)||Wy(e))return zy;if(Hy(this))return Hy(e)?Ky(this).R(Ky(e)):Ky(Ky(this).R(e));if(Hy(e))return Ky(this.R(Ky(e)));if(0>this.X(qy)&&0>e.X(qy))return Uy(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Qy(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Qy(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qy(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qy(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new jy(n,0)},Wf.gb=function(e){return Xy(this,e).h},Wf.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new jy(n,this.h&e.h)},Wf.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new jy(n,this.h|e.h)},Wf.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new jy(n,this.h^e.h)},Ay.prototype.createWebChannel=Ay.prototype.g,Py.prototype.send=Py.prototype.u,Py.prototype.open=Py.prototype.m,Py.prototype.close=Py.prototype.close,Lm.NO_ERROR=0,Lm.TIMEOUT=8,Lm.HTTP_ERROR=6,Mm.COMPLETE="complete",Fm.EventType=Um,Um.OPEN="a",Um.CLOSE="b",Um.ERROR="c",Um.MESSAGE="d",em.prototype.listen=em.prototype.O,Yg.prototype.listenOnce=Yg.prototype.P,Yg.prototype.getLastError=Yg.prototype.Sa,Yg.prototype.getLastErrorCode=Yg.prototype.Ia,Yg.prototype.getStatus=Yg.prototype.da,Yg.prototype.getResponseJson=Yg.prototype.Wa,Yg.prototype.getResponseText=Yg.prototype.ja,Yg.prototype.send=Yg.prototype.ha,Yg.prototype.setWithCredentials=Yg.prototype.Oa,My.prototype.digest=My.prototype.l,My.prototype.reset=My.prototype.reset,My.prototype.update=My.prototype.j,jy.prototype.add=jy.prototype.add,jy.prototype.multiply=jy.prototype.R,jy.prototype.modulo=jy.prototype.gb,jy.prototype.compare=jy.prototype.X,jy.prototype.toNumber=jy.prototype.ea,jy.prototype.toString=jy.prototype.toString,jy.prototype.getBits=jy.prototype.D,jy.fromNumber=Uy,jy.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ky(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Uy(Math.pow(n,8)),i=zy,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Uy(Math.pow(n,o)),i=i.R(o).add(Uy(a))):i=(i=i.R(r)).add(Uy(a))}return i};var ev=Kf.createWebChannelTransport=function(){return new Ay},tv=Kf.getStatEventTarget=function(){return _m()},nv=Kf.ErrorCode=Lm,rv=Kf.EventType=Mm,iv=Kf.Event=Tm,sv=Kf.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ov=Kf.FetchXmlHttpFactory=$g,av=Kf.WebChannel=Fm,lv=Kf.XhrIo=Yg,cv=Kf.Md5=My,uv=Kf.Integer=jy;const dv="@firebase/firestore";class hv{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hv.UNAUTHENTICATED=new hv(null),hv.GOOGLE_CREDENTIALS=new hv("google-credentials-uid"),hv.FIRST_PARTY=new hv("first-party-uid"),hv.MOCK_USER=new hv("mock-user");let fv="9.23.0";const pv=new ft("@firebase/firestore");function mv(){return pv.logLevel}function gv(e){if(pv.logLevel<=lt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bv);pv.debug(`Firestore (${fv}): ${e}`,...i)}}function yv(e){if(pv.logLevel<=lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bv);pv.error(`Firestore (${fv}): ${e}`,...i)}}function vv(e){if(pv.logLevel<=lt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bv);pv.warn(`Firestore (${fv}): ${e}`,...i)}}function bv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function wv(){const e=`FIRESTORE (${fv}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw yv(e),new Error(e)}function xv(e,t){e||wv()}function kv(e,t){return e}const Ev={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sv extends He{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tv{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _v{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hv.UNAUTHENTICATED))}shutdown(){}}class Iv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Nv{constructor(e){this.t=e,this.currentUser=hv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Tv;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Tv,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{gv("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(gv("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Tv)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(gv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xv("string"==typeof t.accessToken),new Cv(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xv(null===e||"string"==typeof e),new hv(e)}}class Av{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=hv.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Pv{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Av(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(hv.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rv{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&gv("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,gv("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{gv("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):gv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(xv("string"==typeof e.token),this.T=e.token,new Dv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lv(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Mv{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Lv(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ov(e,t){return e<t?-1:e>t?1:0}function jv(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Fv{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Sv(Ev.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Sv(Ev.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Sv(Ev.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Sv(Ev.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fv.fromMillis(Date.now())}static fromDate(e){return Fv.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Fv(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ov(this.nanoseconds,e.nanoseconds):Ov(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vv{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vv(e)}static min(){return new Vv(new Fv(0,0))}static max(){return new Vv(new Fv(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Uv{constructor(e,t,n){void 0===t?t=0:t>e.length&&wv(),void 0===n?n=e.length-t:n>e.length-t&&wv(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Uv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Uv?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bv extends Uv{construct(e,t,n){return new Bv(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Sv(Ev.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new Bv(e)}static emptyPath(){return new Bv([])}}const zv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $v extends Uv{construct(e,t,n){return new $v(e,t,n)}static isValidIdentifier(e){return zv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$v.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $v(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Sv(Ev.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Sv(Ev.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Sv(Ev.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Sv(Ev.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $v(t)}static emptyPath(){return new $v([])}}class qv{constructor(e){this.path=e}static fromPath(e){return new qv(Bv.fromString(e))}static fromName(e){return new qv(Bv.fromString(e).popFirst(5))}static empty(){return new qv(Bv.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bv.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bv.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qv(new Bv(e.slice()))}}class Wv{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Wv.UNKNOWN_ID=-1;function Hv(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vv.fromTimestamp(1e9===r?new Fv(n+1,0):new Fv(n,r));return new Gv(i,qv.empty(),t)}function Kv(e){return new Gv(e.readTime,e.key,-1)}class Gv{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Gv(Vv.min(),qv.empty(),-1)}static max(){return new Gv(Vv.max(),qv.empty(),-1)}}function Qv(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=qv.comparator(e.documentKey,t.documentKey),0!==n?n:Ov(e.largestBatchId,t.largestBatchId))}const Yv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Jv(e){if(e.code!==Ev.FAILED_PRECONDITION||e.message!==Yv)throw e;gv("LocalStore","Unexpectedly lost primary lease")}class Zv{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Zv((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Zv?t:Zv.resolve(t)}catch(e){return Zv.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Zv.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Zv.reject(t)}static resolve(e){return new Zv((t,n)=>{t(e)})}static reject(e){return new Zv((t,n)=>{n(e)})}static waitFor(e){return new Zv((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Zv.resolve(!1);for(const n of e)t=t.next(e=>e?Zv.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Zv((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Zv((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function eb(e){return"IndexedDbTransactionError"===e.name}class tb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function nb(e){return null==e}function rb(e){return 0===e&&1/e==-1/0}function ib(e){return"number"==typeof e&&Number.isInteger(e)&&!rb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}tb.ct=-1;const sb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ob=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ab=ob;function lb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cb(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ub(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class db{constructor(e,t){this.comparator=e,this.root=t||fb.EMPTY}insert(e,t){return new db(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fb.BLACK,null,null))}remove(e){return new db(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fb.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hb(this.root,e,this.comparator,!1)}getReverseIterator(){return new hb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hb(this.root,e,this.comparator,!0)}}class hb{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fb{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:fb.RED,this.left=null!=r?r:fb.EMPTY,this.right=null!=i?i:fb.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new fb(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fb.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return fb.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wv();if(this.right.isRed())throw wv();const e=this.left.check();if(e!==this.right.check())throw wv();return e+(this.isRed()?0:1)}}fb.EMPTY=null,fb.RED=!0,fb.BLACK=!1,fb.EMPTY=new class{constructor(){this.size=0}get key(){throw wv()}get value(){throw wv()}get color(){throw wv()}get left(){throw wv()}get right(){throw wv()}copy(e,t,n,r,i){return this}insert(e,t,n){return new fb(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pb{constructor(e){this.comparator=e,this.data=new db(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mb(this.data.getIterator())}getIteratorFrom(e){return new mb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof pb))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pb(this.comparator);return t.data=e,t}}class mb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gb{constructor(e){this.fields=e,e.sort($v.comparator)}static empty(){return new gb([])}unionWith(e){let t=new pb($v.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new gb(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jv(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vb{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new yb("Invalid base64 string: "+e):e}}(e);return new vb(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vb(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ov(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vb.EMPTY_BYTE_STRING=new vb("");const bb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wb(e){if(xv(!!e),"string"==typeof e){let t=0;const n=bb.exec(e);if(xv(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:xb(e.seconds),nanos:xb(e.nanos)}}function xb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kb(e){return"string"==typeof e?vb.fromBase64String(e):vb.fromUint8Array(e)}function Eb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sb(e){const t=e.mapValue.fields.__previous_value__;return Eb(t)?Sb(t):t}function Tb(e){const t=wb(e.mapValue.fields.__local_write_time__.timestampValue);return new Fv(t.seconds,t.nanos)}class Cb{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class _b{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _b("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _b&&e.projectId===this.projectId&&e.database===this.database}}const Ib={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Eb(e)?4:$b(e)?9007199254740991:10:wv()}function Ab(e,t){if(e===t)return!0;const n=Nb(e);if(n!==Nb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tb(e).isEqual(Tb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wb(e.timestampValue),r=wb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kb(e.bytesValue).isEqual(kb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xb(e.geoPointValue.latitude)===xb(t.geoPointValue.latitude)&&xb(e.geoPointValue.longitude)===xb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xb(e.integerValue)===xb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=xb(e.doubleValue),r=xb(t.doubleValue);return n===r?rb(n)===rb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jv(e.arrayValue.values||[],t.arrayValue.values||[],Ab);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lb(n)!==lb(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ab(n[i],r[i])))return!1;return!0}(e,t);default:return wv()}}function Pb(e,t){return void 0!==(e.values||[]).find(e=>Ab(e,t))}function Db(e,t){if(e===t)return 0;const n=Nb(e),r=Nb(t);if(n!==r)return Ov(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ov(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=xb(e.integerValue||e.doubleValue),r=xb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Rb(e.timestampValue,t.timestampValue);case 4:return Rb(Tb(e),Tb(t));case 5:return Ov(e.stringValue,t.stringValue);case 6:return function(e,t){const n=kb(e),r=kb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ov(n[i],r[i]);if(0!==e)return e}return Ov(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ov(xb(e.latitude),xb(t.latitude));return 0!==n?n:Ov(xb(e.longitude),xb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Db(n[i],r[i]);if(e)return e}return Ov(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ib.mapValue&&t===Ib.mapValue)return 0;if(e===Ib.mapValue)return 1;if(t===Ib.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ov(r[o],s[o]);if(0!==e)return e;const t=Db(n[r[o]],i[s[o]]);if(0!==t)return t}return Ov(r.length,s.length)}(e.mapValue,t.mapValue);default:throw wv()}}function Rb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ov(e,t);const n=wb(e),r=wb(t),i=Ov(n.seconds,r.seconds);return 0!==i?i:Ov(n.nanos,r.nanos)}function Lb(e){return Mb(e)}function Mb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wb(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?kb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,qv.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Mb(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Mb(e.fields[i])}`;return n+"}"}(e.mapValue):wv();var t,n}function Ob(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function jb(e){return!!e&&"integerValue"in e}function Fb(e){return!!e&&"arrayValue"in e}function Vb(e){return!!e&&"nullValue"in e}function Ub(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bb(e){return!!e&&"mapValue"in e}function zb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return cb(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=zb(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zb(e.arrayValue.values[n]);return t}return Object.assign({},e)}function $b(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class qb{constructor(e){this.value=e}static empty(){return new qb({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zb(t)}setAll(e){let t=$v.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zb(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Bb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ab(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Bb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){cb(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new qb(zb(this.value))}}function Wb(e){const t=[];return cb(e.fields,(e,n)=>{const r=new $v([e]);if(Bb(n)){const e=Wb(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new gb(t)}class Hb{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Hb(e,0,Vv.min(),Vv.min(),Vv.min(),qb.empty(),0)}static newFoundDocument(e,t,n,r){return new Hb(e,1,t,Vv.min(),n,r,0)}static newNoDocument(e,t){return new Hb(e,2,t,Vv.min(),Vv.min(),qb.empty(),0)}static newUnknownDocument(e,t){return new Hb(e,3,t,Vv.min(),Vv.min(),qb.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Vv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qb.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qb.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vv.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hb&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hb(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kb{constructor(e,t){this.position=e,this.inclusive=t}}function Gb(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?qv.comparator(qv.fromName(o.referenceValue),n.key):Db(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Qb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ab(e.position[n],t.position[n]))return!1;return!0}class Yb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Xb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Jb{}class Zb extends Jb{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new aw(e,t,n):"array-contains"===t?new dw(e,n):"in"===t?new hw(e,n):"not-in"===t?new fw(e,n):"array-contains-any"===t?new pw(e,n):new Zb(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new lw(e,n):new cw(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Db(t,this.value)):null!==t&&Nb(this.value)===Nb(t)&&this.matchesComparison(Db(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wv()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ew extends Jb{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ew(e,t)}matches(e){return tw(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function tw(e){return"and"===e.op}function nw(e){return rw(e)&&tw(e)}function rw(e){for(const t of e.filters)if(t instanceof ew)return!1;return!0}function iw(e){if(e instanceof Zb)return e.field.canonicalString()+e.op.toString()+Lb(e.value);if(nw(e))return e.filters.map(e=>iw(e)).join(",");{const t=e.filters.map(e=>iw(e)).join(",");return`${e.op}(${t})`}}function sw(e,t){return e instanceof Zb?function(e,t){return t instanceof Zb&&e.op===t.op&&e.field.isEqual(t.field)&&Ab(e.value,t.value)}(e,t):e instanceof ew?function(e,t){return t instanceof ew&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&sw(n,t.filters[r]),!0)}(e,t):void wv()}function ow(e){return e instanceof Zb?function(e){return`${e.field.canonicalString()} ${e.op} ${Lb(e.value)}`}(e):e instanceof ew?function(e){return e.op.toString()+" {"+e.getFilters().map(ow).join(" ,")+"}"}(e):"Filter"}class aw extends Zb{constructor(e,t,n){super(e,t,n),this.key=qv.fromName(n.referenceValue)}matches(e){const t=qv.comparator(e.key,this.key);return this.matchesComparison(t)}}class lw extends Zb{constructor(e,t){super(e,"in",t),this.keys=uw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cw extends Zb{constructor(e,t){super(e,"not-in",t),this.keys=uw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>qv.fromName(e.referenceValue))}class dw extends Zb{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fb(t)&&Pb(t.arrayValue,this.value)}}class hw extends Zb{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Pb(this.value.arrayValue,t)}}class fw extends Zb{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Pb(this.value.arrayValue,t)}}class pw extends Zb{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Pb(this.value.arrayValue,e))}}class mw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function gw(e){return new mw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function yw(e){const t=kv(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>iw(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),nb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Lb(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Lb(e)).join(",")),t.dt=e}return t.dt}function vw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Xb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qb(e.startAt,t.startAt)&&Qb(e.endAt,t.endAt)}function bw(e){return qv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ww{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function xw(e,t,n,r,i,s,o,a){return new ww(e,t,n,r,i,s,o,a)}function kw(e){return new ww(e)}function Ew(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Sw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Tw(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Cw(e){return null!==e.collectionGroup}function _w(e){const t=kv(e);if(null===t.wt){t.wt=[];const e=Tw(t),n=Sw(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Yb(e)),t.wt.push(new Yb($v.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Yb($v.keyField(),e))}}}return t.wt}function Iw(e){const t=kv(e);if(!t._t)if("F"===t.limitType)t._t=gw(t.path,t.collectionGroup,_w(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of _w(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Yb(i.field,t))}const n=t.endAt?new Kb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kb(t.startAt.position,t.startAt.inclusive):null;t._t=gw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Nw(e,t){t.getFirstInequalityField(),Tw(e);const n=e.filters.concat([t]);return new ww(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Aw(e,t,n){return new ww(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pw(e,t){return vw(Iw(e),Iw(t))&&e.limitType===t.limitType}function Dw(e){return`${yw(Iw(e))}|lt:${e.limitType}`}function Rw(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>ow(e)).join(", ")}]`),nb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Lb(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Lb(e)).join(",")),`Target(${t})`}(Iw(e))}; limitType=${e.limitType})`}function Lw(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):qv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of _w(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Gb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_w(e),t))&&!(e.endAt&&!function(e,t,n){const r=Gb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_w(e),t))}(e,t)}function Mw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ow(e){return(t,n)=>{let r=!1;for(const i of _w(e)){const e=jw(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function jw(e,t,n){const r=e.field.isKeyField()?qv.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Db(r,i):wv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wv()}}class Fw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){cb(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ub(this.inner)}size(){return this.innerSize}}const Vw=new db(qv.comparator);function Uw(){return Vw}const Bw=new db(qv.comparator);function zw(){let e=Bw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function $w(e){let t=Bw;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function qw(){return Hw()}function Ww(){return Hw()}function Hw(){return new Fw(e=>e.toString(),(e,t)=>e.isEqual(t))}const Kw=new db(qv.comparator),Gw=new pb(qv.comparator);function Qw(){let e=Gw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Yw=new pb(Ov);function Xw(){return Yw}function Jw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rb(t)?"-0":t}}function Zw(e){return{integerValue:""+e}}function ex(e,t){return ib(t)?Zw(t):Jw(e,t)}class tx{constructor(){this._=void 0}}function nx(e,t,n){return e instanceof sx?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Eb(t)&&(t=Sb(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ox?ax(e,t):e instanceof lx?cx(e,t):function(e,t){const n=ix(e,t),r=dx(n)+dx(e.gt);return jb(n)&&jb(e.gt)?Zw(r):Jw(e.serializer,r)}(e,t)}function rx(e,t,n){return e instanceof ox?ax(e,t):e instanceof lx?cx(e,t):n}function ix(e,t){return e instanceof ux?jb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class sx extends tx{}class ox extends tx{constructor(e){super(),this.elements=e}}function ax(e,t){const n=hx(t);for(const r of e.elements)n.some(e=>Ab(e,r))||n.push(r);return{arrayValue:{values:n}}}class lx extends tx{constructor(e){super(),this.elements=e}}function cx(e,t){let n=hx(t);for(const r of e.elements)n=n.filter(e=>!Ab(e,r));return{arrayValue:{values:n}}}class ux extends tx{constructor(e,t){super(),this.serializer=e,this.gt=t}}function dx(e){return xb(e.integerValue||e.doubleValue)}function hx(e){return Fb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class fx{constructor(e,t){this.field=e,this.transform=t}}class px{constructor(e,t){this.version=e,this.transformResults=t}}class mx{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mx}static exists(e){return new mx(void 0,e)}static updateTime(e){return new mx(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class yx{}function vx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ix(e.key,mx.none()):new Ex(e.key,e.data,mx.none());{const n=e.data,r=qb.empty();let i=new pb($v.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Sx(e.key,r,new gb(i.toArray()),mx.none())}}function bx(e,t,n){e instanceof Ex?function(e,t,n){const r=e.value.clone(),i=Cx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sx?function(e,t,n){if(!gx(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Cx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Tx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wx(e,t,n,r){return e instanceof Ex?function(e,t,n,r){if(!gx(e.precondition,t))return n;const i=e.value.clone(),s=_x(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sx?function(e,t,n,r){if(!gx(e.precondition,t))return n;const i=_x(e.fieldTransforms,r,t),s=t.data;return s.setAll(Tx(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return gx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function xx(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ix(r.transform,e||null);null!=i&&(null===n&&(n=qb.empty()),n.set(r.field,i))}return n||null}function kx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jv(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ox&&t instanceof ox||e instanceof lx&&t instanceof lx?jv(e.elements,t.elements,Ab):e instanceof ux&&t instanceof ux?Ab(e.gt,t.gt):e instanceof sx&&t instanceof sx}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ex extends yx{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sx extends yx{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Tx(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Cx(e,t,n){const r=new Map;xv(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,rx(o,a,n[i]))}return r}function _x(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,nx(e,s,t))}return r}class Ix extends yx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends yx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&bx(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=wx(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=wx(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ww();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=vx(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Vv.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qw())}isEqual(e){return this.batchId===e.batchId&&jv(this.mutations,e.mutations,(e,t)=>kx(e,t))&&jv(this.baseMutations,e.baseMutations,(e,t)=>kx(e,t))}}class Px{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){xv(e.mutations.length===n.length);let r=Kw;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Px(e,t,n,r)}}class Dx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rx{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lx,Mx;function Ox(e){switch(e){default:return wv();case Ev.CANCELLED:case Ev.UNKNOWN:case Ev.DEADLINE_EXCEEDED:case Ev.RESOURCE_EXHAUSTED:case Ev.INTERNAL:case Ev.UNAVAILABLE:case Ev.UNAUTHENTICATED:return!1;case Ev.INVALID_ARGUMENT:case Ev.NOT_FOUND:case Ev.ALREADY_EXISTS:case Ev.PERMISSION_DENIED:case Ev.FAILED_PRECONDITION:case Ev.ABORTED:case Ev.OUT_OF_RANGE:case Ev.UNIMPLEMENTED:case Ev.DATA_LOSS:return!0}}function jx(e){if(void 0===e)return yv("GRPC error has no .code"),Ev.UNKNOWN;switch(e){case Lx.OK:return Ev.OK;case Lx.CANCELLED:return Ev.CANCELLED;case Lx.UNKNOWN:return Ev.UNKNOWN;case Lx.DEADLINE_EXCEEDED:return Ev.DEADLINE_EXCEEDED;case Lx.RESOURCE_EXHAUSTED:return Ev.RESOURCE_EXHAUSTED;case Lx.INTERNAL:return Ev.INTERNAL;case Lx.UNAVAILABLE:return Ev.UNAVAILABLE;case Lx.UNAUTHENTICATED:return Ev.UNAUTHENTICATED;case Lx.INVALID_ARGUMENT:return Ev.INVALID_ARGUMENT;case Lx.NOT_FOUND:return Ev.NOT_FOUND;case Lx.ALREADY_EXISTS:return Ev.ALREADY_EXISTS;case Lx.PERMISSION_DENIED:return Ev.PERMISSION_DENIED;case Lx.FAILED_PRECONDITION:return Ev.FAILED_PRECONDITION;case Lx.ABORTED:return Ev.ABORTED;case Lx.OUT_OF_RANGE:return Ev.OUT_OF_RANGE;case Lx.UNIMPLEMENTED:return Ev.UNIMPLEMENTED;case Lx.DATA_LOSS:return Ev.DATA_LOSS;default:return wv()}}(Mx=Lx||(Lx={}))[Mx.OK=0]="OK",Mx[Mx.CANCELLED=1]="CANCELLED",Mx[Mx.UNKNOWN=2]="UNKNOWN",Mx[Mx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mx[Mx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mx[Mx.NOT_FOUND=5]="NOT_FOUND",Mx[Mx.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mx[Mx.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mx[Mx.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mx[Mx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mx[Mx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mx[Mx.ABORTED=10]="ABORTED",Mx[Mx.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mx[Mx.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mx[Mx.INTERNAL=13]="INTERNAL",Mx[Mx.UNAVAILABLE=14]="UNAVAILABLE",Mx[Mx.DATA_LOSS=15]="DATA_LOSS";class Fx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Vx}static getOrCreateInstance(){return null===Vx&&(Vx=new Fx),Vx}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Vx=null;function Ux(){return new TextEncoder}const Bx=new uv([4294967295,4294967295],0);function zx(e){const t=Ux().encode(e),n=new cv;return n.update(t),new Uint8Array(n.digest())}function $x(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new uv([n,r],0),new uv([i,s],0)]}class qx{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Wx(`Invalid padding: ${t}`);if(n<0)throw new Wx(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Wx(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Wx(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=uv.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(uv.fromNumber(n)));return 1===r.compare(Bx)&&(r=new uv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=zx(e),[n,r]=$x(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new qx(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=zx(e),[n,r]=$x(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Wx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hx{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Kx.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Hx(Vv.min(),r,new db(Ov),Uw(),Qw())}}class Kx{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Kx(n,t,Qw(),Qw(),Qw())}}class Gx{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Qx{constructor(e,t){this.targetId=e,this.Vt=t}}class Yx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vb.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Xx{constructor(){this.St=0,this.Dt=ek(),this.Ct=vb.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qw(),t=Qw(),n=Qw();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wv()}}),new Kx(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=ek()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Jx{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Uw(),this.zt=Zx(),this.Wt=new db(Ov)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:wv()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(bw(s))if(0===r){const e=new qv(s.path);this.Yt(n,e,Hb.newNoDocument(e,Vv.min()))}else xv(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Fx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=kb(i).toUint8Array()}catch(e){if(e instanceof yb)return vv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new qx(a,s,o)}catch(e){return vv(e instanceof Wx?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&bw(i.target)){const t=new qv(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Hb.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=Qw();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new Hx(e,t,this.Wt,this.jt,n);return this.jt=Uw(),this.zt=Zx(),this.Wt=new db(Ov),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Xx,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new pb(Ov),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||gv("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Xx),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Zx(){return new db(qv.comparator)}function ek(){return new db(qv.comparator)}const tk={asc:"ASCENDING",desc:"DESCENDING"},nk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rk={and:"AND",or:"OR"};class ik{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sk(e,t){return e.useProto3Json||nb(t)?t:{value:t}}function ok(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ak(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lk(e,t){return ok(e,t.toTimestamp())}function ck(e){return xv(!!e),Vv.fromTimestamp(function(e){const t=wb(e);return new Fv(t.seconds,t.nanos)}(e))}function uk(e,t){return function(e){return new Bv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function dk(e){const t=Bv.fromString(e);return xv(Pk(t)),t}function hk(e,t){return uk(e.databaseId,t.path)}function fk(e,t){const n=dk(t);if(n.get(1)!==e.databaseId.projectId)throw new Sv(Ev.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Sv(Ev.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new qv(yk(n))}function pk(e,t){return uk(e.databaseId,t)}function mk(e){const t=dk(e);return 4===t.length?Bv.emptyPath():yk(t)}function gk(e){return new Bv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yk(e){return xv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vk(e,t,n){return{name:hk(e,t),fields:n.value.mapValue.fields}}function bk(e,t){let n;if(t instanceof Ex)n={update:vk(e,t.key,t.value)};else if(t instanceof Ix)n={delete:hk(e,t.key)};else if(t instanceof Sx)n={update:vk(e,t.key,t.data),updateMask:Ak(t.fieldMask)};else{if(!(t instanceof Nx))return wv();n={verify:hk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof sx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ox)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ux)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw wv()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:lk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wv()}(e,t.precondition)),n}function wk(e,t){return{documents:[pk(e,t.path)]}}function xk(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=pk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=pk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Nk(ew.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:_k(e.field),direction:Sk(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=sk(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kk(e){let t=mk(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xv(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ek(e);return t instanceof ew&&nw(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new Yb(Ik(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,nb(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Kb(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Kb(n,t)}(n.endAt)),xw(t,i,o,s,a,"F",l,c)}function Ek(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ik(e.unaryFilter.field);return Zb.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ik(e.unaryFilter.field);return Zb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ik(e.unaryFilter.field);return Zb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ik(e.unaryFilter.field);return Zb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wv()}}(e):void 0!==e.fieldFilter?function(e){return Zb.create(Ik(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ew.create(e.compositeFilter.filters.map(e=>Ek(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wv()}}(e.compositeFilter.op))}(e):wv()}function Sk(e){return tk[e]}function Tk(e){return nk[e]}function Ck(e){return rk[e]}function _k(e){return{fieldPath:e.canonicalString()}}function Ik(e){return $v.fromServerFormat(e.fieldPath)}function Nk(e){return e instanceof Zb?function(e){if("=="===e.op){if(Ub(e.value))return{unaryFilter:{field:_k(e.field),op:"IS_NAN"}};if(Vb(e.value))return{unaryFilter:{field:_k(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ub(e.value))return{unaryFilter:{field:_k(e.field),op:"IS_NOT_NAN"}};if(Vb(e.value))return{unaryFilter:{field:_k(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_k(e.field),op:Tk(e.op),value:e.value}}}(e):e instanceof ew?function(e){const t=e.getFilters().map(e=>Nk(e));return 1===t.length?t[0]:{compositeFilter:{op:Ck(e.op),filters:t}}}(e):wv()}function Ak(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Pk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Dk{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vv.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vv.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vb.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Dk(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Dk(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dk(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dk(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rk{constructor(e){this.fe=e}}function Lk(e){const t=kk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Aw(t,t.limit,"L"):t}class Mk{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(xb(e.integerValue));else if("doubleValue"in e){const n=xb(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),rb(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(kb(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?$b(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):wv()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),qv.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Mk.Ve=new Mk;class Ok{constructor(){this.rn=new jk}addToCollectionParentIndex(e,t){return this.rn.add(t),Zv.resolve()}getCollectionParents(e,t){return Zv.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Zv.resolve()}deleteFieldIndex(e,t){return Zv.resolve()}getDocumentsMatchingTarget(e,t){return Zv.resolve(null)}getIndexType(e,t){return Zv.resolve(0)}getFieldIndexes(e,t){return Zv.resolve([])}getNextCollectionGroupToUpdate(e){return Zv.resolve(null)}getMinOffset(e,t){return Zv.resolve(Gv.min())}getMinOffsetFromCollectionGroup(e,t){return Zv.resolve(Gv.min())}updateCollectionGroup(e,t,n){return Zv.resolve()}updateIndexEntries(e,t){return Zv.resolve()}}class jk{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pb(Bv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new pb(Bv.comparator)).toArray()}}new Uint8Array(0);class Fk{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Fk(e,Fk.DEFAULT_COLLECTION_PERCENTILE,Fk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fk.DEFAULT_COLLECTION_PERCENTILE=10,Fk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fk.DEFAULT=new Fk(41943040,Fk.DEFAULT_COLLECTION_PERCENTILE,Fk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fk.DISABLED=new Fk(-1,0,0);class Vk{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Vk(0)}static Mn(){return new Vk(-1)}}class Uk{constructor(){this.changes=new Fw(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hb.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Zv.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zk{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&wx(n.mutation,e,gb.empty(),Fv.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Qw()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qw();const r=qw();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=zw();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=qw();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Qw()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Uw();const s=Hw(),o=Hw();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Sx)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),wx(o.mutation,t,o.mutation.getFieldMask(),Fv.now())):s.set(t.key,gb.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Bk(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Hw();let r=new db((e,t)=>e-t),i=Qw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||gb.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Qw()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Ww();l.forEach(e=>{if(!i.has(e)){const r=vx(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Zv.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return qv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Zv.resolve(qw());let o=-1,a=i;return s.next(t=>Zv.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Zv.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Qw())).next(e=>({batchId:o,changes:$w(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qv(t)).next(e=>{let t=zw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=zw();return this.indexManager.getCollectionParents(e,r).next(s=>Zv.forEach(s,s=>{const o=function(e,t){return new ww(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Hb.newInvalidDocument(r)))});let n=zw();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&wx(s.mutation,i,gb.empty(),Fv.now()),Lw(t,i)&&(n=n.insert(e,i))}),n})}}class $k{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Zv.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:ck(n.createTime)}),Zv.resolve()}getNamedQuery(e,t){return Zv.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Lk(e.bundledQuery),readTime:ck(e.readTime)}}(t)),Zv.resolve()}}class qk{constructor(){this.overlays=new db(qv.comparator),this.ls=new Map}getOverlay(e,t){return Zv.resolve(this.overlays.get(t))}getOverlays(e,t){const n=qw();return Zv.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),Zv.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),Zv.resolve()}getOverlaysForCollection(e,t,n){const r=qw(),i=t.length+1,s=new qv(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Zv.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new db((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=qw(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=qw(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Zv.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Dx(t,n));let i=this.ls.get(t);void 0===i&&(i=Qw(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Wk{constructor(){this.fs=new pb(Hk.ds),this.ws=new pb(Hk._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Hk(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new Hk(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new qv(new Bv([])),n=new Hk(t,e),r=new Hk(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new qv(new Bv([])),n=new Hk(t,e),r=new Hk(t,e+1);let i=Qw();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Hk(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Hk{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return qv.comparator(e.key,t.key)||Ov(e.As,t.As)}static _s(e,t){return Ov(e.As,t.As)||qv.comparator(e.key,t.key)}}class Kk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new pb(Hk.ds)}checkEmpty(e){return Zv.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ax(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new Hk(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Zv.resolve(s)}lookupMutationBatch(e,t){return Zv.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Zv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Zv.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Zv.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Hk(t,0),r=new Hk(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),Zv.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new pb(Ov);return t.forEach(e=>{const t=new Hk(e,0),r=new Hk(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),Zv.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;qv.isDocumentKey(i)||(i=i.child(""));const s=new Hk(new qv(i),0);let o=new pb(Ov);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)},s),Zv.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){xv(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Zv.forEach(t.mutations,r=>{const i=new Hk(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Hk(t,0),r=this.Rs.firstAfterOrEqual(n);return Zv.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Zv.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gk{constructor(e){this.Ds=e,this.docs=new db(qv.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Zv.resolve(n?n.document.mutableCopy():Hb.newInvalidDocument(t))}getEntries(e,t){let n=Uw();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Hb.newInvalidDocument(e))}),Zv.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Uw();const s=t.path,o=new qv(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Qv(Kv(o),n)<=0||(r.has(o.key)||Lw(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Zv.resolve(i)}getAllFromCollectionGroup(e,t,n,r){wv()}Cs(e,t){return Zv.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Qk(this)}getSize(e){return Zv.resolve(this.size)}}class Qk extends Uk{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),Zv.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Yk{constructor(e){this.persistence=e,this.xs=new Fw(e=>yw(e),vw),this.lastRemoteSnapshotVersion=Vv.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Wk,this.targetCount=0,this.Ms=Vk.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),Zv.resolve()}getLastRemoteSnapshotVersion(e){return Zv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Zv.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Zv.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Zv.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Vk(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Zv.resolve()}updateTargetData(e,t){return this.Fn(t),Zv.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Zv.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Zv.waitFor(i).next(()=>r)}getTargetCount(e){return Zv.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Zv.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Zv.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Zv.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Zv.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Zv.resolve(n)}containsKey(e,t){return Zv.resolve(this.ks.containsKey(t))}}class Xk{constructor(e,t){this.$s={},this.overlays={},this.Os=new tb(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Yk(this),this.indexManager=new Ok,this.remoteDocumentCache=function(e){return new Gk(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Rk(t),this.qs=new $k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Kk(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){gv("MemoryPersistence","Starting transaction:",e);const r=new Jk(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return Zv.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class Jk extends Xv{constructor(e){super(),this.currentSequenceNumber=e}}class Zk{constructor(e){this.persistence=e,this.Qs=new Wk,this.js=null}static zs(e){return new Zk(e)}get Ws(){if(this.js)return this.js;throw wv()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Zv.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Zv.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Zv.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zv.forEach(this.Ws,n=>{const r=qv.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Vv.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Zv.or([()=>Zv.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class eE{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Qw(),r=Qw();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new eE(e,t.fromCache,n,r)}}class tE{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Ew(t))return Zv.resolve(null);let n=Iw(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Aw(t,null,"F"),n=Iw(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Qw(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,Aw(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return Ew(t)||r.isEqual(Vv.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(mv()<=lt.DEBUG&&gv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rw(t)),this.Wi(e,s,t,Hv(r,-1)))})}ji(e,t){let n=new pb(Ow(e));return t.forEach((t,r)=>{Lw(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return mv()<=lt.DEBUG&&gv("QueryEngine","Using full collection scan to execute query:",Rw(t)),this.Ui.getDocumentsMatchingQuery(e,t,Gv.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class nE{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new db(Ov),this.Yi=new Fw(e=>yw(e),vw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zk(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function rE(e,t,n,r){return new nE(e,t,n,r)}async function iE(e,t){const n=kv(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=Qw();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function sE(e){const t=kv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function oE(e,t,n){let r=Qw(),i=Qw();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Uw();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Vv.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):gv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{nr:r,sr:i}})}function aE(e,t){const n=kv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function lE(e,t){const n=kv(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,Zv.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Dk(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function cE(e,t,n){const r=kv(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!eb(e))throw e;gv("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function uE(e,t,n){const r=kv(e);let i=Vv.min(),s=Qw();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=kv(e),i=r.Yi.get(n);return void 0!==i?Zv.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Iw(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Vv.min(),n?s:Qw())).next(e=>(dE(r,Mw(t),e),{documents:e,ir:s})))}function dE(e,t,n){let r=e.Xi.get(t)||Vv.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class hE{constructor(){this.activeTargetIds=Xw()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fE{constructor(){this.Hr=new hE,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new hE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pE{Yr(e){}shutdown(){}}class mE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){gv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){gv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gE=null;function yE(){return null===gE?gE=268435456+Math.round(2147483648*Math.random()):gE++,"0x"+gE.toString(16)}const vE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bE{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const wE="WebChannelConnection";class xE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=yE(),o=this.To(e,t);gv("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then(t=>(gv("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw vv("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=vE[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=yE();return new Promise((s,o)=>{const a=new lv;a.setWithCredentials(!0),a.listenOnce(rv.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case nv.NO_ERROR:const t=a.getResponseJson();gv(wE,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case nv.TIMEOUT:gv(wE,`RPC '${e}' ${i} timed out`),o(new Sv(Ev.DEADLINE_EXCEEDED,"Request time out"));break;case nv.HTTP_ERROR:const n=a.getStatus();if(gv(wE,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ev).indexOf(t)>=0?t:Ev.UNKNOWN}(t.status);o(new Sv(e,t.message))}else o(new Sv(Ev.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Sv(Ev.UNAVAILABLE,"Connection failed."));break;default:wv()}}finally{gv(wE,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);gv(wE,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=yE(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ev(),o=tv(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new ov({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");gv(wE,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=s.createWebChannel(c,a);let d=!1,h=!1;const f=new bE({ro:t=>{h?gv(wE,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(gv(wE,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),gv(wE,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,av.EventType.OPEN,()=>{h||gv(wE,`RPC '${e}' stream ${r} transport opened.`)}),p(u,av.EventType.CLOSE,()=>{h||(h=!0,gv(wE,`RPC '${e}' stream ${r} transport closed`),f.wo())}),p(u,av.EventType.ERROR,t=>{h||(h=!0,vv(wE,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new Sv(Ev.UNAVAILABLE,"The operation could not be completed")))}),p(u,av.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];xv(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){gv(wE,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Lx[e];if(void 0!==t)return jx(t)}(t),i=o.message;void 0===n&&(n=Ev.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.wo(new Sv(n,i)),u.close()}else gv(wE,`RPC '${e}' stream ${r} received:`,i),f._o(i)}}),p(o,iv.STAT_EVENT,t=>{t.stat===sv.PROXY?gv(wE,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===sv.NOPROXY&&gv(wE,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.fo()},0),f}}function kE(){return"undefined"!=typeof document?document:null}function EE(e){return new ik(e,!0)}class SE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&gv("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class TE{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new SE(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Ev.RESOURCE_EXHAUSTED?(yv(t.toString()),yv("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Ev.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Sv(Ev.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return gv("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(gv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CE extends TE{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(xv(void 0===t||"string"==typeof t),vb.fromBase64String(t||"")):(xv(void 0===t||t instanceof Uint8Array),vb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ev.UNKNOWN:jx(e.code);return new Sv(t,e.message||"")}(o);n=new Yx(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=fk(e,r.document.name),s=ck(r.document.updateTime),o=r.document.createTime?ck(r.document.createTime):Vv.min(),a=new qb({mapValue:{fields:r.document.fields}}),l=Hb.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Gx(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=fk(e,r.document),s=r.readTime?ck(r.readTime):Vv.min(),o=Hb.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gx([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=fk(e,r.document),s=r.removedTargetIds||[];n=new Gx([],s,i,null)}else{if(!("filter"in t))return wv();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Rx(r,i),o=e.targetId;n=new Qx(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Vv.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Vv.min():t.readTime?ck(t.readTime):Vv.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=gk(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=bw(r)?{documents:wk(e,r)}:{query:xk(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ak(e,t.resumeToken);const r=sk(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Vv.min())>0){n.readTime=ok(e,t.snapshotVersion.toTimestamp());const r=sk(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=gk(this.serializer),t.removeTarget=e,this.Wo(t)}}class _E extends TE{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(xv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(xv(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?ck(e.updateTime):ck(t);return n.isEqual(Vv.min())&&(n=ck(t)),new px(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ck(e.commitTime);return this.listener.cu(n,t)}return xv(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=gk(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>bk(this.serializer,e))};this.Wo(t)}}class IE extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Sv(Ev.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ev.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sv(Ev.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ev.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sv(Ev.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class NE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(yv(t),this.mu=!1):gv("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class AE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{VE(this)&&(gv("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=kv(e);t.vu.add(4),await DE(t),t.bu.set("Unknown"),t.vu.delete(4),await PE(t)}(this))})}),this.bu=new NE(n,r)}}async function PE(e){if(VE(e))for(const t of e.Ru)await t(!0)}async function DE(e){for(const t of e.Ru)await t(!1)}function RE(e,t){const n=kv(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),FE(n)?jE(n):rS(n).Ko()&&ME(n,t))}function LE(e,t){const n=kv(e),r=rS(n);n.Au.delete(t),r.Ko()&&OE(n,t),0===n.Au.size&&(r.Ko()?r.jo():VE(n)&&n.bu.set("Unknown"))}function ME(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vv.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rS(e).su(t)}function OE(e,t){e.Vu.qt(t),rS(e).iu(t)}function jE(e){e.Vu=new Jx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),rS(e).start(),e.bu.gu()}function FE(e){return VE(e)&&!rS(e).Uo()&&e.Au.size>0}function VE(e){return 0===kv(e).vu.size}function UE(e){e.Vu=void 0}async function BE(e){e.Au.forEach((t,n)=>{ME(e,t)})}async function zE(e,t){UE(e),FE(e)?(e.bu.Iu(t),jE(e)):e.bu.set("Unknown")}async function $E(e,t,n){if(e.bu.set("Online"),t instanceof Yx&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){gv("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await qE(e,n)}else if(t instanceof Gx?e.Vu.Ht(t):t instanceof Qx?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Vv.min()))try{const t=await sE(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(vb.EMPTY_BYTE_STRING,r.snapshotVersion)),OE(e,t);const i=new Dk(r.target,t,n,r.sequenceNumber);ME(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){gv("RemoteStore","Failed to raise snapshot:",t),await qE(e,t)}}async function qE(e,t,n){if(!eb(t))throw t;e.vu.add(1),await DE(e),e.bu.set("Offline"),n||(n=()=>sE(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{gv("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await PE(e)})}function WE(e,t){return t().catch(n=>qE(e,n,t))}async function HE(e){const t=kv(e),n=iS(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;KE(t);)try{const e=await aE(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,GE(t,e)}catch(e){await qE(t,e)}QE(t)&&YE(t)}function KE(e){return VE(e)&&e.Eu.length<10}function GE(e,t){e.Eu.push(t);const n=iS(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function QE(e){return VE(e)&&!iS(e).Uo()&&e.Eu.length>0}function YE(e){iS(e).start()}async function XE(e){iS(e).hu()}async function JE(e){const t=iS(e);for(const n of e.Eu)t.uu(n.mutations)}async function ZE(e,t,n){const r=e.Eu.shift(),i=Px.from(r,t,n);await WE(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await HE(e)}async function eS(e,t){t&&iS(e).ou&&await async function(e,t){if(Ox(n=t.code)&&n!==Ev.ABORTED){const n=e.Eu.shift();iS(e).Qo(),await WE(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await HE(e)}var n}(e,t),QE(e)&&YE(e)}async function tS(e,t){const n=kv(e);n.asyncQueue.verifyOperationInProgress(),gv("RemoteStore","RemoteStore received new credentials");const r=VE(n);n.vu.add(3),await DE(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await PE(n)}async function nS(e,t){const n=kv(e);t?(n.vu.delete(2),await PE(n)):t||(n.vu.add(2),await DE(n),n.bu.set("Unknown"))}function rS(e){return e.Su||(e.Su=function(e,t,n){const r=kv(e);return r.fu(),new CE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:BE.bind(null,e),ao:zE.bind(null,e),nu:$E.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),FE(e)?jE(e):e.bu.set("Unknown")):(await e.Su.stop(),UE(e))})),e.Su}function iS(e){return e.Du||(e.Du=function(e,t,n){const r=kv(e);return r.fu(),new _E(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:XE.bind(null,e),ao:eS.bind(null,e),au:JE.bind(null,e),cu:ZE.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await HE(e)):(await e.Du.stop(),e.Eu.length>0&&(gv("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}class sS{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Tv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new sS(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sv(Ev.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oS(e,t){if(yv("AsyncQueue",`${t}: ${e}`),eb(e))return new Sv(Ev.UNAVAILABLE,`${t}: ${e}`);throw e}class aS{constructor(e){this.comparator=e?(t,n)=>e(t,n)||qv.comparator(t.key,n.key):(e,t)=>qv.comparator(e.key,t.key),this.keyedMap=zw(),this.sortedSet=new db(this.comparator)}static emptySet(e){return new aS(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof aS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new aS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class lS{constructor(){this.Cu=new db(qv.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):wv():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class cS{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new cS(e,t,aS.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class uS{constructor(){this.Nu=void 0,this.listeners=[]}}class dS{constructor(){this.queries=new Fw(e=>Dw(e),Pw),this.onlineState="Unknown",this.ku=new Set}}async function hS(e,t){const n=kv(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new uS),i)try{s.Nu=await n.onListen(r)}catch(e){const n=oS(e,`Initialization of query '${Rw(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&gS(n)}async function fS(e,t){const n=kv(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function pS(e,t){const n=kv(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&gS(n)}function mS(e,t,n){const r=kv(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function gS(e){e.ku.forEach(e=>{e.next()})}class yS{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new cS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=cS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class vS{constructor(e){this.key=e}}class bS{constructor(e){this.key=e}}class wS{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qw(),this.mutatedKeys=Qw(),this.tc=Ow(e),this.ec=new aS(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new lS,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Lw(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wv()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new cS(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new lS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qw(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new bS(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new vS(n))}),t}hc(e){this.Yu=e.ir,this.Zu=Qw();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return cS.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class xS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class kS{constructor(e){this.key=e,this.fc=!1}}class ES{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Fw(e=>Dw(e),Pw),this._c=new Map,this.mc=new Set,this.gc=new db(qv.comparator),this.yc=new Map,this.Ic=new Wk,this.Tc={},this.Ec=new Map,this.Ac=Vk.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function SS(e,t){const n=zS(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await lE(n.localStore,Iw(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await TS(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&RE(n.remoteStore,e)}return i}async function TS(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await uE(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return OS(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await uE(e.localStore,t,!0),o=new wS(t,s.ir),a=o.sc(s.documents),l=Kx.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);OS(e,n,c.cc);const u=new xS(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function CS(e,t){const n=kv(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Pw(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cE(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),LE(n.remoteStore,r.targetId),LS(n,r.targetId)}).catch(Jv)):(LS(n,r.targetId),await cE(n.localStore,r.targetId,!0))}async function _S(e,t){const n=kv(e);try{const e=await function(e,t){const n=kv(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(vb.EMPTY_BYTE_STRING,Vv.min()).withLastLimboFreeSnapshotVersion(Vv.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Bs.updateTargetData(e,c))});let a=Uw(),l=Qw();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(oE(e,s,t.documentUpdates).next(e=>{a=e.nr,l=e.sr})),!r.isEqual(Vv.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Zv.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(xv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?xv(r.fc):e.removedDocuments.size>0&&(xv(r.fc),r.fc=!1))}),await VS(n,e,t)}catch(e){await Jv(e)}}function IS(e,t,n){const r=kv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=kv(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&gS(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function NS(e,t,n){const r=kv(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new db(qv.comparator);e=e.insert(s,Hb.newNoDocument(s,Vv.min()));const n=Qw().add(s),i=new Hx(Vv.min(),new Map,new db(Ov),e,n);await _S(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),FS(r)}else await cE(r.localStore,t,!1).then(()=>LS(r,t,n)).catch(Jv)}async function AS(e,t){const n=kv(e),r=t.batch.batchId;try{const e=await function(e,t){const n=kv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Zv.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);xv(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Qw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);RS(n,r,null),DS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await VS(n,e)}catch(e){await Jv(e)}}async function PS(e,t,n){const r=kv(e);try{const e=await function(e,t){const n=kv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(xv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);RS(r,t,n),DS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await VS(r,e)}catch(n){await Jv(n)}}function DS(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function RS(e,t,n){const r=kv(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function LS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||MS(e,t)})}function MS(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(LE(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),FS(e))}function OS(e,t,n){for(const r of n)r instanceof vS?(e.Ic.addReference(r.key,t),jS(e,r)):r instanceof bS?(gv("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||MS(e,r.key)):wv()}function jS(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(gv("SyncEngine","New document in limbo: "+n),e.mc.add(r),FS(e))}function FS(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new qv(Bv.fromString(t)),r=e.Ac.next();e.yc.set(r,new kS(n)),e.gc=e.gc.insert(n,r),RE(e.remoteStore,new Dk(Iw(kw(n.path)),r,"TargetPurposeLimboResolution",tb.ct))}}async function VS(e,t,n){const r=kv(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((e,a)=>{o.push(r.Rc(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=eE.Li(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=kv(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Zv.forEach(t,t=>Zv.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Zv.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!eb(e))throw e;gv("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function US(e,t){const n=kv(e);if(!n.currentUser.isEqual(t)){gv("SyncEngine","User change. New user:",t.toKey());const e=await iE(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Sv(Ev.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await VS(n,e.er)}}function BS(e,t){const n=kv(e),r=n.yc.get(t);if(r&&r.fc)return Qw().add(r.key);{let e=Qw();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function zS(e){const t=kv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_S.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NS.bind(null,t),t.dc.nu=pS.bind(null,t.eventManager),t.dc.Pc=mS.bind(null,t.eventManager),t}function $S(e){const t=kv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PS.bind(null,t),t}class qS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=EE(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rE(this.persistence,new tE,e.initialUser,this.serializer)}createPersistence(e){return new Xk(Zk.zs,this.serializer)}createSharedClientState(e){return new fE}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class WS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>IS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=US.bind(null,this.syncEngine),await nS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new dS}createDatastore(e){const t=EE(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new xE(r));var r;return function(e,t,n,r){return new IE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>IS(this.syncEngine,e,0),s=mE.D()?new mE:new pE,new AE(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ES(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=kv(e);gv("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await DE(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class HS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):yv("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class KS{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=hv.UNAUTHENTICATED,this.clientId=Mv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{gv("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(gv("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Sv(Ev.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(iN){const n=oS(iN,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function GS(e,t){e.asyncQueue.verifyOperationInProgress(),gv("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await iE(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function QS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await XS(e);gv("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>tS(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>tS(t.remoteStore,n)),e._onlineComponents=t}function YS(e){return"FirebaseError"===e.name?e.code===Ev.FAILED_PRECONDITION||e.code===Ev.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function XS(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){gv("FirestoreClient","Using user provided OfflineComponentProvider");try{await GS(e,e._uninitializedComponentsProvider._offline)}catch(iN){const n=iN;if(!YS(n))throw n;vv("Error using user provided cache. Falling back to memory cache: "+n),await GS(e,new qS)}}else gv("FirestoreClient","Using default OfflineComponentProvider"),await GS(e,new qS);return e._offlineComponents}async function JS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(gv("FirestoreClient","Using user provided OnlineComponentProvider"),await QS(e,e._uninitializedComponentsProvider._online)):(gv("FirestoreClient","Using default OnlineComponentProvider"),await QS(e,new WS))),e._onlineComponents}function ZS(e){return JS(e).then(e=>e.syncEngine)}async function eT(e){const t=await JS(e),n=t.eventManager;return n.onListen=SS.bind(null,t.syncEngine),n.onUnlisten=CS.bind(null,t.syncEngine),n}function tT(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const nT=new Map;function rT(e,t,n){if(!n)throw new Sv(Ev.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function iT(e){if(!qv.isDocumentKey(e))throw new Sv(Ev.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sT(e){if(qv.isDocumentKey(e))throw new Sv(Ev.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function oT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":wv()}function aT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sv(Ev.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oT(e);throw new Sv(Ev.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class lT{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Sv(Ev.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Sv(Ev.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Sv(Ev.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tT(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Sv(Ev.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Sv(Ev.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Sv(Ev.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class cT{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Sv(Ev.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Sv(Ev.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _v;switch(e.type){case"firstParty":return new Pv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Sv(Ev.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nT.get(e);t&&(gv("ComponentProvider","Removing Datastore"),nT.delete(e),t.terminate())}(this),Promise.resolve()}}function uT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=aT(e,cT))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&vv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=hv.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Sv(Ev.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new hv(s)}e._authCredentials=new Iv(new Cv(t,n))}}class dT{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fT(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dT(this.firestore,e,this._key)}}class hT{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hT(this.firestore,e,this._query)}}class fT extends hT{constructor(e,t,n){super(e,t,kw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dT(this.firestore,null,new qv(e))}withConverter(e){return new fT(this.firestore,e,this._path)}}function pT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nt(e),rT("collection","path",t),e instanceof cT){const n=Bv.fromString(t,...r);return sT(n),new fT(e,null,n)}{if(!(e instanceof dT||e instanceof fT))throw new Sv(Ev.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bv.fromString(t,...r));return sT(n),new fT(e.firestore,null,n)}}function mT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nt(e),1===arguments.length&&(t=Mv.A()),rT("doc","path",t),e instanceof cT){const n=Bv.fromString(t,...r);return iT(n),new dT(e,null,new qv(n))}{if(!(e instanceof dT||e instanceof fT))throw new Sv(Ev.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bv.fromString(t,...r));return iT(n),new dT(e.firestore,e instanceof fT?e.converter:null,new qv(n))}}class gT{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new SE(this,"async_queue_retry"),this.Xc=()=>{const e=kE();e&&gv("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=kE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=kE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Tv;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!eb(e))throw e;gv("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw yv("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=sS.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&wv()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function yT(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class vT extends cT{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new gT,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wT(this),this._firestoreClient.terminate()}}function bT(e){return e._firestoreClient||wT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wT(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Cb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,tT(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new KS(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class xT{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xT(vb.fromBase64String(e))}catch(e){throw new Sv(Ev.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new xT(vb.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Sv(Ev.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $v(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ET{constructor(e){this._methodName=e}}class ST{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Sv(Ev.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Sv(Ev.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ov(this._lat,e._lat)||Ov(this._long,e._long)}}const TT=/^__.*__$/;class CT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Sx(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ex(e,this.data,t,this.fieldTransforms)}}class _T{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Sx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function IT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wv()}}class NT{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new NT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return WT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(IT(this.ca)&&TT.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class AT{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||EE(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new NT({ca:e,methodName:t,ga:n,path:$v.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PT(e){const t=e._freezeSettings(),n=EE(e._databaseId);return new AT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DT(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);BT("Data must be an object, but it was:",o,r);const a=VT(r,o);let l,c;if(s.merge)l=new gb(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=zT(t,r,n);if(!o.contains(i))throw new Sv(Ev.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);HT(e,i)||e.push(i)}l=new gb(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new CT(new qb(a),l,c)}class RT extends ET{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof RT}}class LT extends ET{_toFieldTransform(e){return new fx(e.path,new sx)}isEqual(e){return e instanceof LT}}function MT(e,t,n,r){const i=e.ya(1,t,n);BT("Data must be an object, but it was:",i,r);const s=[],o=qb.empty();cb(r,(e,r)=>{const a=qT(t,e,n);r=nt(r);const l=i.da(a);if(r instanceof RT)s.push(a);else{const e=FT(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new gb(s);return new _T(o,a,i.fieldTransforms)}function OT(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[zT(t,r,n)],l=[i];if(s.length%2!=0)throw new Sv(Ev.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(zT(t,s[h])),l.push(s[h+1]);const c=[],u=qb.empty();for(let h=a.length-1;h>=0;--h)if(!HT(c,a[h])){const e=a[h];let t=l[h];t=nt(t);const n=o.da(e);if(t instanceof RT)c.push(e);else{const r=FT(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new gb(c);return new _T(u,d,o.fieldTransforms)}function jT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return FT(n,e.ya(r?4:3,t))}function FT(e,t){if(UT(e=nt(e)))return BT("Unsupported field value:",t,e),VT(e,t);if(e instanceof ET)return function(e,t){if(!IT(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=FT(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=nt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ex(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Fv.fromDate(e);return{timestampValue:ok(t.serializer,n)}}if(e instanceof Fv){const n=new Fv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ok(t.serializer,n)}}if(e instanceof ST)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof xT)return{bytesValue:ak(t.serializer,e._byteString)};if(e instanceof dT){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:uk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${oT(e)}`)}(e,t)}function VT(e,t){const n={};return ub(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cb(e,(e,r)=>{const i=FT(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function UT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Fv||e instanceof ST||e instanceof xT||e instanceof dT||e instanceof ET)}function BT(e,t,n){if(!UT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=oT(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function zT(e,t,n){if((t=nt(t))instanceof kT)return t._internalPath;if("string"==typeof t)return qT(e,t);throw WT("Field path arguments must be of type string or ",e,!1,void 0,n)}const $T=new RegExp("[~\\*/\\[\\]]");function qT(e,t,n){if(t.search($T)>=0)throw WT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new kT(...t.split("."))._internalPath}catch(r){throw WT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function WT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Sv(Ev.INVALID_ARGUMENT,a+e+l)}function HT(e,t){return e.some(e=>e.isEqual(t))}class KT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dT(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new GT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class GT extends KT{data(){return super.data()}}function QT(e,t){return"string"==typeof t?qT(e,t):t instanceof kT?t._internalPath:t._delegate._internalPath}function YT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Sv(Ev.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XT{}class JT extends XT{}class ZT extends JT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ZT(e,t,n)}_apply(e){const t=this._parse(e);return rC(e._query,t),new hT(e.firestore,e.converter,Nw(e._query,t))}_parse(e){const t=PT(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Sv(Ev.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){nC(o,s);const t=[];for(const n of o)t.push(tC(r,e,n));a={arrayValue:{values:t}}}else a=tC(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||nC(o,s),a=jT(n,"where",o,"in"===s||"not-in"===s);return Zb.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class eC extends XT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new eC(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ew.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)rC(n,i),n=Nw(n,i)}(e._query,t),new hT(e.firestore,e.converter,Nw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function tC(e,t,n){if("string"==typeof(n=nt(n))){if(""===n)throw new Sv(Ev.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cw(t)&&-1!==n.indexOf("/"))throw new Sv(Ev.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Bv.fromString(n));if(!qv.isDocumentKey(r))throw new Sv(Ev.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ob(e,new qv(r))}if(n instanceof dT)return Ob(e,n._key);throw new Sv(Ev.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oT(n)}.`)}function nC(e,t){if(!Array.isArray(e)||0===e.length)throw new Sv(Ev.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rC(e,t){if(t.isInequality()){const n=Tw(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Sv(Ev.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=Sw(e);null!==i&&iC(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Sv(Ev.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Sv(Ev.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function iC(e,t,n){if(!n.isEqual(t))throw new Sv(Ev.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class sC{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Nb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wv()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return cb(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new ST(xb(e.latitude),xb(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Sb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Tb(e));default:return null}}convertTimestamp(e){const t=wb(e);return new Fv(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Bv.fromString(e);xv(Pk(n));const r=new _b(n.get(1),n.get(3)),i=new qv(n.popFirst(5));return r.isEqual(t)||yv(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function oC(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class aC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lC extends KT{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new cC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(QT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class cC extends lC{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class uC{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new aC(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new cC(this._firestore,this._userDataWriter,n.key,n,new aC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Sv(Ev.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new cC(e._firestore,e._userDataWriter,n.doc.key,n.doc,new aC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new cC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:dC(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function dC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wv()}}class hC extends sC{constructor(e){super(),this.firestore=e}convertBytes(e){return new xT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dT(this.firestore,null,t)}}function fC(e,t){return function(e,t){const n=new Tv;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=$S(e);try{const e=await function(e,t){const n=kv(e),r=Fv.now(),i=t.reduce((e,t)=>e.add(t.key),Qw());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Uw(),l=Qw();return n.Zi.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=xx(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Sx(e.key,t,Wb(t.value.mapValue),mx.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:$w(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new db(Ov)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await VS(r,e.changes),await HE(r.remoteStore)}catch(e){const t=oS(e,"Failed to persist write");n.reject(t)}}(await ZS(e),t,n)),n.promise}(bT(e),t)}function pC(e,t,n){const r=n.docs.get(t._key),i=new hC(e);return new lC(e,i,t._key,r,new aC(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fv=e}(pn),un(new rt("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new vT(new Nv(e.getProvider("auth-internal")),new Rv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sv(Ev.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _b(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),yn(dv,"3.13.0",e),yn(dv,"3.13.0","esm2017")}();let mC,gC;const yC=new WeakMap,vC=new WeakMap,bC=new WeakMap,wC=new WeakMap,xC=new WeakMap;let kC={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vC.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bC.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return TC(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function EC(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gC||(gC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(CC(this),n),TC(yC.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return TC(e.apply(CC(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(CC(this),t,...r);return bC.set(s,t.sort?t.sort():[t]),TC(s)}}function SC(e){return"function"===typeof e?EC(e):(e instanceof IDBTransaction&&function(e){if(vC.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});vC.set(e,t)}(e),t=e,(mC||(mC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,kC):e);var t}function TC(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(TC(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&yC.set(t,e)}).catch(()=>{}),xC.set(t,e),t}(e);if(wC.has(e))return wC.get(e);const t=SC(e);return t!==e&&(wC.set(e,t),xC.set(t,e)),t}const CC=e=>xC.get(e);const _C=["get","getKey","getAll","getAllKeys","count"],IC=["put","add","delete","clear"],NC=new Map;function AC(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(NC.get(t))return NC.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=IC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_C.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return NC.set(t,s),s}!function(e){kC=e(kC)}(e=>({...e,get:(t,n,r)=>AC(t,n)||e.get(t,n,r),has:(t,n)=>!!AC(t,n)||e.has(t,n)}));const PC="@firebase/installations",DC="0.6.4",RC=1e4,LC=`w:${DC}`,MC="FIS_v2",OC=36e5,jC=new Ke("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function FC(e){return e instanceof He&&e.code.includes("request-failed")}function VC(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function UC(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function BC(e,t){const n=(await t.json()).error;return jC.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function zC(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $C(e,t){let{refreshToken:n}=t;const r=zC(e);return r.append("Authorization",function(e){return`${MC} ${e}`}(n)),r}async function qC(e){const t=await e();return t.status>=500&&t.status<600?e():t}function WC(e){return new Promise(t=>{setTimeout(t,e)})}const HC=/^[cdef][\w-]{21}$/;function KC(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return HC.test(t)?t:""}catch(sN){return""}}function GC(e){return`${e.appName}!${e.appId}`}const QC=new Map;function YC(e,t){const n=GC(e);XC(n,t),function(e,t){const n=ZC();n&&n.postMessage({key:e,fid:t});e_()}(n,t)}function XC(e,t){const n=QC.get(e);if(n)for(const r of n)r(t)}let JC=null;function ZC(){return!JC&&"BroadcastChannel"in self&&(JC=new BroadcastChannel("[Firebase] FID Change"),JC.onmessage=e=>{XC(e.data.key,e.data.fid)}),JC}function e_(){0===QC.size&&JC&&(JC.close(),JC=null)}const t_="firebase-installations-store";let n_=null;function r_(){return n_||(n_=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=TC(o);return r&&o.addEventListener("upgradeneeded",e=>{r(TC(o.result),e.oldVersion,e.newVersion,TC(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(t_)}})),n_}async function i_(e,t){const n=GC(e),r=(await r_()).transaction(t_,"readwrite"),i=r.objectStore(t_),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||YC(e,t.fid),t}async function s_(e){const t=GC(e),n=(await r_()).transaction(t_,"readwrite");await n.objectStore(t_).delete(t),await n.done}async function o_(e,t){const n=GC(e),r=(await r_()).transaction(t_,"readwrite"),i=r.objectStore(t_),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||YC(e,o.fid),o}async function a_(e){let t;const n=await o_(e.appConfig,n=>{const r=function(e){const t=e||{fid:KC(),registrationStatus:0};return u_(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(jC.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=VC(n),o=zC(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:MC,appId:n.appId,sdkVersion:LC},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await qC(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:UC(e.authToken)}}throw await BC("Create Installation",u)}(e,t);return i_(e.appConfig,n)}catch(iN){throw FC(iN)&&409===iN.customData.serverCode?await s_(e.appConfig):await i_(e.appConfig,{fid:t.fid,registrationStatus:0}),iN}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:l_(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function l_(e){let t=await c_(e.appConfig);for(;1===t.registrationStatus;)await WC(100),t=await c_(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await a_(e);return n||t}return t}function c_(e){return o_(e,e=>{if(!e)throw jC.create("installation-not-found");return u_(e)})}function u_(e){return 1===(t=e).registrationStatus&&t.registrationTime+RC<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function d_(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${VC(e)}/${n}/authTokens:generate`}(n,t),s=$C(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:LC,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await qC(()=>fetch(i,l));if(c.ok){return UC(await c.json())}throw await BC("Generate Auth Token",c)}async function h_(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await o_(e.appConfig,r=>{if(!p_(r))throw jC.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+OC}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await f_(e.appConfig);for(;1===n.authToken.requestStatus;)await WC(100),n=await f_(e.appConfig);const r=n.authToken;return 0===r.requestStatus?h_(e,t):r}(e,n),r;{if(!navigator.onLine)throw jC.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await d_(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await i_(e.appConfig,r),n}catch(iN){if(!FC(iN)||401!==iN.customData.serverCode&&404!==iN.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await i_(e.appConfig,n)}else await s_(e.appConfig);throw iN}}(e,n),n}});return t?await t:r.authToken}function f_(e){return o_(e,e=>{if(!p_(e))throw jC.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+RC<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function p_(e){return void 0!==e&&2===e.registrationStatus}async function m_(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await a_(e);t&&await t}(n);return(await h_(n,t)).token}function g_(e){return jC.create("missing-app-config-values",{valueName:e})}const y_="installations",v_=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw g_("App Configuration");if(!e.name)throw g_("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw g_(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:dn(t,"heartbeat"),_delete:()=>Promise.resolve()}},b_=e=>{const t=dn(e.getProvider("app").getImmediate(),y_).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await a_(t);return r?r.catch(console.error):h_(t).catch(console.error),n.fid}(t),getToken:e=>m_(t,e)}};un(new rt(y_,v_,"PUBLIC")),un(new rt("installations-internal",b_,"PRIVATE")),yn(PC,DC),yn(PC,DC,"esm2017");let w_,x_;const k_=new WeakMap,E_=new WeakMap,S_=new WeakMap,T_=new WeakMap,C_=new WeakMap;let __={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return E_.get(e);if("objectStoreNames"===t)return e.objectStoreNames||S_.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return A_(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function I_(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(P_(this),n),A_(k_.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A_(e.apply(P_(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(P_(this),t,...r);return S_.set(s,t.sort?t.sort():[t]),A_(s)}}function N_(e){return"function"===typeof e?I_(e):(e instanceof IDBTransaction&&function(e){if(E_.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});E_.set(e,t)}(e),t=e,(w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,__):e);var t}function A_(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(A_(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&k_.set(t,e)}).catch(()=>{}),C_.set(t,e),t}(e);if(T_.has(e))return T_.get(e);const t=N_(e);return t!==e&&(T_.set(e,t),C_.set(t,e)),t}const P_=e=>C_.get(e);function D_(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=A_(o);return r&&o.addEventListener("upgradeneeded",e=>{r(A_(o.result),e.oldVersion,e.newVersion,A_(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function R_(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),A_(n).then(()=>{})}const L_=["get","getKey","getAll","getAllKeys","count"],M_=["put","add","delete","clear"],O_=new Map;function j_(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(O_.get(t))return O_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=M_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!L_.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return O_.set(t,s),s}!function(e){__=e(__)}(e=>({...e,get:(t,n,r)=>j_(t,n)||e.get(t,n,r),has:(t,n)=>!!j_(t,n)||e.has(t,n)}));const F_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",V_="google.c.a.c_id";var U_,B_;function z_(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $_(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(U_||(U_={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(B_||(B_={}));const q_="fcm_token_details_db",W_="fcm_token_object_Store";const H_="firebase-messaging-store";let K_=null;function G_(){return K_||(K_=D_("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(H_)}})),K_}async function Q_(e){const t=X_(e),n=await G_(),r=await n.transaction(H_).objectStore(H_).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(q_))return null}let t=null;const n=await D_(q_,5,{upgrade:async(n,r,i,s)=>{var o;if(r<2)return;if(!n.objectStoreNames.contains(W_))return;const a=s.objectStore(W_),l=await a.index("fcmSenderId").get(e);if(await a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(o=e.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:z_(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:z_(e.auth),p256dh:z_(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:z_(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:z_(e.auth),p256dh:z_(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:z_(e.vapidKey)}}}}});return n.close(),await R_(q_),await R_("fcm_vapid_details_db"),await R_("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Y_(e,t),t}}async function Y_(e,t){const n=X_(e),r=(await G_()).transaction(H_,"readwrite");return await r.objectStore(H_).put(t,n),await r.done,t}function X_(e){let{appConfig:t}=e;return t.appId}const J_=new Ke("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Z_(e,t){const n={method:"DELETE",headers:await tI(e)};try{const r=await fetch(`${eI(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw J_.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw J_.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function eI(e){let{projectId:t}=e;return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}async function tI(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function nI(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const s={web:{endpoint:r,auth:n,p256dh:t}};return i!==F_&&(s.web.applicationPubKey=i),s}async function rI(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$_(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:z_(t.getKey("auth")),p256dh:z_(t.getKey("p256dh"))},r=await Q_(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await tI(e),r=nI(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch(`${eI(e.appConfig)}/${t.token}`,i);s=await n.json()}catch(o){throw J_.create("token-update-failed",{errorInfo:null===o||void 0===o?void 0:o.toString()})}if(s.error){const e=s.error.message;throw J_.create("token-update-failed",{errorInfo:e})}if(!s.token)throw J_.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Y_(e.firebaseDependencies,r),n}catch(iN){throw await iI(e),iN}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Z_(e.firebaseDependencies,r.token)}catch(iN){console.warn(iN)}return sI(e.firebaseDependencies,n)}return sI(e.firebaseDependencies,n)}async function iI(e){const t=await Q_(e.firebaseDependencies);t&&(await Z_(e.firebaseDependencies,t.token),await async function(e){const t=X_(e),n=(await G_()).transaction(H_,"readwrite");await n.objectStore(H_).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function sI(e,t){const n=await async function(e,t){const n=await tI(e),r=nI(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=await fetch(eI(e.appConfig),i);s=await t.json()}catch(o){throw J_.create("token-subscribe-failed",{errorInfo:null===o||void 0===o?void 0:o.toString()})}if(s.error){const e=s.error.message;throw J_.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw J_.create("token-subscribe-no-token");return s.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await Y_(e,r),r.token}function oI(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=t.notification)||void 0===s?void 0:s.click_action;a&&(e.fcmOptions.link=a);const l=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function aI(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function lI(e){return J_.create("missing-app-config-values",{valueName:e})}aI("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),aI("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cI{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw lI("App Configuration Object");if(!e.name)throw lI("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw lI(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function uI(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{})}catch(iN){throw J_.create("failed-service-worker-registration",{browserErrorMessage:null===iN||void 0===iN?void 0:iN.message})}}async function dI(e,t){if(!navigator)throw J_.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw J_.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=F_)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await uI(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw J_.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),rI(e)}async function hI(e,t,n){const r=function(e){switch(e){case B_.NOTIFICATION_CLICKED:return"notification_open";case B_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[V_],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function fI(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===B_.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(oI(n)):e.onMessageHandler.next(oI(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&V_ in e})(r)&&"1"===r["google.c.a.e"]&&await hI(e,n.messageType,r)}const pI="@firebase/messaging",mI="0.12.4",gI=e=>{const t=new cI(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>fI(t,e)),t},yI=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>dI(t,e)}};async function vI(){try{await We()}catch(iN){return!1}return"undefined"!==typeof window&&qe()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function bI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn();return vI().then(e=>{if(!e)throw J_.create("unsupported-browser")},e=>{throw J_.create("indexed-db-unsupported")}),dn(nt(e),"messaging").getImmediate()}async function wI(e,t){return dI(e=nt(e),t)}function xI(e,t){return function(e,t){if(!navigator)throw J_.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=nt(e),t)}un(new rt("messaging",gI,"PUBLIC")),un(new rt("messaging-internal",yI,"PRIVATE")),yn(pI,mI),yn(pI,mI,"esm2017");const kI=mn({apiKey:"AIzaSyCS9fF81NIw-w6KecO6jefZUMOZQBFNFxU",authDomain:"agenda-f1799.firebaseapp.com",projectId:"agenda-f1799",storageBucket:"agenda-f1799.firebasestorage.app",messagingSenderId:"210697546824",appId:"1:210697546824:web:6b41e48f381c949790bc7d"}),EI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn();const t=dn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=dn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Qe(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ln(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ks,persistence:[Mi,vi,wi]}),r=Be("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Cs)return;const r=null===t||void 0===t?void 0:t.token;_s!==r&&(_s=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){nt(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){nt(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const s=Ve("auth");return s&&zr(n,`http://${s}`),n}(kI),SI=function(e,t){const n="string"==typeof e?e:t||"(default)",r=dn("object"==typeof e?e:gn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Ve(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&uT(r,...e)}return r}(kI);let TI=null;(async()=>{try{await vI()?(TI=bI(kI),console.log("Firebase Messaging initialized successfully")):console.log("Firebase Messaging not supported in this environment")}catch(e){console.log("Error initializing Firebase Messaging:",e)}})();const CI=n.p+"static/media/mistatas-logo.7c89d817c1ea0e958a70.png";var _I=n(414);const II=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),{register:s,handleSubmit:o,formState:{errors:a}}=Yo();return(0,_I.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background to-accent/20 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:(0,_I.jsxs)(qf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-primary/10 dark:bg-gray-800 backdrop-blur-sm rounded-lg shadow-xl p-8 w-full max-w-md border border-white/20 dark:border-gray-700",children:[(0,_I.jsxs)("div",{className:"text-center mb-8",children:[(0,_I.jsx)("div",{className:"mx-auto mb-4 flex justify-center",children:(0,_I.jsx)("img",{src:CI,alt:"MisTatas",className:"h-12 w-auto"})}),(0,_I.jsx)("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"Agenda Empresarial"}),(0,_I.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Gestiona tus reuniones corporativas"}),n&&(0,_I.jsx)("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-400 rounded",children:n})]}),(0,_I.jsxs)("form",{onSubmit:o(async e=>{t(!0),r(null);try{await function(e,t,n){return pi(nt(e),ei.credential(t,n))}(EI,e.email,e.password)}catch(n){console.error("Login error:",n);let t="Error al iniciar sesi\xf3n. Verifica tus credenciales.";"auth/user-not-found"===n.code?t="No existe una cuenta con este email.":"auth/wrong-password"===n.code?t="Contrase\xf1a incorrecta.":"auth/invalid-email"===n.code?t="Email inv\xe1lido.":"auth/user-disabled"===n.code?t="Esta cuenta ha sido deshabilitada.":"auth/too-many-requests"===n.code?t="Demasiados intentos fallidos. Intenta m\xe1s tarde.":"auth/invalid-credential"===n.code&&(t="Credenciales inv\xe1lidas. Verifica tu email y contrase\xf1a."),r(t)}finally{t(!1)}}),className:"space-y-6",children:[(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Correo Electr\xf3nico"}),(0,_I.jsx)("input",{type:"email",id:"email",...s("email",{required:"El email es requerido",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email inv\xe1lido"}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"tu@empresa.com"}),a.email&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:a.email.message})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contrase\xf1a"}),(0,_I.jsx)("input",{type:"password",id:"password",...s("password",{required:"La contrase\xf1a es requerida",minLength:{value:6,message:"La contrase\xf1a debe tener al menos 6 caracteres"}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),a.password&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:a.password.message})]}),(0,_I.jsx)(qf.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:e,className:"w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-primary/90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:e?(0,_I.jsxs)("div",{className:"flex items-center justify-center",children:[(0,_I.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesi\xf3n..."]}):"Iniciar Sesi\xf3n"})]}),(0,_I.jsx)("div",{className:"mt-8 text-center",children:(0,_I.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Acceso exclusivo para personal autorizado"})})]})})};function NI(){const e=(0,i.useRef)(!1);return ta(()=>(e.current=!0,()=>{e.current=!1}),[]),e}class AI extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PI(e){let{children:t,isPresent:n}=e;const r=(0,i.useId)(),s=(0,i.useRef)(null),o=(0,i.useRef)({width:0,height:0,top:0,left:0});return(0,i.useInsertionEffect)(()=>{const{width:e,height:t,top:i,left:a}=o.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${i}px !important;\n            left: ${a}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}},[n]),i.createElement(AI,{isPresent:n,childRef:s,sizeRef:o},i.cloneElement(t,{ref:s}))}const DI=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:l}=e;const c=kl(RI),u=(0,i.useId)(),d=(0,i.useMemo)(()=>({id:u,initial:n,isPresent:r,custom:o,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},register:e=>(c.set(e,!1),()=>c.delete(e))}),a?void 0:[r]);return(0,i.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),i.useEffect(()=>{!r&&!c.size&&s&&s()},[r]),"popLayout"===l&&(t=i.createElement(PI,{isPresent:r},t)),i.createElement(Zo.Provider,{value:d},t)};function RI(){return new Map}const LI=e=>e.key||"";const MI=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,exitBeforeEnter:o,presenceAffectsLayout:a=!0,mode:l="sync"}=e;lc(!o,"Replace exitBeforeEnter with mode='wait'");const c=(0,i.useContext)(ga).forceRender||function(){const e=NI(),[t,n]=(0,i.useState)(0),r=(0,i.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,i.useCallback)(()=>Pl.postRender(r),[r]),t]}()[0],u=NI(),d=function(e){const t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}(t);let h=d;const f=(0,i.useRef)(new Map).current,p=(0,i.useRef)(h),m=(0,i.useRef)(new Map).current,g=(0,i.useRef)(!0);if(ta(()=>{g.current=!1,function(e,t){e.forEach(e=>{const n=LI(e);t.set(n,e)})}(d,m),p.current=h}),function(e){(0,i.useEffect)(()=>()=>e(),[])}(()=>{g.current=!0,m.clear(),f.clear()}),g.current)return i.createElement(i.Fragment,null,h.map(e=>i.createElement(DI,{key:LI(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:a,mode:l},e)));h=[...h];const y=p.current.map(LI),v=d.map(LI),b=y.length;for(let i=0;i<b;i++){const e=y[i];-1!==v.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(h=[]),f.forEach((e,t)=>{if(-1!==v.indexOf(t))return;const r=m.get(t);if(!r)return;const o=y.indexOf(t);let g=e;if(!g){const e=()=>{f.delete(t);const e=Array.from(m.keys()).filter(e=>!v.includes(e));if(e.forEach(e=>m.delete(e)),p.current=d.filter(n=>{const r=LI(n);return r===t||e.includes(r)}),!f.size){if(!1===u.current)return;c(),s&&s()}};g=i.createElement(DI,{key:LI(r),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:a,mode:l},r),f.set(t,g)}h.splice(o,0,g)}),h=h.map(e=>{const t=e.key;return f.has(t)?e:i.createElement(DI,{key:LI(e),isPresent:!0,presenceAffectsLayout:a,mode:l},e)}),i.createElement(i.Fragment,null,f.size?h:h.map(e=>(0,i.cloneElement)(e)))},OI=(0,i.createContext)(void 0),jI=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(()=>{const e=localStorage.getItem("theme");return e?"dark"===e:window.matchMedia("(prefers-color-scheme: dark)").matches});(0,i.useEffect)(()=>{localStorage.setItem("theme",n?"dark":"light"),n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);return(0,_I.jsx)(OI.Provider,{value:{isDark:n,toggleTheme:()=>{r(e=>!e)}},children:t})},FI=()=>{const{isDark:e,toggleTheme:t}=(()=>{const e=(0,i.useContext)(OI);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e})();return(0,_I.jsx)(qf.button,{onClick:t,className:"relative w-14 h-7 bg-gray-200 dark:bg-gray-600 rounded-full transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-opacity-50",whileTap:{scale:.95},children:(0,_I.jsx)(qf.div,{className:"absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full shadow-md flex items-center justify-center",animate:{x:e?28:0},transition:{type:"spring",stiffness:500,damping:30},children:e?(0,_I.jsx)("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,_I.jsx)("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):(0,_I.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,_I.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})})},VI=()=>(0,_I.jsx)("header",{className:"bg-primary dark:bg-gray-800 text-white shadow-lg transition-colors duration-300",children:(0,_I.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_I.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,_I.jsxs)("div",{className:"flex items-center",children:[(0,_I.jsx)("img",{src:CI,alt:"MisTatas",className:"h-8 w-auto mr-3"}),(0,_I.jsx)("h1",{className:"text-xl font-bold",children:"Agenda Empresarial"})]}),(0,_I.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,_I.jsx)(FI,{}),(0,_I.jsx)("button",{onClick:async()=>{try{await function(e){return nt(e).signOut()}(EI)}catch(e){console.error("Error signing out:",e)}},className:"bg-primary-dark hover:bg-accent hover:text-primary transition-colors px-3 py-2 rounded-md text-sm font-medium",children:"Cerrar Sesi\xf3n"})]})]})})}),UI=e=>{let{event:t,onClick:n,onEdit:r,onDelete:s}=e;const[o,a]=(0,i.useState)(!1),l=new Date(`${t.date}T${t.time}`),c=["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"][l.getDay()],u=l.getDate(),d=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][l.getMonth()];return(0,_I.jsxs)(qf.div,{whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},className:"relative flex flex-col gap-3 h-48 text-gray-800 dark:text-white rounded-xl shadow-lg p-6 max-w-[280px] w-full bg-white/60 dark:bg-gray-800/60 backdrop-filter backdrop-blur-lg border border-white/30 dark:border-gray-600/30 cursor-pointer hover:bg-white/70 dark:hover:bg-gray-800/70 transition-all duration-300",onClick:n,children:[(0,_I.jsxs)("div",{className:"flex justify-between items-start",children:[(0,_I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_I.jsx)("span",{className:"text-2xl",children:(h=t.clientType,{empresa:"\ud83c\udfe2",municipalidad:"\ud83c\udfdb\ufe0f",particular:"\ud83d\udc64",otro:"\ud83d\udccb"}[h]||"\ud83d\udcc5")}),(0,_I.jsxs)("div",{className:"text-sm opacity-90",children:[(0,_I.jsx)("div",{className:"font-medium",children:c}),(0,_I.jsxs)("div",{className:"text-xs",children:[u," ",d]})]})]}),(0,_I.jsxs)("div",{className:"relative",children:[(0,_I.jsx)("button",{onClick:e=>{e.stopPropagation(),a(!o)},className:"p-1 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors rounded-full hover:bg-white/20 dark:hover:bg-gray-700/20",children:(0,_I.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),(0,_I.jsx)(MI,{children:o&&(0,_I.jsxs)(qf.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-full mt-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-lg shadow-lg border border-white/30 dark:border-gray-600/30 py-1 z-20 min-w-[120px]",children:[(0,_I.jsxs)("button",{onClick:e=>{e.stopPropagation(),r&&r(t),a(!1)},className:"w-full px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-white/50 dark:hover:bg-gray-700/50 flex items-center gap-2",children:[(0,_I.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),(0,_I.jsxs)("button",{onClick:e=>{if(e.stopPropagation(),s&&t.id){window.confirm(`\xbfEst\xe1s seguro de que quieres eliminar la reuni\xf3n:\n\n"${t.title}" con ${t.client}?\n\nEsta acci\xf3n no se puede deshacer.`)&&s(t.id)}a(!1)},className:"w-full px-3 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-100/50 dark:hover:bg-red-900/30 flex items-center gap-2",children:[(0,_I.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})})]})]}),(0,_I.jsxs)("div",{className:"flex-1",children:[(0,_I.jsx)("h3",{className:"font-semibold text-2xl tracking-tight leading-tight line-clamp-2 mb-1",children:t.title}),(0,_I.jsx)("p",{className:"font-normal text-sm opacity-90 truncate",children:t.clientName||t.client})]}),(0,_I.jsxs)("div",{className:"flex justify-between items-end",children:[(0,_I.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,_I.jsx)("svg",{className:"w-4 h-4 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,_I.jsx)("span",{className:"font-medium",children:t.time})]}),t.status&&(0,_I.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,_I.jsx)("div",{className:"w-2 h-2 rounded-full "+("confirmado"===t.status?"bg-green-500":"realizado"===t.status?"bg-blue-500":"cancelado"===t.status?"bg-red-500":"bg-yellow-500")}),(0,_I.jsx)("span",{className:"font-medium "+("confirmado"===t.status?"text-green-700 dark:text-green-400":"realizado"===t.status?"text-blue-700 dark:text-blue-400":"cancelado"===t.status?"text-red-700 dark:text-red-400":"text-yellow-700 dark:text-yellow-400"),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]})]}),"      ",t.platform&&(0,_I.jsx)("div",{className:"absolute top-2 right-2 opacity-60",children:"presencial"===t.platform?(0,_I.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}):(0,_I.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"})})}),o&&(0,_I.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)})]});var h},BI=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{const e=function(e,t,n,r){return nt(e).onAuthStateChanged(t,n,r)}(EI,e=>{t(e),r(!1)});return e},[]),{user:e,loading:n}},zI=()=>({deleteEvent:async e=>{try{console.log("Deleting event:",e),await(t=mT(SI,"events",e),fC(aT(t.firestore,vT),[new Ix(t._key,mx.none())])),console.log("\u2705 Event deleted successfully")}catch(n){throw console.error("\u274c Error deleting event:",n),n}var t},updateEvent:async(e,t)=>{try{console.log("Updating event:",e,t);const n=mT(SI,"events",e);await function(e,t,n){e=aT(e,dT);const r=aT(e.firestore,vT),i=PT(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=nt(t))||t instanceof kT?OT(i,"updateDoc",e._key,t,n,a):MT(i,"updateDoc",e._key,t),fC(r,[s.toMutation(e._key,mx.exists(!0))])}(n,t),console.log("\u2705 Event updated successfully")}catch(n){throw console.error("\u274c Error updating event:",n),n}}}),$I=e=>{let{onClose:t,onSuccess:n,editEvent:r=null}=e;const{user:s}=BI(),{updateEvent:o}=zI(),{register:a,handleSubmit:l,reset:c,formState:{errors:u,isSubmitting:d}}=Yo(),h=!!r;(0,i.useEffect)(()=>{c(r?{title:r.title,client:r.client,date:r.date,time:r.time,notes:r.notes||"",alertMinutesBefore:r.alertMinutesBefore||15,clientType:r.clientType||"empresa",clientName:r.clientName||r.client,contactPerson:r.contactPerson||"",scheduledBy:r.scheduledBy||(null===s||void 0===s?void 0:s.email)||"",address:r.address||"",meetingLink:r.meetingLink||"",platform:r.platform||"presencial",status:r.status||"pendiente",minutes:r.minutes||""}:{title:"",client:"",clientName:"",date:"",time:"",notes:"",alertMinutesBefore:15,clientType:"empresa",contactPerson:"",scheduledBy:(null===s||void 0===s?void 0:s.email)||"",address:"",meetingLink:"",platform:"presencial",status:"pendiente",minutes:""})},[r,c,s]);return(0,_I.jsx)(qf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:(0,_I.jsxs)(qf.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,_I.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,_I.jsx)("h2",{className:"text-xl font-bold text-primary dark:text-white",children:h?"Editar Evento":"Nuevo Evento"}),(0,_I.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 transition-colors",children:(0,_I.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,_I.jsxs)("form",{onSubmit:l(async e=>{if(!s)return console.error("No user found"),void alert("Error: Usuario no autenticado");console.log("Submitting event data:",e),console.log("User UID:",s.uid),console.log("Is editing:",h);const t={...e,client:e.clientName||e.client,userId:s.uid};try{if(h&&null!==r&&void 0!==r&&r.id)await o(r.id,t),console.log("Event updated successfully"),alert("Evento actualizado exitosamente");else{console.log("Event data to save:",t);const e=await function(e,t){const n=aT(e.firestore,vT),r=mT(e),i=oC(e.converter,t);return fC(n,[DT(PT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,mx.exists(!1))]).then(()=>r)}(pT(SI,"events"),{...t,createdAt:new LT("serverTimestamp")});console.log("Document written with ID: ",e.id),alert("Evento creado exitosamente")}n()}catch(i){console.error("Error saving event:",i),console.error("Error code:",i.code),console.error("Error message:",i.message);let e=h?"Error al actualizar el evento. ":"Error al crear el evento. ";"permission-denied"===i.code?e+="No tienes permisos para realizar esta acci\xf3n. Verifica las reglas de Firestore.":"unauthenticated"===i.code?e+="No est\xe1s autenticado. Intenta cerrar sesi\xf3n e iniciar sesi\xf3n nuevamente.":e+=`Detalles: ${i.message}`,alert(e)}}),className:"space-y-6",children:[(0,_I.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6",children:[(0,_I.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Informaci\xf3n B\xe1sica"}),(0,_I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Cliente *"}),(0,_I.jsxs)("select",{...a("clientType",{required:"El tipo de cliente es requerido"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[(0,_I.jsx)("option",{value:"empresa",children:"Empresa"}),(0,_I.jsx)("option",{value:"municipalidad",children:"Municipalidad"}),(0,_I.jsx)("option",{value:"particular",children:"Particular"}),(0,_I.jsx)("option",{value:"otro",children:"Otro"})]}),u.clientType&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:u.clientType.message})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre del Cliente/Instituci\xf3n *"}),(0,_I.jsx)("input",{type:"text",...a("clientName",{required:"El nombre del cliente es requerido"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Ej: MisTatas Ltda., Municipalidad de Santiago"}),u.clientName&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:u.clientName.message})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Persona de Contacto *"}),(0,_I.jsx)("input",{type:"text",...a("contactPerson",{required:"La persona de contacto es requerida"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Nombre de quien nos recibe"}),u.contactPerson&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:u.contactPerson.message})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Agendado por *"}),(0,_I.jsx)("input",{type:"text",...a("scheduledBy",{required:"El responsable es requerido"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Qui\xe9n en MisTatas gener\xf3 la reuni\xf3n"}),u.scheduledBy&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:u.scheduledBy.message})]})]}),(0,_I.jsxs)("div",{className:"mt-4",children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Motivo de la Reuni\xf3n *"}),(0,_I.jsx)("input",{type:"text",...a("title",{required:"El motivo es requerido"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Ej: Presentaci\xf3n de propuesta comercial"}),u.title&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:u.title.message})]})]}),(0,_I.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6",children:[(0,_I.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Fecha, Hora y Modalidad"}),(0,_I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha *"}),(0,_I.jsx)("input",{type:"date",...a("date",{required:"La fecha es requerida"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),u.date&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:u.date.message})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hora *"}),(0,_I.jsx)("input",{type:"time",...a("time",{required:"La hora es requerida"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),u.time&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:u.time.message})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estado *"}),(0,_I.jsxs)("select",{...a("status",{required:"El estado es requerido"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[(0,_I.jsx)("option",{value:"pendiente",children:"Pendiente"}),(0,_I.jsx)("option",{value:"confirmado",children:"Confirmado"}),(0,_I.jsx)("option",{value:"realizado",children:"Realizado"}),(0,_I.jsx)("option",{value:"cancelado",children:"Cancelado"})]}),u.status&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:u.status.message})]})]}),(0,_I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Plataforma *"}),(0,_I.jsxs)("select",{...a("platform",{required:"La plataforma es requerida"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[(0,_I.jsx)("option",{value:"presencial",children:"Presencial"}),(0,_I.jsx)("option",{value:"google-meet",children:"Google Meet"}),(0,_I.jsx)("option",{value:"zoom",children:"Zoom"}),(0,_I.jsx)("option",{value:"teams",children:"Microsoft Teams"}),(0,_I.jsx)("option",{value:"otro",children:"Otro"})]}),u.platform&&(0,_I.jsx)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:u.platform.message})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Recordatorio (minutos antes)"}),(0,_I.jsxs)("select",{...a("alertMinutesBefore",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[(0,_I.jsx)("option",{value:0,children:"Sin recordatorio"}),(0,_I.jsx)("option",{value:5,children:"5 minutos"}),(0,_I.jsx)("option",{value:15,children:"15 minutos"}),(0,_I.jsx)("option",{value:30,children:"30 minutos"}),(0,_I.jsx)("option",{value:60,children:"1 hora"}),(0,_I.jsx)("option",{value:120,children:"2 horas"}),(0,_I.jsx)("option",{value:1440,children:"1 d\xeda"})]})]})]})]}),(0,_I.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6",children:[(0,_I.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Ubicaci\xf3n y Enlaces"}),(0,_I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Direcci\xf3n del Evento"}),(0,_I.jsx)("input",{type:"text",...a("address"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Direcci\xf3n f\xedsica del evento"})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Link de Reuni\xf3n Online"}),(0,_I.jsx)("input",{type:"url",...a("meetingLink"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"https://meet.google.com/..."})]})]})]}),(0,_I.jsxs)("div",{className:"space-y-4",children:[(0,_I.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Notas y Seguimiento"}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descripci\xf3n / Notas Previas"}),(0,_I.jsx)("textarea",{...a("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Notas adicionales sobre la reuni\xf3n, preparaci\xf3n, objetivos..."})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Minuta Posterior a la Reuni\xf3n"}),(0,_I.jsx)("textarea",{...a("minutes"),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Resumen de lo conversado, acuerdos, pr\xf3ximos pasos, compromisos..."})]})]}),(0,_I.jsxs)("div",{className:"flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,_I.jsx)("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"}),(0,_I.jsx)("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50",children:d?h?"Actualizando...":"Guardando...":h?"Actualizar Evento":"Crear Evento"})]})]})]})})},qI=e=>{let{onClick:t}=e;return(0,_I.jsx)(qf.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"fixed bottom-6 right-6 bg-accent hover:bg-accent/90 text-primary rounded-full w-14 h-14 flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 z-40",children:(0,_I.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})};class WI{constructor(){}static getInstance(){return WI.instance||(WI.instance=new WI),WI.instance}isSupported(){return"Notification"in window}getPermission(){return this.isSupported()?Notification.permission:"denied"}async requestPermission(){if(!this.isSupported())return console.log("Notifications not supported"),"denied";const e=await Notification.requestPermission();return console.log("Notification permission:",e),e}showNotification(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log("\ud83d\udd14 Attempting to show notification:",{title:e,options:t}),"granted"===this.getPermission())try{const n={icon:"/logo192.png",badge:"/logo192.png",requireInteraction:!0,...t},r=new Notification(e,n);console.log("\u2705 Notification created successfully"),setTimeout(()=>{r.close(),console.log("\ud83d\udd15 Notification auto-closed")},1e4),r.onclick=()=>{console.log("\ud83d\udc46 Notification clicked"),window.focus(),r.close()},r.onerror=e=>{console.error("\u274c Notification error:",e)},r.onshow=()=>{console.log("\ud83d\udc41\ufe0f Notification shown successfully")},r.onclose=()=>{console.log("\ud83d\udd15 Notification closed")}}catch(n){console.error("\u274c Error creating notification:",n)}else console.log("\u274c Notification permission not granted:",this.getPermission())}scheduleEventNotification(e){const t=new Date(`${e.date}T${e.time}`),n=new Date(t.getTime()-60*e.alertMinutesBefore*1e3),r=new Date;if(n>r){const t=n.getTime()-r.getTime();console.log(`\ud83d\udcc5 Notification scheduled for ${n.toLocaleString()}`),setTimeout(()=>{this.showNotification("\ud83d\udd14 Recordatorio de Reuni\xf3n",{body:`${e.title} con ${e.client} en ${e.alertMinutesBefore} minutos`,tag:`event-${e.id}`,requireInteraction:!0})},t)}}scheduleAllEvents(e){e.forEach(e=>{e.alertMinutesBefore>0&&this.scheduleEventNotification(e)})}showTestNotification(){const e=new Date,t=e.toLocaleTimeString("es-ES"),n=e.toLocaleDateString("es-ES");console.log("\ud83e\uddea Starting test notification sequence..."),console.log("\ud83d\udcca Browser info:",{userAgent:navigator.userAgent,platform:navigator.platform,isLocalhost:"localhost"===window.location.hostname,protocol:window.location.protocol,permission:this.getPermission()}),this.showNotification("\ud83e\uddea Prueba de Notificaci\xf3n - Mistatas",{body:`Fecha: ${n}\nHora: ${t}\n\n\u2705 Sistema funcionando correctamente`,tag:"test-notification",requireInteraction:!0})}}WI.instance=void 0;const HI=WI.getInstance(),KI=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,o]=(0,i.useState)(null),{user:a}=BI();return(0,i.useEffect)(()=>{if(!a)return t([]),void r(!1);console.log(`[${(new Date).toLocaleTimeString()}] Setting up events listener for user:`,a.uid);const e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=nt(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||yT(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(yT(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof dT)d=aT(e.firestore,vT),h=kw(e._key.path),u={next:t=>{n[l]&&n[l](pC(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=aT(e,hT);d=aT(t.firestore,vT),h=t._query;const r=new hC(d);u={next:e=>{n[l]&&n[l](new uC(d,r,t,e))},error:n[l+1],complete:n[l+2]},YT(e._query)}return function(e,t,n,r){const i=new HS(r),s=new yS(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>hS(await eT(e),s)),()=>{i.Dc(),e.asyncQueue.enqueueAndForget(async()=>fS(await eT(e),s))}}(bT(d),h,c,u)}(function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof XT&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof eC).length,n=e.filter(e=>e instanceof ZT).length;if(t>1||t>0&&n>0)throw new Sv(Ev.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}(pT(SI,"events"),function(e,t,n){const r=t,i=QT("where",e);return ZT._create(i,r,n)}("userId","==",a.uid)),e=>{console.log(`[${(new Date).toLocaleTimeString()}] Firestore snapshot received, docs count:`,e.size);const n=[];e.forEach(e=>{const t=e.data();console.log(`[${(new Date).toLocaleTimeString()}] Event data:`,{id:e.id,...t}),n.push({id:e.id,...t})}),n.sort((e,t)=>e.date===t.date?e.time.localeCompare(t.time):e.date.localeCompare(t.date)),t(n),r(!1),o(null),"granted"===HI.getPermission()&&(HI.scheduleAllEvents(n),console.log(`\ud83d\udcc5 Scheduled notifications for ${n.length} events`))},e=>{console.error("Error fetching events:",e),o(e.message),r(!1)});return e},[a]),{events:e,loading:n,error:s}},GI=()=>{const{events:e,loading:t,error:n}=KI(),{deleteEvent:r}=zI(),[s,o]=(0,i.useState)(!1),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),d=()=>{l(null),o(!0)},h=e=>{l(e),o(!0)},f=e=>{u(e)},p=async e=>{try{await r(e)}catch(n){console.error("Error deleting event:",n),alert("Error al eliminar el evento. Int\xe9ntalo de nuevo.")}},m=(new Date).toISOString().split("T")[0],g=e.filter(e=>e.date>=m),y=e.filter(e=>e.date<m);return t?(0,_I.jsxs)("div",{className:"min-h-screen bg-background dark:bg-gray-900 transition-colors duration-300",children:[(0,_I.jsx)(VI,{}),(0,_I.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,_I.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}):(0,_I.jsxs)("div",{className:"min-h-screen bg-background dark:bg-gray-900 transition-colors duration-300",children:[(0,_I.jsx)(VI,{}),(0,_I.jsx)("nav",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-300",children:(0,_I.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_I.jsxs)("div",{className:"flex space-x-8 py-4",children:[(0,_I.jsx)(Ne,{to:"/",className:"text-primary dark:text-blue-400 font-medium border-b-2 border-primary dark:border-blue-400 pb-2",children:"Dashboard"}),(0,_I.jsx)(Ne,{to:"/seguimiento",className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-blue-400 font-medium pb-2 transition-colors duration-200",children:"Seguimiento de Clientes"}),(0,_I.jsx)(Ne,{to:"/configuraciones",className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-blue-400 font-medium pb-2 transition-colors duration-200",children:"Configuraciones"})]})})}),(0,_I.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,_I.jsxs)("div",{className:"mb-8",children:[(0,_I.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,_I.jsxs)("div",{children:[(0,_I.jsx)("h2",{className:"text-2xl font-bold text-primary dark:text-white mb-2",children:"Panel de Control"}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Gestiona tus reuniones y eventos empresariales"})]})}),n&&(0,_I.jsxs)("div",{className:"mt-4 p-4 bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-400 rounded-md",children:[(0,_I.jsx)("h4",{className:"font-medium",children:"Error al cargar eventos:"}),(0,_I.jsx)("p",{className:"text-sm mt-1",children:n})]})]}),(0,_I.jsxs)("section",{className:"mb-8",children:[(0,_I.jsxs)("h3",{className:"text-xl font-semibold text-primary dark:text-white mb-4 flex items-center",children:[(0,_I.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a4 4 0 118 0v4M5 7h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2z"})}),"Pr\xf3ximas Reuniones (",g.length,")"]}),0===g.length?(0,_I.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center transition-colors duration-300",children:[(0,_I.jsx)("div",{className:"text-gray-400 dark:text-gray-600 mb-4",children:(0,_I.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a4 4 0 118 0v4M5 7h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2z"})})}),(0,_I.jsx)("h4",{className:"text-lg font-medium text-gray-600 dark:text-gray-400 mb-2",children:"No hay reuniones programadas"}),(0,_I.jsx)("p",{className:"text-gray-500 dark:text-gray-500 mb-4",children:"Agrega tu primera reuni\xf3n para comenzar"}),(0,_I.jsx)("button",{onClick:d,className:"bg-primary text-white px-6 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Agregar Reuni\xf3n"})]}):(0,_I.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 justify-items-center",children:g.map(e=>(0,_I.jsx)(UI,{event:e,onClick:()=>f(e),onEdit:h,onDelete:p},e.id))})]}),y.length>0&&(0,_I.jsxs)("section",{children:[(0,_I.jsxs)("h3",{className:"text-xl font-semibold text-primary dark:text-white mb-4 flex items-center",children:[(0,_I.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Historial de Reuniones (",y.length,")"]}),(0,_I.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 justify-items-center",children:y.slice(0,8).map(e=>(0,_I.jsx)(UI,{event:e,onClick:()=>f(e),onEdit:h,onDelete:p},e.id))}),y.length>8&&(0,_I.jsx)("div",{className:"text-center mt-6",children:(0,_I.jsx)("button",{className:"text-primary hover:text-primary/80 text-sm font-medium bg-white/20 dark:bg-gray-800/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30 dark:border-gray-600/30 hover:bg-white/30 dark:hover:bg-gray-800/30 transition-all duration-200",children:"Ver m\xe1s reuniones anteriores"})})]})]}),(0,_I.jsx)(qI,{onClick:d}),(0,_I.jsx)(MI,{children:s&&(0,_I.jsx)($I,{onClose:()=>{o(!1),l(null)},onSuccess:()=>{o(!1),l(null)},editEvent:a})}),(0,_I.jsx)(MI,{children:c&&(0,_I.jsx)(qf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>u(null),children:(0,_I.jsxs)(qf.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 max-h-[80vh] overflow-y-auto",children:[(0,_I.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,_I.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Detalles de la Reuni\xf3n"}),(0,_I.jsx)("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,_I.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,_I.jsxs)("div",{className:"space-y-4",children:[(0,_I.jsxs)("div",{children:[(0,_I.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:c.title}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:c.clientName||c.client})]}),(0,_I.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,_I.jsxs)("div",{children:[(0,_I.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Fecha:"}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:c.date})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Hora:"}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:c.time})]}),c.platform&&(0,_I.jsxs)("div",{children:[(0,_I.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Modalidad:"}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400 capitalize",children:c.platform.replace("-"," ")})]}),c.status&&(0,_I.jsxs)("div",{children:[(0,_I.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Estado:"}),(0,_I.jsx)("p",{className:"capitalize font-medium "+("confirmado"===c.status?"text-green-600":"realizado"===c.status?"text-blue-600":"cancelado"===c.status?"text-red-600":"text-yellow-600"),children:c.status})]})]}),c.contactPerson&&(0,_I.jsxs)("div",{children:[(0,_I.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Persona de Contacto:"}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:c.contactPerson})]}),c.notes&&(0,_I.jsxs)("div",{children:[(0,_I.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Notas:"}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:c.notes})]}),c.meetingLink&&(0,_I.jsxs)("div",{children:[(0,_I.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Enlace de Reuni\xf3n:"}),(0,_I.jsx)("a",{href:c.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline block mt-1",children:"Unirse a la reuni\xf3n"})]})]}),(0,_I.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,_I.jsx)("button",{onClick:()=>{u(null),h(c)},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Editar"}),(0,_I.jsx)("button",{onClick:()=>u(null),className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cerrar"})]})]})})})]})},QI=()=>{const{events:e}=KI(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)("todos"),[o,a]=(0,i.useState)(""),l=(0,i.useMemo)(()=>{const t=new Map;return e.forEach(e=>{const n=e.clientName||e.client;t.has(n)||t.set(n,{clientName:n,clientType:e.clientType||"empresa",contactPerson:e.contactPerson||"",totalMeetings:0,upcomingMeetings:0,completedMeetings:0,events:[]});const r=t.get(n);r.events.push(e),r.totalMeetings++;const i=new Date(`${e.date}T${e.time}`);i>new Date?r.upcomingMeetings++:(r.completedMeetings++,(!r.lastMeeting||i>r.lastMeeting)&&(r.lastMeeting=i))}),Array.from(t.values()).sort((e,t)=>t.totalMeetings-e.totalMeetings)},[e]),c=(0,i.useMemo)(()=>l.filter(e=>{const t="todos"===r||e.clientType===r,n=e.clientName.toLowerCase().includes(o.toLowerCase())||e.contactPerson.toLowerCase().includes(o.toLowerCase());return t&&n}),[l,r,o]),u=e=>{const t={empresa:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",municipalidad:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",particular:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",otro:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"};return t[e]||t.otro},d=e=>{const t={empresa:"\ud83c\udfe2",municipalidad:"\ud83c\udfdb\ufe0f",particular:"\ud83d\udc64",otro:"\ud83d\udccb"};return t[e]||t.otro};return(0,_I.jsxs)("div",{className:"min-h-screen bg-background dark:bg-gray-900 transition-colors duration-300",children:[(0,_I.jsx)(VI,{}),(0,_I.jsx)("nav",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-300",children:(0,_I.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_I.jsxs)("div",{className:"flex space-x-8 py-4",children:[(0,_I.jsx)(Ne,{to:"/",className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-blue-400 font-medium pb-2 transition-colors duration-200",children:"Dashboard"}),(0,_I.jsx)(Ne,{to:"/seguimiento",className:"text-primary dark:text-blue-400 font-medium border-b-2 border-primary dark:border-blue-400 pb-2",children:"Seguimiento de Clientes"}),(0,_I.jsx)(Ne,{to:"/configuraciones",className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-blue-400 font-medium pb-2 transition-colors duration-200",children:"Configuraciones"})]})})}),(0,_I.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,_I.jsxs)("div",{className:"mb-8",children:[(0,_I.jsx)("h2",{className:"text-2xl font-bold text-primary dark:text-white mb-2",children:"Seguimiento por Cliente"}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Gestiona y hace seguimiento de todos tus clientes y sus reuniones"})]}),(0,_I.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[(0,_I.jsx)("div",{className:"flex-1",children:(0,_I.jsx)("input",{type:"text",placeholder:"Buscar por cliente o persona de contacto...",value:o,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})}),(0,_I.jsxs)("select",{value:r,onChange:e=>s(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[(0,_I.jsx)("option",{value:"todos",children:"Todos los tipos"}),(0,_I.jsx)("option",{value:"empresa",children:"Empresas"}),(0,_I.jsx)("option",{value:"municipalidad",children:"Municipalidades"}),(0,_I.jsx)("option",{value:"particular",children:"Particulares"}),(0,_I.jsx)("option",{value:"otro",children:"Otros"})]})]}),(0,_I.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,_I.jsxs)("div",{className:"lg:col-span-1",children:[(0,_I.jsxs)("h3",{className:"text-lg font-semibold text-primary dark:text-white mb-4",children:["Clientes (",c.length,")"]}),(0,_I.jsx)("div",{className:"space-y-3 max-h-[70vh] overflow-y-auto",children:c.map(e=>(0,_I.jsxs)(qf.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(e),className:`p-4 rounded-lg cursor-pointer transition-all duration-200 ${(null===t||void 0===t?void 0:t.clientName)===e.clientName?"bg-accent/20 ring-2 ring-accent":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"} shadow-md`,children:[(0,_I.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,_I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_I.jsx)("span",{className:"text-xl",children:d(e.clientType)}),(0,_I.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:e.clientName})]}),(0,_I.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(e.clientType)}`,children:e.clientType})]}),e.contactPerson&&(0,_I.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Contacto: ",e.contactPerson]}),(0,_I.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,_I.jsxs)("span",{children:["Total: ",e.totalMeetings]}),(0,_I.jsxs)("span",{children:["Pr\xf3ximas: ",e.upcomingMeetings]}),(0,_I.jsxs)("span",{children:["Realizadas: ",e.completedMeetings]})]})]},e.clientName))})]}),(0,_I.jsx)("div",{className:"lg:col-span-2",children:(0,_I.jsx)(MI,{mode:"wait",children:t?(0,_I.jsxs)(qf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,_I.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,_I.jsxs)("div",{children:[(0,_I.jsxs)("h3",{className:"text-xl font-bold text-primary dark:text-white flex items-center gap-2",children:[(0,_I.jsx)("span",{className:"text-2xl",children:d(t.clientType)}),t.clientName]}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t.contactPerson&&`Contacto: ${t.contactPerson}`})]}),(0,_I.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u(t.clientType)}`,children:t.clientType})]}),(0,_I.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,_I.jsxs)("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,_I.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.totalMeetings}),(0,_I.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Total"})]}),(0,_I.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,_I.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.upcomingMeetings}),(0,_I.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Pr\xf3ximas"})]}),(0,_I.jsxs)("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,_I.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:t.completedMeetings}),(0,_I.jsx)("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Realizadas"})]})]}),(0,_I.jsxs)("div",{children:[(0,_I.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Historial de Reuniones"}),(0,_I.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.events.sort((e,t)=>new Date(t.date+"T"+t.time).getTime()-new Date(e.date+"T"+e.time).getTime()).map(e=>{const t=new Date(`${e.date}T${e.time}`)<new Date;return(0,_I.jsxs)("div",{className:"p-4 rounded-lg border-l-4 "+(t?"border-gray-400 bg-gray-50 dark:bg-gray-700/50":"border-accent bg-accent/5 dark:bg-accent/10"),children:[(0,_I.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,_I.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,_I.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("realizado"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"cancelado"===e.status?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"confirmado"===e.status?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"),children:e.status})]}),(0,_I.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,_I.jsxs)("p",{children:["\ud83d\udcc5 ",e.date," a las ",e.time]}),e.platform&&(0,_I.jsxs)("p",{children:["\ud83d\udcbb ",e.platform]}),e.scheduledBy&&(0,_I.jsxs)("p",{children:["\ud83d\udc64 Agendado por: ",e.scheduledBy]}),e.notes&&(0,_I.jsxs)("p",{className:"mt-2",children:["\ud83d\udcdd ",e.notes]}),e.minutes&&(0,_I.jsxs)("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[(0,_I.jsx)("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Minuta:"}),(0,_I.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:e.minutes})]})]})]},e.id)})})]})]},t.clientName):(0,_I.jsxs)(qf.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 text-center",children:[(0,_I.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc65"}),(0,_I.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Selecciona un cliente"}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Haz clic en un cliente de la lista para ver su historial completo de reuniones"})]})})})]})]})]})},YI={apiKey:"AIzaSyBm_GjTzPK5Y9zQYgH8Y8ZZEGx_y8XlMq8",authDomain:"mistatas-agenda.firebaseapp.com",projectId:"mistatas-agenda",storageBucket:"mistatas-agenda.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:abc123def456"};function XI(){const e=function(){const[e,t]=(0,i.useState)({granted:!1,denied:!1,default:!0}),[n,r]=(0,i.useState)(null);(0,i.useEffect)(()=>{s(),o()},[]);const s=async()=>{try{if(!("Notification"in window))return void console.warn("Este navegador no soporta notificaciones");if(!await vI())return void console.warn("Firebase Messaging no es compatible");const e=bI(mn(YI));r(e),xI(e,e=>{console.log("Mensaje recibido en primer plano:",e),e.notification&&new Notification(e.notification.title||"MisTatas",{body:e.notification.body,icon:"/agenda/logo192.svg",badge:"/agenda/logo192.svg",requireInteraction:!0,tag:"mistatas-foreground"})})}catch(e){console.error("Error inicializando notificaciones:",e)}},o=()=>{if("Notification"in window){const e=Notification.permission;t({granted:"granted"===e,denied:"denied"===e,default:"default"===e})}},a=async()=>{try{if(!("Notification"in window))return console.error("Notificaciones no soportadas en este navegador"),!1;if("granted"===Notification.permission)return console.log("Permisos ya concedidos"),o(),!0;if("denied"===Notification.permission)return console.warn("Permisos denegados permanentemente"),o(),!1;console.log("Solicitando permisos de notificaci\xf3n...");const e=await Notification.requestPermission();return o(),"granted"===e?(console.log("Permisos de notificaci\xf3n concedidos exitosamente"),!0):(console.log("Permisos de notificaci\xf3n denegados por el usuario"),!1)}catch(e){return console.error("Error solicitando permisos de notificaci\xf3n:",e),!1}};return{permission:e,requestPermission:a,sendTestNotification:async()=>{try{if(!("Notification"in window))return console.error("Notificaciones no soportadas en este navegador"),!1;if(!e.granted&&(console.log("Permisos no concedidos, solicitando..."),!await a()))return console.log("No se pudieron obtener permisos"),!1;console.log("Enviando notificaci\xf3n de prueba...");const t=new Notification("\ud83d\udd14 Prueba de Notificaci\xf3n - MisTatas",{body:"Las notificaciones est\xe1n funcionando correctamente en tu dispositivo",icon:"/agenda/logo192.svg",badge:"/agenda/logo192.svg",requireInteraction:!0,silent:!1,vibrate:[200,100,200],tag:"test-notification-"+Date.now(),timestamp:Date.now(),data:{type:"test",timestamp:Date.now()}});return t.onclick=e=>{console.log("Notificaci\xf3n de prueba clickeada"),e.preventDefault(),t.close(),window.focus&&window.focus()},t.onclose=()=>{console.log("Notificaci\xf3n de prueba cerrada")},t.onerror=e=>{console.error("Error en notificaci\xf3n de prueba:",e)},t.onshow=()=>{console.log("Notificaci\xf3n de prueba mostrada exitosamente")},!0}catch(t){return console.error("Error enviando notificaci\xf3n de prueba:",t),!1}},scheduleReminder:async(t,n,r)=>{try{return!(!e.granted&&!await a())&&(setTimeout(()=>{const e=new Notification(t,{body:n,icon:"/agenda/logo192.svg",badge:"/agenda/logo192.svg",requireInteraction:!0,vibrate:[200,100,200,100,200],tag:"scheduled-reminder"});e.onclick=()=>{window.focus(),e.close()}},r),!0)}catch(i){return console.error("Error programando recordatorio:",i),!1}},getToken:async()=>{try{if(!n)return console.warn("Firebase Messaging no inicializado"),null;const e=await wI(n);return e?(console.log("Token FCM obtenido:",e),e):(console.log("No se pudo obtener el token FCM"),null)}catch(e){return console.error("Error obteniendo token FCM:",e),null}}}}(),t=function(){const[e,t]=(0,i.useState)({canInstall:!1,installed:!1,platform:"unsupported"}),[n,r]=(0,i.useState)(null);(0,i.useEffect)(()=>{o(),s();const e=e=>{e.preventDefault(),r(e),t(e=>({...e,canInstall:!0}))},n=()=>{t(e=>({...e,installed:!0,canInstall:!1})),r(null)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",n),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",n)}},[]);const s=()=>{const e=window.navigator.userAgent.toLowerCase(),n=/iphone|ipad|ipod/.test(e),r=/android/.test(e);let i="unsupported";n?i="ios":r?i="android":!n&&!r&&(i="desktop"),t(e=>({...e,platform:i}))},o=()=>{const e=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");t(t=>({...t,installed:e}))};return{installState:e,install:async()=>{try{if(!n)return console.log("No hay prompt de instalaci\xf3n disponible"),!1;const e=await n.prompt();return console.log("Resultado de instalaci\xf3n:",e),"accepted"===e.outcome?(console.log("Usuario acept\xf3 la instalaci\xf3n"),r(null),t(e=>({...e,canInstall:!1})),!0):(console.log("Usuario rechaz\xf3 la instalaci\xf3n"),!1)}catch(e){return console.error("Error durante la instalaci\xf3n:",e),!1}},checkInstallability:o}}();return{notifications:e,pwa:t,setupComplete:async()=>{try{console.log("\ud83d\ude80 Iniciando configuraci\xf3n PWA completa...");let i=!1;const s="serviceWorker"in navigator,o="Notification"in window;if(console.log("Verificaci\xf3n de soporte:",{serviceWorker:s,notifications:o}),o){console.log("Solicitando permisos de notificaci\xf3n...");const t=await e.requestPermission();console.log("Permisos de notificaci\xf3n:",t?"concedidos":"denegados"),i=t}else console.warn("Notificaciones no soportadas en este dispositivo");try{console.log("Intentando obtener token FCM...");const t=await e.getToken();console.log("Token FCM:",t?"obtenido exitosamente":"no disponible")}catch(n){console.log("Token FCM no disponible (normal en desarrollo):",n)}if(console.log("Verificando instalabilidad PWA..."),t.checkInstallability(),s)try{const e=await navigator.serviceWorker.getRegistration();console.log("Service Worker:",e?"registrado":"no registrado")}catch(r){console.warn("Error verificando Service Worker:",r)}const a={notifications:i,serviceWorker:s,installable:t.installState.canInstall,installed:t.installState.installed,platform:t.installState.platform};return console.log("\ud83c\udfaf Setup PWA resultado final:",a),i}catch(i){return console.error("\u274c Error cr\xedtico en setup PWA:",i),!1}}}}const JI=()=>{const{notifications:e,pwa:t,setupComplete:n}=XI(),[r,s]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),h=ne();(0,i.useEffect)(()=>{const e=localStorage.getItem("theme");s("dark"===e)},[]);return(0,_I.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,_I.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,_I.jsxs)(qf.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,_I.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"\u2699\ufe0f Configuraciones PWA"}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Gestiona la configuraci\xf3n de tu Aplicaci\xf3n Web Progresiva"})]}),(0,_I.jsxs)(qf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6",children:[(0,_I.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:"\ud83d\ude80 Configuraci\xf3n Inicial"}),(0,_I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_I.jsxs)(qf.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{d(!0);try{if(console.log("Iniciando configuraci\xf3n completa..."),!e||!t||!n)throw new Error("Servicios PWA no disponibles");await n()?alert("\xa1Configuraci\xf3n completada exitosamente! Tu aplicaci\xf3n PWA est\xe1 lista."):alert("Error en la configuraci\xf3n. Por favor, intenta nuevamente.")}catch(r){console.error("Error en configuraci\xf3n completa:",r),alert(`Error al completar la configuraci\xf3n: ${r instanceof Error?r.message:"Error desconocido"}`)}finally{d(!1)}},disabled:u,className:"p-4 rounded-lg border-2 transition-all duration-300 "+(u?"border-gray-300 bg-gray-100 cursor-not-allowed":"border-blue-300 bg-blue-50 hover:bg-blue-100 dark:border-blue-600 dark:bg-blue-900 dark:hover:bg-blue-800"),children:[(0,_I.jsx)("div",{className:"flex items-center justify-center mb-2",children:u?(0,_I.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}):(0,_I.jsx)("span",{className:"text-3xl",children:"\u2705"})}),(0,_I.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:u?"Configurando...":"Configurar Todo"}),(0,_I.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Configura autom\xe1ticamente todas las funciones PWA"})]}),(0,_I.jsxs)(qf.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{a(!0);try{if(console.log("Solicitando permisos de notificaci\xf3n..."),null===e||void 0===e||!e.requestPermission)throw new Error("Funci\xf3n de permisos no disponible");await e.requestPermission()?alert("\xa1Permisos de notificaci\xf3n habilitados correctamente!"):alert("Error al solicitar permisos. Por favor, intenta nuevamente.")}catch(t){console.error("Error al solicitar permisos:",t),alert(`Error al habilitar notificaciones: ${t instanceof Error?t.message:"Error desconocido"}`)}finally{a(!1)}},disabled:o,className:"p-4 rounded-lg border-2 transition-all duration-300 "+(o?"border-gray-300 bg-gray-100 cursor-not-allowed":"border-green-300 bg-green-50 hover:bg-green-100 dark:border-green-600 dark:bg-green-900 dark:hover:bg-green-800"),children:[(0,_I.jsx)("div",{className:"flex items-center justify-center mb-2",children:o?(0,_I.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}):(0,_I.jsx)("span",{className:"text-3xl",children:"\ud83d\udd14"})}),(0,_I.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:o?"Habilitando...":"Habilitar Notificaciones"}),(0,_I.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Solicita permisos para recibir notificaciones"})]})]}),(0,_I.jsx)("div",{className:"mt-4",children:(0,_I.jsxs)(qf.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{c(!0);try{if(console.log("Enviando notificaci\xf3n de prueba..."),null===e||void 0===e||!e.sendTestNotification)throw new Error("Funci\xf3n de notificaci\xf3n de prueba no disponible");await e.sendTestNotification()?alert("\xa1Notificaci\xf3n de prueba enviada! Verifica tu dispositivo."):alert("Error al enviar notificaci\xf3n. Por favor, intenta nuevamente.")}catch(t){console.error("Error al enviar notificaci\xf3n:",t),alert(`Error al enviar notificaci\xf3n de prueba: ${t instanceof Error?t.message:"Error desconocido"}`)}finally{c(!1)}},disabled:l,className:"w-full p-4 rounded-lg border-2 transition-all duration-300 "+(l?"border-gray-300 bg-gray-100 cursor-not-allowed":"border-purple-300 bg-purple-50 hover:bg-purple-100 dark:border-purple-600 dark:bg-purple-900 dark:hover:bg-purple-800"),children:[(0,_I.jsx)("div",{className:"flex items-center justify-center mb-2",children:l?(0,_I.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}):(0,_I.jsx)("span",{className:"text-3xl",children:"\ud83e\uddea"})}),(0,_I.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:l?"Enviando...":"Probar Notificaci\xf3n"}),(0,_I.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Env\xeda una notificaci\xf3n de prueba"})]})})]}),(0,_I.jsxs)(qf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6",children:[(0,_I.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:"\ud83c\udfa8 Tema y Personalizaci\xf3n"}),(0,_I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_I.jsxs)("div",{children:[(0,_I.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Modo Oscuro"}),(0,_I.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Cambia entre tema claro y oscuro"})]}),(0,_I.jsx)(qf.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const e=r?"light":"dark";s(!r),localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark",!r)},className:"relative inline-flex h-8 w-16 items-center rounded-full transition-colors "+(r?"bg-blue-600":"bg-gray-300"),children:(0,_I.jsx)("span",{className:"inline-block h-6 w-6 transform rounded-full bg-white transition-transform "+(r?"translate-x-8":"translate-x-1")})})]})]}),(0,_I.jsxs)(qf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,_I.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:"\ud83d\udd0d Diagn\xf3stico"}),(0,_I.jsxs)(qf.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{console.log("Navegando a diagn\xf3stico..."),h("/diagnostico")},className:"w-full p-4 rounded-lg border-2 border-orange-300 bg-orange-50 hover:bg-orange-100 dark:border-orange-600 dark:bg-orange-900 dark:hover:bg-orange-800 transition-all duration-300",children:[(0,_I.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,_I.jsx)("span",{className:"text-3xl",children:"\ud83e\ude7a"})}),(0,_I.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Abrir Diagn\xf3stico"}),(0,_I.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Verifica el estado de todas las funciones PWA"})]})]})]})})},ZI=()=>{const{notifications:e,pwa:t,setupComplete:n}=XI(),[r,s]=(0,i.useState)([]),[o,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)("pending"),u=async()=>{a(!0);const n=[];try{const e="serviceWorker"in navigator,t=null!==document.querySelector('link[rel="manifest"]');e&&t?n.push({test:"Soporte PWA",status:"success",message:"Service Worker y Manifest detectados",details:`SW: ${e}, Manifest: ${t}`}):n.push({test:"Soporte PWA",status:"error",message:"Faltan componentes PWA b\xe1sicos",details:`SW: ${e}, Manifest: ${t}`})}catch(o){n.push({test:"Soporte PWA",status:"error",message:"Error verificando PWA",details:String(o)})}try{const e=await navigator.serviceWorker.getRegistration();e?n.push({test:"Service Worker",status:"success",message:"Service Worker registrado y activo",details:`Scope: ${e.scope}`}):n.push({test:"Service Worker",status:"warning",message:"Service Worker no registrado",details:"Intenta recargar la p\xe1gina"})}catch(o){n.push({test:"Service Worker",status:"error",message:"Error verificando Service Worker",details:String(o)})}try{const t="Notification"in window,r=e.permission;t?r.granted?n.push({test:"Notificaciones",status:"success",message:"Notificaciones habilitadas",details:"Permisos concedidos correctamente"}):r.denied?n.push({test:"Notificaciones",status:"error",message:"Notificaciones bloqueadas",details:"Necesitas habilitar notificaciones en configuraci\xf3n del navegador"}):n.push({test:"Notificaciones",status:"warning",message:"Permisos no solicitados",details:"Usa el bot\xf3n para solicitar permisos"}):n.push({test:"Notificaciones",status:"error",message:"Notificaciones no soportadas",details:"Este navegador no soporta notificaciones"})}catch(o){n.push({test:"Notificaciones",status:"error",message:"Error verificando notificaciones",details:String(o)})}try{const e=t.installState.platform,r=t.installState.canInstall;t.installState.installed?n.push({test:"Instalaci\xf3n PWA",status:"success",message:"App ya est\xe1 instalada",details:`Plataforma: ${e}`}):r?n.push({test:"Instalaci\xf3n PWA",status:"success",message:"App puede ser instalada",details:`Plataforma: ${e}, usa el bot\xf3n de instalaci\xf3n`}):n.push({test:"Instalaci\xf3n PWA",status:"warning",message:"Instalaci\xf3n no disponible actualmente",details:`Plataforma: ${e}, recarga la p\xe1gina si es necesario`})}catch(o){n.push({test:"Instalaci\xf3n PWA",status:"error",message:"Error verificando instalaci\xf3n",details:String(o)})}try{const e=navigator.onLine,t=navigator.connection;e?n.push({test:"Conectividad",status:"success",message:"Conexi\xf3n a internet activa",details:t?`Tipo: ${t.effectiveType}`:"Detalles no disponibles"}):n.push({test:"Conectividad",status:"warning",message:"Sin conexi\xf3n a internet",details:"La app deber\xeda funcionar offline con cach\xe9"})}catch(o){n.push({test:"Conectividad",status:"error",message:"Error verificando conectividad",details:String(o)})}try{const e=await caches.keys();e.length>0?n.push({test:"Cach\xe9 Offline",status:"success",message:"Archivos en cach\xe9 disponibles",details:`Cach\xe9s: ${e.join(", ")}`}):n.push({test:"Cach\xe9 Offline",status:"warning",message:"No hay archivos en cach\xe9",details:"La app podr\xeda no funcionar offline"})}catch(o){n.push({test:"Cach\xe9 Offline",status:"error",message:"Error verificando cach\xe9",details:String(o)})}s(n);const r=n.filter(e=>"error"===e.status).length,i=n.filter(e=>"warning"===e.status).length;c(0===r&&0===i?"success":0===r?"partial":"error"),a(!1)},d=e=>{switch(e){case"success":return"\u2705";case"warning":return"\u26a0\ufe0f";case"error":return"\u274c";case"pending":return"\u23f3"}},h=e=>{switch(e){case"success":return"text-green-600 dark:text-green-400";case"warning":return"text-yellow-600 dark:text-yellow-400";case"error":return"text-red-600 dark:text-red-400";case"pending":return"text-gray-600 dark:text-gray-400"}};return(0,i.useEffect)(()=>{u()},[]),(0,_I.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F2EAE2] to-[#DDD6C7] dark:from-gray-900 dark:to-gray-800 p-4",children:(0,_I.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,_I.jsxs)(qf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6 mb-6",children:[(0,_I.jsx)("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"\ud83d\udd27 Diagn\xf3stico PWA"}),(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Verifica el estado de la Progressive Web App y las notificaciones"}),(0,_I.jsxs)("div",{className:"bg-white/40 dark:bg-gray-700/40 rounded-xl p-4 mb-6",children:[(0,_I.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:"Estado General"}),(0,_I.jsx)("p",{className:`text-lg ${h("pending"===l?"pending":"success")}`,children:(()=>{switch(l){case"success":return"\ud83c\udf89 \xa1PWA funcionando perfectamente!";case"partial":return"\u26a1 PWA funcional con algunos avisos";case"error":return"\ud83d\udea8 PWA tiene problemas que requieren atenci\xf3n";case"pending":return"\ud83d\udd0d Ejecuta el diagn\xf3stico para verificar el estado"}})()})]}),(0,_I.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,_I.jsx)(qf.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,disabled:o,className:"bg-[#184347] hover:bg-[#2a5f65] text-white px-6 py-3 rounded-xl font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"\ud83d\udd04 Ejecutando...":"\ud83d\udd0d Ejecutar Diagn\xf3stico"}),(0,_I.jsx)(qf.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e.sendTestNotification,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"\ud83d\udd14 Probar Notificaci\xf3n"}),t.installState.canInstall&&(0,_I.jsx)(qf.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t.install,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"\ud83d\udcf1 Instalar App"})]})]}),(0,_I.jsxs)(qf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:[(0,_I.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"\ud83d\udcca Resultados del Diagn\xf3stico"}),(0,_I.jsx)("div",{className:"space-y-4",children:r.map((e,t)=>(0,_I.jsx)(qf.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"bg-white/40 dark:bg-gray-700/40 rounded-xl p-4",children:(0,_I.jsx)("div",{className:"flex items-start justify-between",children:(0,_I.jsxs)("div",{className:"flex-1",children:[(0,_I.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,_I.jsx)("span",{className:"text-2xl",children:d(e.status)}),(0,_I.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-white",children:e.test})]}),(0,_I.jsx)("p",{className:`font-medium ${h(e.status)}`,children:e.message}),e.details&&(0,_I.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.details})]})})},t))}),0===r.length&&!o&&(0,_I.jsx)("div",{className:"text-center py-8",children:(0,_I.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Ejecuta el diagn\xf3stico para ver los resultados"})})]})]})})},eN=e=>{let{notification:t,onClose:n}=e;return i.useEffect(()=>{if(t){const e=setTimeout(()=>{n()},5e3);return()=>clearTimeout(e)}},[t,n]),(0,_I.jsx)(MI,{children:t&&(0,_I.jsx)(qf.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-4 right-4 z-50 max-w-sm",children:(0,_I.jsx)("div",{className:"bg-glass-bg backdrop-blur-lg border border-glass-border rounded-lg shadow-2xl p-4 text-primary",children:(0,_I.jsxs)("div",{className:"flex items-start gap-3",children:[(0,_I.jsx)("div",{className:"flex-shrink-0",children:(0,_I.jsx)("span",{className:"text-2xl",children:"\ud83d\udd14"})}),(0,_I.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_I.jsx)("h4",{className:"text-sm font-semibold text-primary truncate",children:t.title}),(0,_I.jsx)("p",{className:"text-sm text-primary/80 mt-1",children:t.body})]}),(0,_I.jsx)("button",{onClick:n,className:"flex-shrink-0 text-primary/60 hover:text-primary transition-colors",children:(0,_I.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})})},tN=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)("default");(0,i.useEffect)(()=>{r(HI.getPermission());(async()=>{try{const e=await new Promise(e=>{TI?xI(TI,t=>{console.log("Message received in foreground:",t),e(t)}):e(null)});if(e&&e.notification){const n={title:e.notification.title||"Mistatas",body:e.notification.body||"Nueva notificaci\xf3n",icon:e.notification.icon,data:e.data};t(n),"granted"===HI.getPermission()&&HI.showNotification(n.title,{body:n.body,icon:n.icon,tag:"firebase-message"})}}catch(e){console.log("Error setting up notification listener:",e)}})()},[]);return{notification:e,permission:n,clearNotification:()=>{t(null)},requestPermission:async()=>{const e=await HI.requestPermission();return r(e),"granted"===e&&(HI.showTestNotification(),!0)},showNotification:(e,r)=>{t({title:e,body:r}),"granted"===n&&HI.showNotification(e,{body:r})}}};const nN=function(){const{user:e,loading:t}=BI(),{notification:n,clearNotification:r}=tN();return t?(0,_I.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,_I.jsxs)("div",{className:"text-center",children:[(0,_I.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,_I.jsx)("p",{className:"text-primary font-medium",children:"Cargando Mistatas..."})]})}):(0,_I.jsx)(jI,{children:(0,_I.jsx)(Ce,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,_I.jsxs)("div",{className:"App",children:[(0,_I.jsxs)(we,{children:[(0,_I.jsx)(ve,{path:"/login",element:e?(0,_I.jsx)(ye,{to:"/",replace:!0}):(0,_I.jsx)(II,{})}),(0,_I.jsx)(ve,{path:"/",element:e?(0,_I.jsx)(GI,{}):(0,_I.jsx)(ye,{to:"/login",replace:!0})}),(0,_I.jsx)(ve,{path:"/seguimiento",element:e?(0,_I.jsx)(QI,{}):(0,_I.jsx)(ye,{to:"/login",replace:!0})}),(0,_I.jsx)(ve,{path:"/configuraciones",element:e?(0,_I.jsx)(JI,{}):(0,_I.jsx)(ye,{to:"/login",replace:!0})}),(0,_I.jsx)(ve,{path:"/diagnostico",element:e?(0,_I.jsx)(ZI,{}):(0,_I.jsx)(ye,{to:"/login",replace:!0})}),(0,_I.jsx)(ve,{path:"*",element:(0,_I.jsx)(ye,{to:"/",replace:!0})})]}),(0,_I.jsx)(eN,{notification:n,onClose:r})]})})})},rN=o.createRoot(document.getElementById("root"));(async()=>{if(console.log("Requesting notification permission..."),!("Notification"in window))return console.log("This browser does not support notifications"),null;if(!TI)return console.log("Firebase Messaging not available"),null;try{const t=await Notification.requestPermission();if(console.log("Notification permission:",t),"granted"!==t)return"denied"===t?(console.log("\u274c Notification permission denied by user"),null):(console.log("\u23f3 Notification permission not granted yet"),null);try{const e=await wI(TI,{vapidKey:"BLuosnrH3h1VkefWciI-sp_c7TqxSgzFQzjOJTfpHP2HTkoG9gnD6NqhtKs_lBwg9-hf3HLfPmPxcGA8YwTUw"});return console.log("FCM Registration token:",e),e?(console.log("\u2705 Push notifications enabled successfully"),e):(console.log("\u274c Failed to get FCM token"),null)}catch(e){return console.error("Error getting FCM token:",e),"messaging/invalid-vapid-key"===(null===e||void 0===e?void 0:e.code)&&console.error("\u274c Invalid VAPID key. Please check your Firebase Console."),null}}catch(t){return console.error("Error requesting notification permission:",t),null}})(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/agenda/sw.js").then(e=>{console.log("PWA Service Worker registered successfully:",e.scope),e.addEventListener("updatefound",()=>{console.log("Nueva versi\xf3n del Service Worker disponible");const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&console.log("Nueva versi\xf3n del Service Worker instalada")})})}).catch(e=>{console.log("PWA Service Worker registration failed:",e)})}),rN.render((0,_I.jsx)(i.StrictMode,{children:(0,_I.jsx)(nN,{})}))})();